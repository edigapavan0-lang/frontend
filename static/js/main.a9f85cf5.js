/*! For license information please see main.a9f85cf5.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var a=n(43),s=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,r=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,a)&&!o.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:s,type:e,key:c,ref:d,props:i,_owner:r.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,f={};function g(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var y=b.prototype=new x;y.constructor=b,v(y,g.prototype),y.isPureReactComponent=!0;var N=Array.isArray,j=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var s,i={},l=null,r=null;if(null!=t)for(s in void 0!==t.ref&&(r=t.ref),void 0!==t.key&&(l=""+t.key),t)j.call(t,s)&&!k.hasOwnProperty(s)&&(i[s]=t[s]);var o=arguments.length-2;if(1===o)i.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps)void 0===i[s]&&(i[s]=o[s]);return{$$typeof:n,type:e,key:l,ref:r,props:i,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(e,t,s,i,l){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var o=!1;if(null===e)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return l=l(o=e),e=""===i?"."+A(o,0):i,N(l)?(s="",null!=e&&(s=e.replace(I,"$&/")+"/"),D(l,t,s,"",function(e){return e})):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,s+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(I,"$&/")+"/")+e)),t.push(l)),1;if(o=0,i=""===i?".":i+":",N(e))for(var c=0;c<e.length;c++){var d=i+A(r=e[c],c);o+=D(r,t,s,d,l)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(r=e.next()).done;)o+=D(r=r.value,t,s,d=i+A(r,c++),l);else if("object"===r)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function E(e,t,n){if(null==e)return e;var a=[],s=0;return D(e,a,"","",function(e){return t.call(n,e,s++)}),a}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},R={transition:null},F={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:R,ReactCurrentOwner:w};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=l,t.PureComponent=b,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.act=O,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=v({},e.props),i=e.key,l=e.ref,r=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,r=w.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:n,type:e.type,key:i,ref:l,props:s,_owner:r}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,s=e[a];if(!(0<i(s,t)))break e;e[a]=t,e[n]=s,n=a}}function a(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,s=e.length,l=s>>>1;a<l;){var r=2*(a+1)-1,o=e[r],c=r+1,d=e[c];if(0>i(o,n))c<s&&0>i(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[r]=n,a=r);else{if(!(c<s&&0>i(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var r=Date,o=r.now();t.unstable_now=function(){return r.now()-o}}var c=[],d=[],u=1,h=null,m=3,p=!1,v=!1,f=!1,g="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function N(e){if(f=!1,y(e),!v)if(null!==a(c))v=!0,R(j);else{var t=a(d);null!==t&&F(N,t.startTime-e)}}function j(e,n){v=!1,f&&(f=!1,x(C),C=-1),p=!0;var i=m;try{for(y(n),h=a(c);null!==h&&(!(h.expirationTime>n)||e&&!D());){var l=h.callback;if("function"===typeof l){h.callback=null,m=h.priorityLevel;var r=l(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof r?h.callback=r:h===a(c)&&s(c),y(n)}else s(c);h=a(c)}if(null!==h)var o=!0;else{var u=a(d);null!==u&&F(N,u.startTime-n),o=!1}return o}finally{h=null,m=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,I=5,A=-1;function D(){return!(t.unstable_now()-A<I)}function E(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof b)w=function(){b(E)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,T=P.port2;P.port1.onmessage=E,w=function(){T.postMessage(null)}}else w=function(){g(E,0)};function R(e){S=e,k||(k=!0,w())}function F(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,s,i){var l=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?l+i:l:i=l,e){case 1:var r=-1;break;case 2:r=250;break;case 5:r=1073741823;break;case 4:r=1e4;break;default:r=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:i,expirationTime:r=i+r,sortIndex:-1},i>l?(e.sortIndex=i,n(d,e),null===a(c)&&e===a(d)&&(f?(x(C),C=-1):f=!0,F(N,i-l))):(e.sortIndex=r,n(c,e),v||p||(v=!0,R(j))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},391:(e,t,n)=>{var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var a=n(43),s=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,r={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(r[e]=t,e=0;e<t.length;e++)l.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function v(e,t,n,a,s,i,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){f[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];f[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){f[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){f[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){f[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){f[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){f[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){f[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){f[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,a){var s=f.hasOwnProperty(t)?f[t]:null;(null!==s?0!==s.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,a)&&(n=null),a||null===s?function(e){return!!u.call(p,e)||!u.call(m,e)&&(h.test(e)?p[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,a=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,x);f[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,x);f[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,x);f[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){f[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),f.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){f[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var L,M=Object.assign;function B(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var _=!1;function z(e,t){if(!e||_)return"";_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),i=a.stack.split("\n"),l=s.length-1,r=i.length-1;1<=l&&0<=r&&s[l]!==i[r];)r--;for(;1<=l&&0<=r;l--,r--)if(s[l]!==i[r]){if(1!==l||1!==r)do{if(l--,0>--r||s[l]!==i[r]){var o="\n"+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=l&&0<=r);break}}}finally{_=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function U(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case D:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){J(e,t);var n=W(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&a&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(a&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),a=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function re(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?re(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),s=ve(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,s):e[n]=s}}Object.keys(me).forEach(function(e){pe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function Ne(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,we=null,ke=null;function Se(e){if(e=bs(e)){if("function"!==typeof je)throw Error(i(280));var t=e.stateNode;t&&(t=Ns(t),je(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Ie(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function De(){}var Ee=!1;function Pe(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return Ae(e,t,n)}finally{Ee=!1,(null!==we||null!==ke)&&(De(),Ie())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var a=Ns(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(d)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(de){Re=!1}function Oe(e,t,n,a,s,i,l,r,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,Me=null,Be=!1,_e=null,ze={onError:function(e){Le=!0,Me=e}};function Ue(e,t,n,a,s,i,l,r,o){Le=!1,Me=null,Oe.apply(ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(He(e)!==e)throw Error(i(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var s=n.return;if(null===s)break;var l=s.alternate;if(null===l){if(null!==(a=s.return)){n=a;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return We(s),e;if(l===a)return We(s),t;l=l.sibling}throw Error(i(188))}if(n.return!==a.return)n=s,a=l;else{for(var r=!1,o=s.child;o;){if(o===n){r=!0,n=s,a=l;break}if(o===a){r=!0,a=s,n=l;break}o=o.sibling}if(!r){for(o=l.child;o;){if(o===n){r=!0,n=l,a=s;break}if(o===a){r=!0,a=l,n=s;break}o=o.sibling}if(!r)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var Ke=s.unstable_scheduleCallback,$e=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Xe=s.unstable_requestPaint,Je=s.unstable_now,Qe=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,at=s.unstable_IdlePriority,st=null,it=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(rt(e)/ot|0)|0},rt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,l=268435455&n;if(0!==l){var r=l&~s;0!==r?a=ut(r):0!==(i&=l)&&(a=ut(i))}else 0!==(l=n&~s)?a=ut(l):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&s)&&((s=a&-a)>=(i=t&-t)||16===s&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)s=1<<(n=31-lt(t)),a|=e[n],t&=~s;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-lt(n),s=1<<a;s&t|e[a]&t&&(e[a]|=t),n&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Nt,jt,wt,kt,St,Ct=!1,It=[],At=null,Dt=null,Et=null,Pt=new Map,Tt=new Map,Rt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Lt(e,t,n,a,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&jt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Mt(e){var t=xs(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&jt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function _t(e,t,n){Bt(e)&&n.delete(t)}function zt(){Ct=!1,null!==At&&Bt(At)&&(At=null),null!==Dt&&Bt(Dt)&&(Dt=null),null!==Et&&Bt(Et)&&(Et=null),Pt.forEach(_t),Tt.forEach(_t)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<It.length){Ut(It[0],e);for(var n=1;n<It.length;n++){var a=It[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==At&&Ut(At,e),null!==Dt&&Ut(Dt,e),null!==Et&&Ut(Et,e),Pt.forEach(t),Tt.forEach(t),n=0;n<Rt.length;n++)(a=Rt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=y.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,a){var s=bt,i=qt.transition;qt.transition=null;try{bt=1,Kt(e,t,n,a)}finally{bt=s,qt.transition=i}}function Vt(e,t,n,a){var s=bt,i=qt.transition;qt.transition=null;try{bt=4,Kt(e,t,n,a)}finally{bt=s,qt.transition=i}}function Kt(e,t,n,a){if(Wt){var s=Yt(e,t,n,a);if(null===s)Wa(e,t,a,$t,n),Ot(e,a);else if(function(e,t,n,a,s){switch(t){case"focusin":return At=Lt(At,e,t,n,a,s),!0;case"dragenter":return Dt=Lt(Dt,e,t,n,a,s),!0;case"mouseover":return Et=Lt(Et,e,t,n,a,s),!0;case"pointerover":var i=s.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Tt.set(i,Lt(Tt.get(i)||null,e,t,n,a,s)),!0}return!1}(s,e,t,n,a))a.stopPropagation();else if(Ot(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==s;){var i=bs(s);if(null!==i&&Nt(i),null===(i=Yt(e,t,n,a))&&Wa(e,t,a,$t,n),i===s)break;s=i}null!==s&&a.stopPropagation()}else Wa(e,t,a,null,n)}}var $t=null;function Yt(e,t,n,a){if($t=null,null!==(e=xs(e=Ne(a))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,Qt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Qt,a=n.length,s="value"in Jt?Jt.value:Jt.textContent,i=s.length;for(e=0;e<a&&n[e]===s[e];e++);var l=a-e;for(t=1;t<=l&&n[a-t]===s[i-t];t++);return Zt=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function sn(e){function t(t,n,a,s,i){for(var l in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:an,this.isPropagationStopped=an,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var ln,rn,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=M({},cn,{view:0,detail:0}),hn=sn(un),mn=M({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(ln=e.screenX-on.screenX,rn=e.screenY-on.screenY):rn=ln=0,on=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),pn=sn(mn),vn=sn(M({},mn,{dataTransfer:0})),fn=sn(M({},un,{relatedTarget:0})),gn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),yn=sn(M({},cn,{data:0})),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Cn=M({},un,{key:function(e){if(e.key){var t=Nn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=sn(Cn),An=sn(M({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=sn(M({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),En=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=sn(Pn),Rn=[9,13,27,32],Fn=d&&"CompositionEvent"in window,On=null;d&&"documentMode"in document&&(On=document.documentMode);var Ln=d&&"TextEvent"in window&&!On,Mn=d&&(!Fn||On&&8<On&&11>=On),Bn=String.fromCharCode(32),_n=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,a){Ce(a),0<(t=Va(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Vn=null,Kn=null;function $n(e){Ba(e,0)}function Yn(e){if(K(ys(e)))return e}function Xn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Qn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Qn=Zn}else Qn=!1;Jn=Qn&&(!document.documentMode||9<document.documentMode)}function ta(){Vn&&(Vn.detachEvent("onpropertychange",na),Kn=Vn=null)}function na(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,Ne(e)),Pe($n,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(Vn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function sa(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ia(e,t){if("click"===e)return Yn(t)}function la(e,t){if("input"===e||"change"===e)return Yn(t)}var ra="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(ra(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var s=n[a];if(!u.call(t,s)||!ra(e[s],t[s]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pa(e){var t=ha(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(a.start,s);a=void 0===a.end?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=da(n,i);var l=da(n,a);s&&l&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var va=d&&"documentMode"in document&&11>=document.documentMode,fa=null,ga=null,xa=null,ba=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ba||null==fa||fa!==$(a)||("selectionStart"in(a=fa)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},xa&&oa(xa,a)||(xa=a,0<(a=Va(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=fa)))}function Na(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ja={animationend:Na("Animation","AnimationEnd"),animationiteration:Na("Animation","AnimationIteration"),animationstart:Na("Animation","AnimationStart"),transitionend:Na("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!ja[e])return e;var t,n=ja[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);var Ca=Sa("animationend"),Ia=Sa("animationiteration"),Aa=Sa("animationstart"),Da=Sa("transitionend"),Ea=new Map,Pa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Ea.set(e,t),o(t,[e])}for(var Ra=0;Ra<Pa.length;Ra++){var Fa=Pa[Ra];Ta(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Ta(Ca,"onAnimationEnd"),Ta(Ia,"onAnimationIteration"),Ta(Aa,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(Da,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),La=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function Ma(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,s,l,r,o,c){if(Ue.apply(this,arguments),Le){if(!Le)throw Error(i(198));var d=Me;Le=!1,Me=null,Be||(Be=!0,_e=d)}}(a,t,void 0,e),e.currentTarget=null}function Ba(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var l=a.length-1;0<=l;l--){var r=a[l],o=r.instance,c=r.currentTarget;if(r=r.listener,o!==i&&s.isPropagationStopped())break e;Ma(s,r,c),i=o}else for(l=0;l<a.length;l++){if(o=(r=a[l]).instance,c=r.currentTarget,r=r.listener,o!==i&&s.isPropagationStopped())break e;Ma(s,r,c),i=o}}}if(Be)throw e=_e,Be=!1,_e=null,e}function _a(e,t){var n=t[vs];void 0===n&&(n=t[vs]=new Set);var a=e+"__bubble";n.has(a)||(qa(t,e,2,!1),n.add(a))}function za(e,t,n){var a=0;t&&(a|=4),qa(n,e,a,t)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[Ua]){e[Ua]=!0,l.forEach(function(t){"selectionchange"!==t&&(La.has(t)||za(t,!1,e),za(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ua]||(t[Ua]=!0,za("selectionchange",!1,t))}}function qa(e,t,n,a){switch(Xt(t)){case 1:var s=Gt;break;case 4:s=Vt;break;default:s=Kt}n=s.bind(null,t,n,e),s=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),a?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wa(e,t,n,a,s){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var l=a.tag;if(3===l||4===l){var r=a.stateNode.containerInfo;if(r===s||8===r.nodeType&&r.parentNode===s)break;if(4===l)for(l=a.return;null!==l;){var o=l.tag;if((3===o||4===o)&&((o=l.stateNode.containerInfo)===s||8===o.nodeType&&o.parentNode===s))return;l=l.return}for(;null!==r;){if(null===(l=xs(r)))return;if(5===(o=l.tag)||6===o){a=i=l;continue e}r=r.parentNode}}a=a.return}Pe(function(){var a=i,s=Ne(n),l=[];e:{var r=Ea.get(e);if(void 0!==r){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=In;break;case"focusin":c="focus",o=fn;break;case"focusout":c="blur",o=fn;break;case"beforeblur":case"afterblur":o=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Dn;break;case Ca:case Ia:case Aa:o=gn;break;case Da:o=En;break;case"scroll":o=hn;break;case"wheel":o=Tn;break;case"copy":case"cut":case"paste":o=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=An}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==r?r+"Capture":null:r;d=[];for(var m,p=a;null!==p;){var v=(m=p).stateNode;if(5===m.tag&&null!==v&&(m=v,null!==h&&(null!=(v=Te(p,h))&&d.push(Ga(p,v,m)))),u)break;p=p.return}0<d.length&&(r=new o(r,c,null,n,s),l.push({event:r,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(r="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[ps])&&(o||r)&&(r=s.window===s?s:(r=s.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),u=null==o?r:ys(o),m=null==c?r:ys(c),(r=new d(v,p+"leave",o,n,s)).target=u,r.relatedTarget=m,v=null,xs(s)===a&&((d=new d(h,p+"enter",c,n,s)).target=m,d.relatedTarget=u,v=d),u=v,o&&c)e:{for(h=c,p=0,m=d=o;m;m=Ka(m))p++;for(m=0,v=h;v;v=Ka(v))m++;for(;0<p-m;)d=Ka(d),p--;for(;0<m-p;)h=Ka(h),m--;for(;p--;){if(d===h||null!==h&&d===h.alternate)break e;d=Ka(d),h=Ka(h)}d=null}else d=null;null!==o&&$a(l,r,o,d,!1),null!==c&&null!==u&&$a(l,u,c,d,!0)}if("select"===(o=(r=a?ys(a):window).nodeName&&r.nodeName.toLowerCase())||"input"===o&&"file"===r.type)var f=Xn;else if(Wn(r))if(Jn)f=la;else{f=sa;var g=aa}else(o=r.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(f=ia);switch(f&&(f=f(e,a))?Gn(l,f,n,s):(g&&g(e,r,a),"focusout"===e&&(g=r._wrapperState)&&g.controlled&&"number"===r.type&&ee(r,"number",r.value)),g=a?ys(a):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(fa=g,ga=a,xa=null);break;case"focusout":xa=ga=fa=null;break;case"mousedown":ba=!0;break;case"contextmenu":case"mouseup":case"dragend":ba=!1,ya(l,n,s);break;case"selectionchange":if(va)break;case"keydown":case"keyup":ya(l,n,s)}var x;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(x=en()):(Qt="value"in(Jt=s)?Jt.value:Jt.textContent,Hn=!0)),0<(g=Va(a,b)).length&&(b=new yn(b,e,null,n,s),l.push({event:b,listeners:g}),x?b.data=x:null!==(x=Un(n))&&(b.data=x))),(x=Ln?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(_n=!0,Bn);case"textInput":return(e=t.data)===Bn&&_n?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=en(),Zt=Qt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Va(a,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),l.push({event:s,listeners:a}),s.data=x))}Ba(l,t)})}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Va(e,t){for(var n=t+"Capture",a=[];null!==e;){var s=e,i=s.stateNode;5===s.tag&&null!==i&&(s=i,null!=(i=Te(e,n))&&a.unshift(Ga(e,i,s)),null!=(i=Te(e,t))&&a.push(Ga(e,i,s))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $a(e,t,n,a,s){for(var i=t._reactName,l=[];null!==n&&n!==a;){var r=n,o=r.alternate,c=r.stateNode;if(null!==o&&o===a)break;5===r.tag&&null!==c&&(r=c,s?null!=(o=Te(n,i))&&l.unshift(Ga(n,o,r)):s||null!=(o=Te(n,i))&&l.push(Ga(n,o,r))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var Ya=/\r\n?/g,Xa=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Xa,"")}function Qa(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(i(425))}function Za(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var as="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,is="function"===typeof Promise?Promise:void 0,ls="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof is?function(e){return is.resolve(null).then(e).catch(rs)}:as;function rs(e){setTimeout(function(){throw e})}function os(e,t){var n=t,a=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===a)return e.removeChild(s),void Ht(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=s}while(n);Ht(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,ms="__reactProps$"+us,ps="__reactContainer$"+us,vs="__reactEvents$"+us,fs="__reactListeners$"+us,gs="__reactHandles$"+us;function xs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ps]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[ps])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function Ns(e){return e[ms]||null}var js=[],ws=-1;function ks(e){return{current:e}}function Ss(e){0>ws||(e.current=js[ws],js[ws]=null,ws--)}function Cs(e,t){ws++,js[ws]=e.current,e.current=t}var Is={},As=ks(Is),Ds=ks(!1),Es=Is;function Ps(e,t){var n=e.type.contextTypes;if(!n)return Is;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s,i={};for(s in n)i[s]=t[s];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ts(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rs(){Ss(Ds),Ss(As)}function Fs(e,t,n){if(As.current!==Is)throw Error(i(168));Cs(As,t),Cs(Ds,n)}function Os(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var s in a=a.getChildContext())if(!(s in t))throw Error(i(108,q(e)||"Unknown",s));return M({},n,a)}function Ls(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Is,Es=As.current,Cs(As,e),Cs(Ds,Ds.current),!0}function Ms(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Os(e,t,Es),a.__reactInternalMemoizedMergedChildContext=e,Ss(Ds),Ss(As),Cs(As,e)):Ss(Ds),Cs(Ds,n)}var Bs=null,_s=!1,zs=!1;function Us(e){null===Bs?Bs=[e]:Bs.push(e)}function Hs(){if(!zs&&null!==Bs){zs=!0;var e=0,t=bt;try{var n=Bs;for(bt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Bs=null,_s=!1}catch(s){throw null!==Bs&&(Bs=Bs.slice(e+1)),Ke(Ze,Hs),s}finally{bt=t,zs=!1}}return null}var qs=[],Ws=0,Gs=null,Vs=0,Ks=[],$s=0,Ys=null,Xs=1,Js="";function Qs(e,t){qs[Ws++]=Vs,qs[Ws++]=Gs,Gs=e,Vs=t}function Zs(e,t,n){Ks[$s++]=Xs,Ks[$s++]=Js,Ks[$s++]=Ys,Ys=e;var a=Xs;e=Js;var s=32-lt(a)-1;a&=~(1<<s),n+=1;var i=32-lt(t)+s;if(30<i){var l=s-s%5;i=(a&(1<<l)-1).toString(32),a>>=l,s-=l,Xs=1<<32-lt(t)+s|n<<s|a,Js=i+e}else Xs=1<<i|n<<s|a,Js=e}function ei(e){null!==e.return&&(Qs(e,1),Zs(e,1,0))}function ti(e){for(;e===Gs;)Gs=qs[--Ws],qs[Ws]=null,Vs=qs[--Ws],qs[Ws]=null;for(;e===Ys;)Ys=Ks[--$s],Ks[$s]=null,Js=Ks[--$s],Ks[$s]=null,Xs=Ks[--$s],Ks[$s]=null}var ni=null,ai=null,si=!1,ii=null;function li(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ri(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Xs,overflow:Js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function oi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(si){var t=ai;if(t){var n=t;if(!ri(e,t)){if(oi(e))throw Error(i(418));t=cs(n.nextSibling);var a=ni;t&&ri(e,t)?li(a,n):(e.flags=-4097&e.flags|2,si=!1,ni=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,si=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!si)return di(e),si=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ai)){if(oi(e))throw hi(),Error(i(418));for(;t;)li(e,t),t=cs(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cs(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=ai;e;)e=cs(e.nextSibling)}function mi(){ai=ni=null,si=!1}function pi(e){null===ii?ii=[e]:ii.push(e)}var vi=y.ReactCurrentBatchConfig;function fi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var s=a,l=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=s.refs;null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function r(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Mc(n,e.mode,a)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&xi(i)===t.type)?((a=s(t,n.props)).ref=fi(e,t,n),a.return=e,a):((a=Fc(n.type,n.key,n.props,null,e.mode,a)).ref=fi(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,a)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,a,i){return null===t||7!==t.tag?((t=Oc(n,e.mode,a,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case N:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=fi(e,null,t),n.return=e,n;case j:return(t=Bc(t,e.mode,n)).return=e,t;case T:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Oc(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function m(e,t,n,a){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case N:return n.key===s?c(e,t,n,a):null;case j:return n.key===s?d(e,t,n,a):null;case T:return m(e,t,(s=n._init)(n._payload),a)}if(te(n)||O(n))return null!==s?null:u(e,t,n,a,null);gi(e,n)}return null}function p(e,t,n,a,s){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,s);if("object"===typeof a&&null!==a){switch(a.$$typeof){case N:return c(t,e=e.get(null===a.key?n:a.key)||null,a,s);case j:return d(t,e=e.get(null===a.key?n:a.key)||null,a,s);case T:return p(e,t,n,(0,a._init)(a._payload),s)}if(te(a)||O(a))return u(t,e=e.get(n)||null,a,s,null);gi(t,a)}return null}function v(s,i,r,o){for(var c=null,d=null,u=i,v=i=0,f=null;null!==u&&v<r.length;v++){u.index>v?(f=u,u=null):f=u.sibling;var g=m(s,u,r[v],o);if(null===g){null===u&&(u=f);break}e&&u&&null===g.alternate&&t(s,u),i=l(g,i,v),null===d?c=g:d.sibling=g,d=g,u=f}if(v===r.length)return n(s,u),si&&Qs(s,v),c;if(null===u){for(;v<r.length;v++)null!==(u=h(s,r[v],o))&&(i=l(u,i,v),null===d?c=u:d.sibling=u,d=u);return si&&Qs(s,v),c}for(u=a(s,u);v<r.length;v++)null!==(f=p(u,s,v,r[v],o))&&(e&&null!==f.alternate&&u.delete(null===f.key?v:f.key),i=l(f,i,v),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach(function(e){return t(s,e)}),si&&Qs(s,v),c}function f(s,r,o,c){var d=O(o);if("function"!==typeof d)throw Error(i(150));if(null==(o=d.call(o)))throw Error(i(151));for(var u=d=null,v=r,f=r=0,g=null,x=o.next();null!==v&&!x.done;f++,x=o.next()){v.index>f?(g=v,v=null):g=v.sibling;var b=m(s,v,x.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(s,v),r=l(b,r,f),null===u?d=b:u.sibling=b,u=b,v=g}if(x.done)return n(s,v),si&&Qs(s,f),d;if(null===v){for(;!x.done;f++,x=o.next())null!==(x=h(s,x.value,c))&&(r=l(x,r,f),null===u?d=x:u.sibling=x,u=x);return si&&Qs(s,f),d}for(v=a(s,v);!x.done;f++,x=o.next())null!==(x=p(v,s,f,x.value,c))&&(e&&null!==x.alternate&&v.delete(null===x.key?f:x.key),r=l(x,r,f),null===u?d=x:u.sibling=x,u=x);return e&&v.forEach(function(e){return t(s,e)}),si&&Qs(s,f),d}return function e(a,i,l,o){if("object"===typeof l&&null!==l&&l.type===w&&null===l.key&&(l=l.props.children),"object"===typeof l&&null!==l){switch(l.$$typeof){case N:e:{for(var c=l.key,d=i;null!==d;){if(d.key===c){if((c=l.type)===w){if(7===d.tag){n(a,d.sibling),(i=s(d,l.props.children)).return=a,a=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&xi(c)===d.type){n(a,d.sibling),(i=s(d,l.props)).ref=fi(a,d,l),i.return=a,a=i;break e}n(a,d);break}t(a,d),d=d.sibling}l.type===w?((i=Oc(l.props.children,a.mode,o,l.key)).return=a,a=i):((o=Fc(l.type,l.key,l.props,null,a.mode,o)).ref=fi(a,i,l),o.return=a,a=o)}return r(a);case j:e:{for(d=l.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===l.containerInfo&&i.stateNode.implementation===l.implementation){n(a,i.sibling),(i=s(i,l.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Bc(l,a.mode,o)).return=a,a=i}return r(a);case T:return e(a,i,(d=l._init)(l._payload),o)}if(te(l))return v(a,i,l,o);if(O(l))return f(a,i,l,o);gi(a,l)}return"string"===typeof l&&""!==l||"number"===typeof l?(l=""+l,null!==i&&6===i.tag?(n(a,i.sibling),(i=s(i,l)).return=a,a=i):(n(a,i),(i=Mc(l,a.mode,o)).return=a,a=i),r(a)):n(a,i)}}var yi=bi(!0),Ni=bi(!1),ji=ks(null),wi=null,ki=null,Si=null;function Ci(){Si=ki=wi=null}function Ii(e){var t=ji.current;Ss(ji),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Di(e,t){wi=e,Si=ki=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xr=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(Si!==e)if(e={context:e,memoizedValue:t,next:null},null===ki){if(null===wi)throw Error(i(308));ki=e,wi.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var Pi=null;function Ti(e){null===Pi?Pi=[e]:Pi.push(e)}function Ri(e,t,n,a){var s=t.interleaved;return null===s?(n.next=n,Ti(t)):(n.next=s.next,s.next=n),t.interleaved=n,Fi(e,a)}function Fi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _i(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Ao)){var s=a.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),a.pending=t,Fi(e,n)}return null===(s=a.interleaved)?(t.next=t,Ti(a)):(t.next=s.next,s.next=t),a.interleaved=t,Fi(e,n)}function zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Ui(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?s=i=l:i=i.next=l,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,a){var s=e.updateQueue;Oi=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,r=s.shared.pending;if(null!==r){s.shared.pending=null;var o=r,c=o.next;o.next=null,null===l?i=c:l.next=c,l=o;var d=e.alternate;null!==d&&((r=(d=d.updateQueue).lastBaseUpdate)!==l&&(null===r?d.firstBaseUpdate=c:r.next=c,d.lastBaseUpdate=o))}if(null!==i){var u=s.baseState;for(l=0,d=c=o=null,r=i;;){var h=r.lane,m=r.eventTime;if((a&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:r.tag,payload:r.payload,callback:r.callback,next:null});e:{var p=e,v=r;switch(h=t,m=n,v.tag){case 1:if("function"===typeof(p=v.payload)){u=p.call(m,u,h);break e}u=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(m,u,h):p)||void 0===h)break e;u=M({},u,h);break e;case 2:Oi=!0}}null!==r.callback&&0!==r.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[r]:h.push(r))}else m={eventTime:m,lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,l|=h;if(null===(r=r.next)){if(null===(r=s.shared.pending))break;r=(h=r).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(o=u),s.baseState=o,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{l|=s.lane,s=s.next}while(s!==t)}else null===i&&(s.shared.lanes=0);Lo|=l,e.lanes=l,e.memoizedState=u}}function qi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(null!==s){if(a.callback=null,a=n,"function"!==typeof s)throw Error(i(191,s));s.call(a)}}}var Wi={},Gi=ks(Wi),Vi=ks(Wi),Ki=ks(Wi);function $i(e){if(e===Wi)throw Error(i(174));return e}function Yi(e,t){switch(Cs(Ki,t),Cs(Vi,e),Cs(Gi,Wi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ss(Gi),Cs(Gi,t)}function Xi(){Ss(Gi),Ss(Vi),Ss(Ki)}function Ji(e){$i(Ki.current);var t=$i(Gi.current),n=oe(t,e.type);t!==n&&(Cs(Vi,e),Cs(Gi,n))}function Qi(e){Vi.current===e&&(Ss(Gi),Ss(Vi))}var Zi=ks(0);function el(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tl=[];function nl(){for(var e=0;e<tl.length;e++)tl[e]._workInProgressVersionPrimary=null;tl.length=0}var al=y.ReactCurrentDispatcher,sl=y.ReactCurrentBatchConfig,il=0,ll=null,rl=null,ol=null,cl=!1,dl=!1,ul=0,hl=0;function ml(){throw Error(i(321))}function pl(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ra(e[n],t[n]))return!1;return!0}function vl(e,t,n,a,s,l){if(il=l,ll=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,al.current=null===e||null===e.memoizedState?Ql:Zl,e=n(a,s),dl){l=0;do{if(dl=!1,ul=0,25<=l)throw Error(i(301));l+=1,ol=rl=null,t.updateQueue=null,al.current=er,e=n(a,s)}while(dl)}if(al.current=Jl,t=null!==rl&&null!==rl.next,il=0,ol=rl=ll=null,cl=!1,t)throw Error(i(300));return e}function fl(){var e=0!==ul;return ul=0,e}function gl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ol?ll.memoizedState=ol=e:ol=ol.next=e,ol}function xl(){if(null===rl){var e=ll.alternate;e=null!==e?e.memoizedState:null}else e=rl.next;var t=null===ol?ll.memoizedState:ol.next;if(null!==t)ol=t,rl=e;else{if(null===e)throw Error(i(310));e={memoizedState:(rl=e).memoizedState,baseState:rl.baseState,baseQueue:rl.baseQueue,queue:rl.queue,next:null},null===ol?ll.memoizedState=ol=e:ol=ol.next=e}return ol}function bl(e,t){return"function"===typeof t?t(e):t}function yl(e){var t=xl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=rl,s=a.baseQueue,l=n.pending;if(null!==l){if(null!==s){var r=s.next;s.next=l.next,l.next=r}a.baseQueue=s=l,n.pending=null}if(null!==s){l=s.next,a=a.baseState;var o=r=null,c=null,d=l;do{var u=d.lane;if((il&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,r=a):c=c.next=h,ll.lanes|=u,Lo|=u}d=d.next}while(null!==d&&d!==l);null===c?r=a:c.next=o,ra(a,t.memoizedState)||(xr=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){s=e;do{l=s.lane,ll.lanes|=l,Lo|=l,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Nl(e){var t=xl(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,s=n.pending,l=t.memoizedState;if(null!==s){n.pending=null;var r=s=s.next;do{l=e(l,r.action),r=r.next}while(r!==s);ra(l,t.memoizedState)||(xr=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function jl(){}function wl(e,t){var n=ll,a=xl(),s=t(),l=!ra(a.memoizedState,s);if(l&&(a.memoizedState=s,xr=!0),a=a.queue,Ol(Cl.bind(null,n,a,e),[e]),a.getSnapshot!==t||l||null!==ol&&1&ol.memoizedState.tag){if(n.flags|=2048,El(9,Sl.bind(null,n,a,s,t),void 0,null),null===Do)throw Error(i(349));0!==(30&il)||kl(n,t,s)}return s}function kl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sl(e,t,n,a){t.value=n,t.getSnapshot=a,Il(t)&&Al(e)}function Cl(e,t,n){return n(function(){Il(t)&&Al(e)})}function Il(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ra(e,n)}catch(a){return!0}}function Al(e){var t=Fi(e,1);null!==t&&nc(t,e,1,-1)}function Dl(e){var t=gl();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:e},t.queue=e,e=e.dispatch=Kl.bind(null,ll,e),[t.memoizedState,e]}function El(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ll.updateQueue)?(t={lastEffect:null,stores:null},ll.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Pl(){return xl().memoizedState}function Tl(e,t,n,a){var s=gl();ll.flags|=e,s.memoizedState=El(1|t,n,void 0,void 0===a?null:a)}function Rl(e,t,n,a){var s=xl();a=void 0===a?null:a;var i=void 0;if(null!==rl){var l=rl.memoizedState;if(i=l.destroy,null!==a&&pl(a,l.deps))return void(s.memoizedState=El(t,n,i,a))}ll.flags|=e,s.memoizedState=El(1|t,n,i,a)}function Fl(e,t){return Tl(8390656,8,e,t)}function Ol(e,t){return Rl(2048,8,e,t)}function Ll(e,t){return Rl(4,2,e,t)}function Ml(e,t){return Rl(4,4,e,t)}function Bl(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _l(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rl(4,4,Bl.bind(null,t,e),n)}function zl(){}function Ul(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pl(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Hl(e,t){var n=xl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&pl(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function ql(e,t,n){return 0===(21&il)?(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=n):(ra(n,t)||(n=vt(),ll.lanes|=n,Lo|=n,e.baseState=!0),t)}function Wl(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var a=sl.transition;sl.transition={};try{e(!1),t()}finally{bt=n,sl.transition=a}}function Gl(){return xl().memoizedState}function Vl(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},$l(e))Yl(t,n);else if(null!==(n=Ri(e,t,n,a))){nc(n,e,a,ec()),Xl(n,t,a)}}function Kl(e,t,n){var a=tc(e),s={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if($l(e))Yl(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,r=i(l,n);if(s.hasEagerState=!0,s.eagerState=r,ra(r,l)){var o=t.interleaved;return null===o?(s.next=s,Ti(t)):(s.next=o.next,o.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Ri(e,t,s,a))&&(nc(n,e,a,s=ec()),Xl(n,t,a))}}function $l(e){var t=e.alternate;return e===ll||null!==t&&t===ll}function Yl(e,t){dl=cl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xl(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Jl={readContext:Ei,useCallback:ml,useContext:ml,useEffect:ml,useImperativeHandle:ml,useInsertionEffect:ml,useLayoutEffect:ml,useMemo:ml,useReducer:ml,useRef:ml,useState:ml,useDebugValue:ml,useDeferredValue:ml,useTransition:ml,useMutableSource:ml,useSyncExternalStore:ml,useId:ml,unstable_isNewReconciler:!1},Ql={readContext:Ei,useCallback:function(e,t){return gl().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Fl,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Tl(4194308,4,Bl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Tl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tl(4,2,e,t)},useMemo:function(e,t){var n=gl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gl();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Vl.bind(null,ll,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gl().memoizedState=e},useState:Dl,useDebugValue:zl,useDeferredValue:function(e){return gl().memoizedState=e},useTransition:function(){var e=Dl(!1),t=e[0];return e=Wl.bind(null,e[1]),gl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ll,s=gl();if(si){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Do)throw Error(i(349));0!==(30&il)||kl(a,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Fl(Cl.bind(null,a,l,e),[e]),a.flags|=2048,El(9,Sl.bind(null,a,l,n,t),void 0,null),n},useId:function(){var e=gl(),t=Do.identifierPrefix;if(si){var n=Js;t=":"+t+"R"+(n=(Xs&~(1<<32-lt(Xs)-1)).toString(32)+n),0<(n=ul++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zl={readContext:Ei,useCallback:Ul,useContext:Ei,useEffect:Ol,useImperativeHandle:_l,useInsertionEffect:Ll,useLayoutEffect:Ml,useMemo:Hl,useReducer:yl,useRef:Pl,useState:function(){return yl(bl)},useDebugValue:zl,useDeferredValue:function(e){return ql(xl(),rl.memoizedState,e)},useTransition:function(){return[yl(bl)[0],xl().memoizedState]},useMutableSource:jl,useSyncExternalStore:wl,useId:Gl,unstable_isNewReconciler:!1},er={readContext:Ei,useCallback:Ul,useContext:Ei,useEffect:Ol,useImperativeHandle:_l,useInsertionEffect:Ll,useLayoutEffect:Ml,useMemo:Hl,useReducer:Nl,useRef:Pl,useState:function(){return Nl(bl)},useDebugValue:zl,useDeferredValue:function(e){var t=xl();return null===rl?t.memoizedState=e:ql(t,rl.memoizedState,e)},useTransition:function(){return[Nl(bl)[0],xl().memoizedState]},useMutableSource:jl,useSyncExternalStore:wl,useId:Gl,unstable_isNewReconciler:!1};function tr(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nr(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ar={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),i=Bi(a,s);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,s))&&(nc(t,e,s,a),zi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),s=tc(e),i=Bi(a,s);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=_i(e,i,s))&&(nc(t,e,s,a),zi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),s=Bi(n,a);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=_i(e,s,a))&&(nc(t,e,a,n),zi(t,e,a))}};function sr(e,t,n,a,s,i,l){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,l):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(s,i))}function ir(e,t,n){var a=!1,s=Is,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(s=Ts(t)?Es:As.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ps(e,s):Is),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ar,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lr(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&ar.enqueueReplaceState(t,t.state,null)}function rr(e,t,n,a){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?s.context=Ei(i):(i=Ts(t)?Es:As.current,s.context=Ps(e,i)),s.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(nr(e,t,i,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ar.enqueueReplaceState(s,s.state,null),Hi(e,n,s,a),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function or(e,t){try{var n="",a=t;do{n+=U(a),a=a.return}while(a);var s=n}catch(i){s="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:s,digest:null}}function cr(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dr(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ur="function"===typeof WeakMap?WeakMap:Map;function hr(e,t,n){(n=Bi(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wo||(Wo=!0,Go=a),dr(0,t)},n}function mr(e,t,n){(n=Bi(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var s=t.value;n.payload=function(){return a(s)},n.callback=function(){dr(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){dr(0,t),"function"!==typeof a&&(null===Vo?Vo=new Set([this]):Vo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pr(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ur;var s=new Set;a.set(t,s)}else void 0===(s=a.get(t))&&(s=new Set,a.set(t,s));s.has(n)||(s.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vr(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function fr(e,t,n,a,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Bi(-1,1)).tag=2,_i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var gr=y.ReactCurrentOwner,xr=!1;function br(e,t,n,a){t.child=null===e?Ni(t,null,n,a):yi(t,e.child,n,a)}function yr(e,t,n,a,s){n=n.render;var i=t.ref;return Di(t,s),a=vl(e,t,n,a,i,s),n=fl(),null===e||xr?(si&&n&&ei(t),t.flags|=1,br(e,t,a,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s))}function Nr(e,t,n,a,s){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,a,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,jr(e,t,i,a,s))}if(i=e.child,0===(e.lanes&s)){var l=i.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(l,a)&&e.ref===t.ref)return qr(e,t,s)}return t.flags|=1,(e=Rc(i,a)).ref=t.ref,e.return=t,t.child=e}function jr(e,t,n,a,s){if(null!==e){var i=e.memoizedProps;if(oa(i,a)&&e.ref===t.ref){if(xr=!1,t.pendingProps=a=i,0===(e.lanes&s))return t.lanes=e.lanes,qr(e,t,s);0!==(131072&e.flags)&&(xr=!0)}}return Sr(e,t,n,a,s)}function wr(e,t,n){var a=t.pendingProps,s=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Ro,To),To|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Ro,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Cs(Ro,To),To|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Cs(Ro,To),To|=a;return br(e,t,s,n),t.child}function kr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sr(e,t,n,a,s){var i=Ts(n)?Es:As.current;return i=Ps(t,i),Di(t,s),n=vl(e,t,n,a,i,s),a=fl(),null===e||xr?(si&&a&&ei(t),t.flags|=1,br(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qr(e,t,s))}function Cr(e,t,n,a,s){if(Ts(n)){var i=!0;Ls(t)}else i=!1;if(Di(t,s),null===t.stateNode)Hr(e,t),ir(t,n,a),rr(t,n,a,s),a=!0;else if(null===e){var l=t.stateNode,r=t.memoizedProps;l.props=r;var o=l.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ei(c):c=Ps(t,c=Ts(n)?Es:As.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof l.getSnapshotBeforeUpdate;u||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(r!==a||o!==c)&&lr(t,l,a,c),Oi=!1;var h=t.memoizedState;l.state=h,Hi(t,a,l,s),o=t.memoizedState,r!==a||h!==o||Ds.current||Oi?("function"===typeof d&&(nr(t,n,d,a),o=t.memoizedState),(r=Oi||sr(t,n,r,a,h,o,c))?(u||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(t.flags|=4194308)):("function"===typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),l.props=a,l.state=o,l.context=c,a=r):("function"===typeof l.componentDidMount&&(t.flags|=4194308),a=!1)}else{l=t.stateNode,Mi(e,t),r=t.memoizedProps,c=t.type===t.elementType?r:tr(t.type,r),l.props=c,u=t.pendingProps,h=l.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ei(o):o=Ps(t,o=Ts(n)?Es:As.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(r!==u||h!==o)&&lr(t,l,a,o),Oi=!1,h=t.memoizedState,l.state=h,Hi(t,a,l,s);var p=t.memoizedState;r!==u||h!==p||Ds.current||Oi?("function"===typeof m&&(nr(t,n,m,a),p=t.memoizedState),(c=Oi||sr(t,n,c,a,h,p,o)||!1)?(d||"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(a,p,o),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(a,p,o)),"function"===typeof l.componentDidUpdate&&(t.flags|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=p),l.props=a,l.state=p,l.context=o,a=c):("function"!==typeof l.componentDidUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof l.getSnapshotBeforeUpdate||r===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ir(e,t,n,a,i,s)}function Ir(e,t,n,a,s,i){kr(e,t);var l=0!==(128&t.flags);if(!a&&!l)return s&&Ms(t,n,!1),qr(e,t,i);a=t.stateNode,gr.current=t;var r=l&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&l?(t.child=yi(t,e.child,null,i),t.child=yi(t,null,r,i)):br(e,t,r,i),t.memoizedState=a.state,s&&Ms(t,n,!0),t.child}function Ar(e){var t=e.stateNode;t.pendingContext?Fs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fs(0,t.context,!1),Yi(e,t.containerInfo)}function Dr(e,t,n,a,s){return mi(),pi(s),t.flags|=256,br(e,t,n,a),t.child}var Er,Pr,Tr,Rr,Fr={dehydrated:null,treeContext:null,retryLane:0};function Or(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lr(e,t,n){var a,s=t.pendingProps,l=Zi.current,r=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&l)),a?(r=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),Cs(Zi,1&l),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=s.children,e=s.fallback,r?(s=t.mode,r=t.child,o={mode:"hidden",children:o},0===(1&s)&&null!==r?(r.childLanes=0,r.pendingProps=o):r=Lc(o,s,0,null),e=Oc(e,s,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=Or(n),t.memoizedState=Fr,e):Mr(t,o));if(null!==(l=e.memoizedState)&&null!==(a=l.dehydrated))return function(e,t,n,a,s,l,r){if(n)return 256&t.flags?(t.flags&=-257,Br(e,t,r,a=cr(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,s=t.mode,a=Lc({mode:"visible",children:a.children},s,0,null),(l=Oc(l,s,r,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!==(1&t.mode)&&yi(t,e.child,null,r),t.child.memoizedState=Or(r),t.memoizedState=Fr,l);if(0===(1&t.mode))return Br(e,t,r,null);if("$!"===s.data){if(a=s.nextSibling&&s.nextSibling.dataset)var o=a.dgst;return a=o,Br(e,t,r,a=cr(l=Error(i(419)),a,void 0))}if(o=0!==(r&e.childLanes),xr||o){if(null!==(a=Do)){switch(r&-r){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(a.suspendedLanes|r))?0:s)&&s!==l.retryLane&&(l.retryLane=s,Fi(e,s),nc(a,e,s,-1))}return vc(),Br(e,t,r,a=cr(Error(i(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,ai=cs(s.nextSibling),ni=t,si=!0,ii=null,null!==e&&(Ks[$s++]=Xs,Ks[$s++]=Js,Ks[$s++]=Ys,Xs=e.id,Js=e.overflow,Ys=t),t=Mr(t,a.children),t.flags|=4096,t)}(e,t,o,s,a,l,n);if(r){r=s.fallback,o=t.mode,a=(l=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&o)&&t.child!==l?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Rc(l,c)).subtreeFlags=14680064&l.subtreeFlags,null!==a?r=Rc(a,r):(r=Oc(r,o,n,null)).flags|=2,r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,o=null===(o=e.child.memoizedState)?Or(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~n,t.memoizedState=Fr,s}return e=(r=e.child).sibling,s=Rc(r,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Mr(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Br(e,t,n,a){return null!==a&&pi(a),yi(t,e.child,null,n),(e=Mr(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function _r(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Ai(e.return,t,n)}function zr(e,t,n,a,s){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=s)}function Ur(e,t,n){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(br(e,t,a.children,n),0!==(2&(a=Zi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_r(e,n,t);else if(19===e.tag)_r(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cs(Zi,a),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===el(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),zr(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===el(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}zr(t,!0,n,null,i);break;case"together":zr(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hr(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wr(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Gr(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=14680064&s.subtreeFlags,a|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Vr(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(t),null;case 1:case 17:return Ts(t.type)&&Rs(),Gr(t),null;case 3:return a=t.stateNode,Xi(),Ss(Ds),Ss(As),nl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(lc(ii),ii=null))),Pr(e,t),Gr(t),null;case 5:Qi(t);var s=$i(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Tr(e,t,n,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return Gr(t),null}if(e=$i(Gi.current),ui(t)){a=t.stateNode,n=t.type;var l=t.memoizedProps;switch(a[hs]=t,a[ms]=l,e=0!==(1&t.mode),n){case"dialog":_a("cancel",a),_a("close",a);break;case"iframe":case"object":case"embed":_a("load",a);break;case"video":case"audio":for(s=0;s<Oa.length;s++)_a(Oa[s],a);break;case"source":_a("error",a);break;case"img":case"image":case"link":_a("error",a),_a("load",a);break;case"details":_a("toggle",a);break;case"input":X(a,l),_a("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},_a("invalid",a);break;case"textarea":se(a,l),_a("invalid",a)}for(var o in xe(n,l),s=null,l)if(l.hasOwnProperty(o)){var c=l[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==l.suppressHydrationWarning&&Qa(a.textContent,c,e),s=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==l.suppressHydrationWarning&&Qa(a.textContent,c,e),s=["children",""+c]):r.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&_a("scroll",a)}switch(n){case"input":V(a),Z(a,l,!0);break;case"textarea":V(a),le(a);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(a.onclick=Za)}a=s,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=re(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[hs]=t,e[ms]=a,Er(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(n,a),n){case"dialog":_a("cancel",e),_a("close",e),s=a;break;case"iframe":case"object":case"embed":_a("load",e),s=a;break;case"video":case"audio":for(s=0;s<Oa.length;s++)_a(Oa[s],e);s=a;break;case"source":_a("error",e),s=a;break;case"img":case"image":case"link":_a("error",e),_a("load",e),s=a;break;case"details":_a("toggle",e),s=a;break;case"input":X(e,a),s=Y(e,a),_a("invalid",e);break;case"option":default:s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=M({},a,{value:void 0}),_a("invalid",e);break;case"textarea":se(e,a),s=ae(e,a),_a("invalid",e)}for(l in xe(n,s),c=s)if(c.hasOwnProperty(l)){var d=c[l];"style"===l?fe(e,d):"dangerouslySetInnerHTML"===l?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===l?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(r.hasOwnProperty(l)?null!=d&&"onScroll"===l&&_a("scroll",e):null!=d&&b(e,l,d,o))}switch(n){case"input":V(e),Z(e,a,!1);break;case"textarea":V(e),le(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(l=a.value)?ne(e,!!a.multiple,l,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gr(t),null;case 6:if(e&&null!=t.stateNode)Rr(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=$i(Ki.current),$i(Gi.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[hs]=t,(l=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qa(a.nodeValue,n,0!==(1&e.mode))}l&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[hs]=t,t.stateNode=a}return Gr(t),null;case 13:if(Ss(Zi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(si&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))hi(),mi(),t.flags|=98560,l=!1;else if(l=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!l)throw Error(i(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(i(317));l[hs]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gr(t),l=!1}else null!==ii&&(lc(ii),ii=null),l=!0;if(!l)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zi.current)?0===Fo&&(Fo=3):vc())),null!==t.updateQueue&&(t.flags|=4),Gr(t),null);case 4:return Xi(),Pr(e,t),null===e&&Ha(t.stateNode.containerInfo),Gr(t),null;case 10:return Ii(t.type._context),Gr(t),null;case 19:if(Ss(Zi),null===(l=t.memoizedState))return Gr(t),null;if(a=0!==(128&t.flags),null===(o=l.rendering))if(a)Wr(l,!1);else{if(0!==Fo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=el(e))){for(t.flags|=128,Wr(l,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(l=n).flags&=14680066,null===(o=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs(Zi,1&Zi.current|2),t.child}e=e.sibling}null!==l.tail&&Je()>Ho&&(t.flags|=128,a=!0,Wr(l,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=el(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wr(l,!0),null===l.tail&&"hidden"===l.tailMode&&!o.alternate&&!si)return Gr(t),null}else 2*Je()-l.renderingStartTime>Ho&&1073741824!==n&&(t.flags|=128,a=!0,Wr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=l.last)?n.sibling=o:t.child=o,l.last=o)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Je(),t.sibling=null,n=Zi.current,Cs(Zi,a?1&n|2:1&n),t):(Gr(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&To)&&(Gr(t),6&t.subtreeFlags&&(t.flags|=8192)):Gr(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Kr(e,t){switch(ti(t),t.tag){case 1:return Ts(t.type)&&Rs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Ss(Ds),Ss(As),nl(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(Ss(Zi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ss(Zi),null;case 4:return Xi(),null;case 10:return Ii(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Er=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pr=function(){},Tr=function(e,t,n,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,$i(Gi.current);var i,l=null;switch(n){case"input":s=Y(e,s),a=Y(e,a),l=[];break;case"select":s=M({},s,{value:void 0}),a=M({},a,{value:void 0}),l=[];break;case"textarea":s=ae(e,s),a=ae(e,a),l=[];break;default:"function"!==typeof s.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in xe(n,a),n=null,s)if(!a.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var o=s[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(r.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=s?s[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(l=l||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(l=l||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(r.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&_a("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}},Rr=function(e,t,n,a){n!==a&&(t.flags|=4)};var $r=!1,Yr=!1,Xr="function"===typeof WeakSet?WeakSet:Set,Jr=null;function Qr(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function Zr(e,t,n){try{n()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,void 0!==i&&Zr(t,n,i)}s=s.next}while(s!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function so(e){var t=e.alternate;null!==t&&(e.alternate=null,so(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[ms],delete t[vs],delete t[fs],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function lo(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ro(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(ro(e,t,n),e=e.sibling;null!==e;)ro(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function ho(e,t,n){for(n=n.child;null!==n;)mo(e,t,n),n=n.sibling}function mo(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(st,n)}catch(r){}switch(n.tag){case 5:Yr||Qr(n,t);case 6:var a=co,s=uo;co=null,ho(e,t,n),uo=s,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?os(e.parentNode,n):1===e.nodeType&&os(e,n),Ht(e)):os(co,n.stateNode));break;case 4:a=co,s=uo,co=n.stateNode.containerInfo,uo=!0,ho(e,t,n),co=a,uo=s;break;case 0:case 11:case 14:case 15:if(!Yr&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){s=a=a.next;do{var i=s,l=i.destroy;i=i.tag,void 0!==l&&(0!==(2&i)||0!==(4&i))&&Zr(n,t,l),s=s.next}while(s!==a)}ho(e,t,n);break;case 1:if(!Yr&&(Qr(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(r){kc(n,t,r)}ho(e,t,n);break;case 21:ho(e,t,n);break;case 22:1&n.mode?(Yr=(a=Yr)||null!==n.memoizedState,ho(e,t,n),Yr=a):ho(e,t,n);break;default:ho(e,t,n)}}function po(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xr),t.forEach(function(t){var a=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function vo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var s=n[a];try{var l=e,r=t,o=r;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(i(160));mo(l,r,s),co=null,uo=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){kc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fo(t,e),t=t.sibling}function fo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vo(t,e),go(e),4&a){try{to(3,e,e.return),no(3,e)}catch(f){kc(e,e.return,f)}try{to(5,e,e.return)}catch(f){kc(e,e.return,f)}}break;case 1:vo(t,e),go(e),512&a&&null!==n&&Qr(n,n.return);break;case 5:if(vo(t,e),go(e),512&a&&null!==n&&Qr(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(f){kc(e,e.return,f)}}if(4&a&&null!=(s=e.stateNode)){var l=e.memoizedProps,r=null!==n?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===l.type&&null!=l.name&&J(s,l),be(o,r);var d=be(o,l);for(r=0;r<c.length;r+=2){var u=c[r],h=c[r+1];"style"===u?fe(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(o){case"input":Q(s,l);break;case"textarea":ie(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var p=l.value;null!=p?ne(s,!!l.multiple,p,!1):m!==!!l.multiple&&(null!=l.defaultValue?ne(s,!!l.multiple,l.defaultValue,!0):ne(s,!!l.multiple,l.multiple?[]:"",!1))}s[ms]=l}catch(f){kc(e,e.return,f)}}break;case 6:if(vo(t,e),go(e),4&a){if(null===e.stateNode)throw Error(i(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(f){kc(e,e.return,f)}}break;case 3:if(vo(t,e),go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){kc(e,e.return,f)}break;case 4:default:vo(t,e),go(e);break;case 13:vo(t,e),go(e),8192&(s=e.child).flags&&(l=null!==s.memoizedState,s.stateNode.isHidden=l,!l||null!==s.alternate&&null!==s.alternate.memoizedState||(Uo=Je())),4&a&&po(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Yr=(d=Yr)||u,vo(t,e),Yr=d):vo(t,e),go(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jr=e,u=e.child;null!==u;){for(h=Jr=u;null!==Jr;){switch(p=(m=Jr).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Qr(m,m.return);var v=m.stateNode;if("function"===typeof v.componentWillUnmount){a=m,n=m.return;try{t=a,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(f){kc(a,n,f)}}break;case 5:Qr(m,m.return);break;case 22:if(null!==m.memoizedState){No(h);continue}}null!==p?(p.return=m,Jr=p):No(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(l=s.style).setProperty?l.setProperty("display","none","important"):l.display="none":(o=h.stateNode,r=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=ve("display",r))}catch(f){kc(e,e.return,f)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(f){kc(e,e.return,f)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vo(t,e),go(e),4&a&&po(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(io(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var s=a.stateNode;32&a.flags&&(he(s,""),a.flags&=-33),oo(e,lo(e),s);break;case 3:case 4:var l=a.stateNode.containerInfo;ro(e,lo(e),l);break;default:throw Error(i(161))}}catch(r){kc(e,e.return,r)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xo(e,t,n){Jr=e,bo(e,t,n)}function bo(e,t,n){for(var a=0!==(1&e.mode);null!==Jr;){var s=Jr,i=s.child;if(22===s.tag&&a){var l=null!==s.memoizedState||$r;if(!l){var r=s.alternate,o=null!==r&&null!==r.memoizedState||Yr;r=$r;var c=Yr;if($r=l,(Yr=o)&&!c)for(Jr=s;null!==Jr;)o=(l=Jr).child,22===l.tag&&null!==l.memoizedState?jo(s):null!==o?(o.return=l,Jr=o):jo(s);for(;null!==i;)Jr=i,bo(i,t,n),i=i.sibling;Jr=s,$r=r,Yr=c}yo(e)}else 0!==(8772&s.subtreeFlags)&&null!==i?(i.return=s,Jr=i):yo(e)}}function yo(e){for(;null!==Jr;){var t=Jr;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yr||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Yr)if(null===n)a.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:tr(t.type,n.memoizedProps);a.componentDidUpdate(s,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&qi(t,l,a);break;case 3:var r=t.updateQueue;if(null!==r){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qi(t,r,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(i(163))}Yr||512&t.flags&&ao(t)}catch(m){kc(t,t.return,m)}}if(t===e){Jr=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jr=n;break}Jr=t.return}}function No(e){for(;null!==Jr;){var t=Jr;if(t===e){Jr=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jr=n;break}Jr=t.return}}function jo(e){for(;null!==Jr;){var t=Jr;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var s=t.return;try{a.componentDidMount()}catch(o){kc(t,s,o)}}var i=t.return;try{ao(t)}catch(o){kc(t,i,o)}break;case 5:var l=t.return;try{ao(t)}catch(o){kc(t,l,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Jr=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Jr=r;break}Jr=t.return}}var wo,ko=Math.ceil,So=y.ReactCurrentDispatcher,Co=y.ReactCurrentOwner,Io=y.ReactCurrentBatchConfig,Ao=0,Do=null,Eo=null,Po=0,To=0,Ro=ks(0),Fo=0,Oo=null,Lo=0,Mo=0,Bo=0,_o=null,zo=null,Uo=0,Ho=1/0,qo=null,Wo=!1,Go=null,Vo=null,Ko=!1,$o=null,Yo=0,Xo=0,Jo=null,Qo=-1,Zo=0;function ec(){return 0!==(6&Ao)?Je():-1!==Qo?Qo:Qo=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ao)&&0!==Po?Po&-Po:null!==vi.transition?(0===Zo&&(Zo=vt()),Zo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nc(e,t,n,a){if(50<Xo)throw Xo=0,Jo=null,Error(i(185));gt(e,n,a),0!==(2&Ao)&&e===Do||(e===Do&&(0===(2&Ao)&&(Mo|=n),4===Fo&&rc(e,Po)),ac(e,a),1===n&&0===Ao&&0===(1&t.mode)&&(Ho=Je()+500,_s&&Hs()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-lt(i),r=1<<l,o=s[l];-1===o?0!==(r&n)&&0===(r&a)||(s[l]=mt(r,t)):o<=t&&(e.expiredLanes|=r),i&=~r}}(e,t);var a=ht(e,e===Do?Po:0);if(0===a)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){_s=!0,Us(e)}(oc.bind(null,e)):Us(oc.bind(null,e)),ls(function(){0===(6&Ao)&&Hs()}),n=null;else{switch(yt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Dc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Qo=-1,Zo=0,0!==(6&Ao))throw Error(i(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var a=ht(e,e===Do?Po:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=fc(e,a);else{t=a;var s=Ao;Ao|=2;var l=pc();for(Do===e&&Po===t||(qo=null,Ho=Je()+500,hc(e,t));;)try{xc();break}catch(o){mc(e,o)}Ci(),So.current=l,Ao=s,null!==Eo?t=0:(Do=null,Po=0,t=Fo)}if(0!==t){if(2===t&&(0!==(s=pt(e))&&(a=s,t=ic(e,s))),1===t)throw n=Oo,hc(e,0),rc(e,a),ac(e,Je()),n;if(6===t)rc(e,a);else{if(s=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var s=n[a],i=s.getSnapshot;s=s.value;try{if(!ra(i(),s))return!1}catch(r){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=fc(e,a))&&(0!==(l=pt(e))&&(a=l,t=ic(e,l))),1===t))throw n=Oo,hc(e,0),rc(e,a),ac(e,Je()),n;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:Nc(e,zo,qo);break;case 3:if(rc(e,a),(130023424&a)===a&&10<(t=Uo+500-Je())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=as(Nc.bind(null,e,zo,qo),t);break}Nc(e,zo,qo);break;case 4:if(rc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,s=-1;0<a;){var r=31-lt(a);l=1<<r,(r=t[r])>s&&(s=r),a&=~l}if(a=s,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=as(Nc.bind(null,e,zo,qo),a);break}Nc(e,zo,qo);break;default:throw Error(i(329))}}}return ac(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ic(e,t){var n=_o;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=zo,zo=n,null!==t&&lc(t)),e}function lc(e){null===zo?zo=e:zo.push.apply(zo,e)}function rc(e,t){for(t&=~Bo,t&=~Mo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&Ao))throw Error(i(327));jc();var t=ht(e,0);if(0===(1&t))return ac(e,Je()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var a=pt(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Oo,hc(e,0),rc(e,t),ac(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,zo,qo),ac(e,Je()),null}function cc(e,t){var n=Ao;Ao|=1;try{return e(t)}finally{0===(Ao=n)&&(Ho=Je()+500,_s&&Hs())}}function dc(e){null!==$o&&0===$o.tag&&0===(6&Ao)&&jc();var t=Ao;Ao|=1;var n=Io.transition,a=bt;try{if(Io.transition=null,bt=1,e)return e()}finally{bt=a,Io.transition=n,0===(6&(Ao=t))&&Hs()}}function uc(){To=Ro.current,Ss(Ro)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==Eo)for(n=Eo.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Rs();break;case 3:Xi(),Ss(Ds),Ss(As),nl();break;case 5:Qi(a);break;case 4:Xi();break;case 13:case 19:Ss(Zi);break;case 10:Ii(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Do=e,Eo=e=Rc(e.current,null),Po=To=t,Fo=0,Oo=null,Bo=Mo=Lo=0,zo=_o=null,null!==Pi){for(t=0;t<Pi.length;t++)if(null!==(a=(n=Pi[t]).interleaved)){n.interleaved=null;var s=a.next,i=n.pending;if(null!==i){var l=i.next;i.next=s,a.next=l}n.pending=a}Pi=null}return e}function mc(e,t){for(;;){var n=Eo;try{if(Ci(),al.current=Jl,cl){for(var a=ll.memoizedState;null!==a;){var s=a.queue;null!==s&&(s.pending=null),a=a.next}cl=!1}if(il=0,ol=rl=ll=null,dl=!1,ul=0,Co.current=null,null===n||null===n.return){Fo=1,Oo=t,Eo=null;break}e:{var l=e,r=n.return,o=n,c=t;if(t=Po,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=vr(r);if(null!==p){p.flags&=-257,fr(p,r,o,0,t),1&p.mode&&pr(l,d,t),c=d;var v=(t=p).updateQueue;if(null===v){var f=new Set;f.add(c),t.updateQueue=f}else v.add(c);break e}if(0===(1&t)){pr(l,d,t),vc();break e}c=Error(i(426))}else if(si&&1&o.mode){var g=vr(r);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),fr(g,r,o,0,t),pi(or(c,o));break e}}l=c=or(c,o),4!==Fo&&(Fo=2),null===_o?_o=[l]:_o.push(l),l=r;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ui(l,hr(0,c,t));break e;case 1:o=c;var x=l.type,b=l.stateNode;if(0===(128&l.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vo||!Vo.has(b)))){l.flags|=65536,t&=-t,l.lanes|=t,Ui(l,mr(l,o,t));break e}}l=l.return}while(null!==l)}yc(n)}catch(y){t=y,Eo===n&&null!==n&&(Eo=n=n.return);continue}break}}function pc(){var e=So.current;return So.current=Jl,null===e?Jl:e}function vc(){0!==Fo&&3!==Fo&&2!==Fo||(Fo=4),null===Do||0===(268435455&Lo)&&0===(268435455&Mo)||rc(Do,Po)}function fc(e,t){var n=Ao;Ao|=2;var a=pc();for(Do===e&&Po===t||(qo=null,hc(e,t));;)try{gc();break}catch(s){mc(e,s)}if(Ci(),Ao=n,So.current=a,null!==Eo)throw Error(i(261));return Do=null,Po=0,Fo}function gc(){for(;null!==Eo;)bc(Eo)}function xc(){for(;null!==Eo&&!Ye();)bc(Eo)}function bc(e){var t=wo(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?yc(e):Eo=t,Co.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Vr(n,t,To)))return void(Eo=n)}else{if(null!==(n=Kr(n,t)))return n.flags&=32767,void(Eo=n);if(null===e)return Fo=6,void(Eo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Eo=t);Eo=t=e}while(null!==t);0===Fo&&(Fo=5)}function Nc(e,t,n){var a=bt,s=Io.transition;try{Io.transition=null,bt=1,function(e,t,n,a){do{jc()}while(null!==$o);if(0!==(6&Ao))throw Error(i(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-lt(n),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,n&=~i}}(e,l),e===Do&&(Eo=Do=null,Po=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Dc(tt,function(){return jc(),null})),l=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||l){l=Io.transition,Io.transition=null;var r=bt;bt=1;var o=Ao;Ao|=4,Co.current=null,function(e,t){if(es=Wt,ma(e=ha())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var s=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch(N){n=null;break e}var r=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var p;h!==n||0!==s&&3!==h.nodeType||(o=r+s),h!==l||0!==a&&3!==h.nodeType||(c=r+a),3===h.nodeType&&(r+=h.nodeValue.length),null!==(p=h.firstChild);)m=h,h=p;for(;;){if(h===e)break t;if(m===n&&++d===s&&(o=r),m===l&&++u===a&&(c=r),null!==(p=h.nextSibling))break;m=(h=m).parentNode}h=p}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Wt=!1,Jr=t;null!==Jr;)if(e=(t=Jr).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jr=e;else for(;null!==Jr;){t=Jr;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var f=v.memoizedProps,g=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?f:tr(t.type,f),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(i(163))}}catch(N){kc(t,t.return,N)}if(null!==(e=t.sibling)){e.return=t.return,Jr=e;break}Jr=t.return}v=eo,eo=!1}(e,n),fo(n,e),pa(ts),Wt=!!es,ts=es=null,e.current=n,xo(n,e,s),Xe(),Ao=o,bt=r,Io.transition=l}else e.current=n;if(Ko&&(Ko=!1,$o=e,Yo=s),l=e.pendingLanes,0===l&&(Vo=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],a(s.value,{componentStack:s.stack,digest:s.digest});if(Wo)throw Wo=!1,e=Go,Go=null,e;0!==(1&Yo)&&0!==e.tag&&jc(),l=e.pendingLanes,0!==(1&l)?e===Jo?Xo++:(Xo=0,Jo=e):Xo=0,Hs()}(e,t,n,a)}finally{Io.transition=s,bt=a}return null}function jc(){if(null!==$o){var e=yt(Yo),t=Io.transition,n=bt;try{if(Io.transition=null,bt=16>e?16:e,null===$o)var a=!1;else{if(e=$o,$o=null,Yo=0,0!==(6&Ao))throw Error(i(331));var s=Ao;for(Ao|=4,Jr=e.current;null!==Jr;){var l=Jr,r=l.child;if(0!==(16&Jr.flags)){var o=l.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Jr=d;null!==Jr;){var u=Jr;switch(u.tag){case 0:case 11:case 15:to(8,u,l)}var h=u.child;if(null!==h)h.return=u,Jr=h;else for(;null!==Jr;){var m=(u=Jr).sibling,p=u.return;if(so(u),u===d){Jr=null;break}if(null!==m){m.return=p,Jr=m;break}Jr=p}}}var v=l.alternate;if(null!==v){var f=v.child;if(null!==f){v.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}Jr=l}}if(0!==(2064&l.subtreeFlags)&&null!==r)r.return=l,Jr=r;else e:for(;null!==Jr;){if(0!==(2048&(l=Jr).flags))switch(l.tag){case 0:case 11:case 15:to(9,l,l.return)}var x=l.sibling;if(null!==x){x.return=l.return,Jr=x;break e}Jr=l.return}}var b=e.current;for(Jr=b;null!==Jr;){var y=(r=Jr).child;if(0!==(2064&r.subtreeFlags)&&null!==y)y.return=r,Jr=y;else e:for(r=b;null!==Jr;){if(0!==(2048&(o=Jr).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(j){kc(o,o.return,j)}if(o===r){Jr=null;break e}var N=o.sibling;if(null!==N){N.return=o.return,Jr=N;break e}Jr=o.return}}if(Ao=s,Hs(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(st,e)}catch(j){}a=!0}return a}finally{bt=n,Io.transition=t}}return!1}function wc(e,t,n){e=_i(e,t=hr(0,t=or(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Vo||!Vo.has(a))){t=_i(t,e=mr(t,e=or(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Do===e&&(Po&n)===n&&(4===Fo||3===Fo&&(130023424&Po)===Po&&500>Je()-Uo?hc(e,0):Bo|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Fi(e,t))&&(gt(e,t,n),ac(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Cc(e,n)}function Dc(e,t){return Ke(e,t)}function Ec(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,a){return new Ec(e,t,n,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,a,s,l){var r=2;if(a=e,"function"===typeof e)Tc(e)&&(r=1);else if("string"===typeof e)r=5;else e:switch(e){case w:return Oc(n.children,s,l,t);case k:r=8,s|=8;break;case S:return(e=Pc(12,n,t,2|s)).elementType=S,e.lanes=l,e;case D:return(e=Pc(13,n,t,s)).elementType=D,e.lanes=l,e;case E:return(e=Pc(19,n,t,s)).elementType=E,e.lanes=l,e;case R:return Lc(n,s,l,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:r=10;break e;case I:r=9;break e;case A:r=11;break e;case P:r=14;break e;case T:r=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pc(r,n,t,s)).elementType=e,t.type=a,t.lanes=l,t}function Oc(e,t,n,a){return(e=Pc(7,e,a,t)).lanes=n,e}function Lc(e,t,n,a){return(e=Pc(22,e,a,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _c(e,t,n,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function zc(e,t,n,a,s,i,l,r,o){return e=new _c(e,t,n,r,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Uc(e){if(!e)return Is;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ts(n))return Os(e,n,t)}return t}function Hc(e,t,n,a,s,i,l,r,o){return(e=zc(n,a,!0,e,0,i,0,r,o)).context=Uc(null),n=e.current,(i=Bi(a=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,_i(n,i,s),e.current.lanes=s,gt(e,s,a),ac(e,a),e}function qc(e,t,n,a){var s=t.current,i=ec(),l=tc(s);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Bi(i,l)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=_i(s,t,l))&&(nc(e,s,l,i),zi(e,s,l)),l}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ds.current)xr=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xr=!1,function(e,t,n){switch(t.tag){case 3:Ar(t),mi();break;case 5:Ji(t);break;case 1:Ts(t.type)&&Ls(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;Cs(ji,a._currentValue),a._currentValue=s;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cs(Zi,1&Zi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lr(e,t,n):(Cs(Zi,1&Zi.current),null!==(e=qr(e,t,n))?e.sibling:null);Cs(Zi,1&Zi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Ur(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs(Zi,Zi.current),a)break;return null;case 22:case 23:return t.lanes=0,wr(e,t,n)}return qr(e,t,n)}(e,t,n);xr=0!==(131072&e.flags)}else xr=!1,si&&0!==(1048576&t.flags)&&Zs(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Hr(e,t),e=t.pendingProps;var s=Ps(t,As.current);Di(t,n),s=vl(null,t,a,e,s,n);var l=fl();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ts(a)?(l=!0,Ls(t)):l=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Li(t),s.updater=ar,t.stateNode=s,s._reactInternals=t,rr(t,a,e,n),t=Ir(null,t,a,!0,l,n)):(t.tag=0,si&&l&&ei(t),br(null,t,s,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Hr(e,t),e=t.pendingProps,a=(s=a._init)(a._payload),t.type=a,s=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(a),e=tr(a,e),s){case 0:t=Sr(null,t,a,e,n);break e;case 1:t=Cr(null,t,a,e,n);break e;case 11:t=yr(null,t,a,e,n);break e;case 14:t=Nr(null,t,a,tr(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,Sr(e,t,a,s=t.elementType===a?s:tr(a,s),n);case 1:return a=t.type,s=t.pendingProps,Cr(e,t,a,s=t.elementType===a?s:tr(a,s),n);case 3:e:{if(Ar(t),null===e)throw Error(i(387));a=t.pendingProps,s=(l=t.memoizedState).element,Mi(e,t),Hi(t,a,null,n);var r=t.memoizedState;if(a=r.element,l.isDehydrated){if(l={element:a,isDehydrated:!1,cache:r.cache,pendingSuspenseBoundaries:r.pendingSuspenseBoundaries,transitions:r.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Dr(e,t,a,n,s=or(Error(i(423)),t));break e}if(a!==s){t=Dr(e,t,a,n,s=or(Error(i(424)),t));break e}for(ai=cs(t.stateNode.containerInfo.firstChild),ni=t,si=!0,ii=null,n=Ni(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===s){t=qr(e,t,n);break e}br(e,t,a,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),a=t.type,s=t.pendingProps,l=null!==e?e.memoizedProps:null,r=s.children,ns(a,s)?r=null:null!==l&&ns(a,l)&&(t.flags|=32),kr(e,t),br(e,t,r,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Lr(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=yi(t,null,a,n):br(e,t,a,n),t.child;case 11:return a=t.type,s=t.pendingProps,yr(e,t,a,s=t.elementType===a?s:tr(a,s),n);case 7:return br(e,t,t.pendingProps,n),t.child;case 8:case 12:return br(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,l=t.memoizedProps,r=s.value,Cs(ji,a._currentValue),a._currentValue=r,null!==l)if(ra(l.value,r)){if(l.children===s.children&&!Ds.current){t=qr(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var o=l.dependencies;if(null!==o){r=l.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===l.tag){(c=Bi(-1,n&-n)).tag=2;var d=l.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),Ai(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===l.tag)r=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(r=l.return))throw Error(i(341));r.lanes|=n,null!==(o=r.alternate)&&(o.lanes|=n),Ai(r,n,t),r=l.sibling}else r=l.child;if(null!==r)r.return=l;else for(r=l;null!==r;){if(r===t){r=null;break}if(null!==(l=r.sibling)){l.return=r.return,r=l;break}r=r.return}l=r}br(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Di(t,n),a=a(s=Ei(s)),t.flags|=1,br(e,t,a,n),t.child;case 14:return s=tr(a=t.type,t.pendingProps),Nr(e,t,a,s=tr(a.type,s),n);case 15:return jr(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:tr(a,s),Hr(e,t),t.tag=1,Ts(a)?(e=!0,Ls(t)):e=!1,Di(t,n),ir(t,a,s),rr(t,a,s,n),Ir(null,t,a,!0,e,n);case 19:return Ur(e,t,n);case 22:return wr(e,t,n)}throw Error(i(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qc(){}function Zc(e,t,n,a,s){var i=n._reactRootContainer;if(i){var l=i;if("function"===typeof s){var r=s;s=function(){var e=Wc(l);r.call(e)}}qc(t,l,e,s)}else l=function(e,t,n,a,s){if(s){if("function"===typeof a){var i=a;a=function(){var e=Wc(l);i.call(e)}}var l=Hc(t,a,e,0,null,!1,0,"",Qc);return e._reactRootContainer=l,e[ps]=l.current,Ha(8===e.nodeType?e.parentNode:e),dc(),l}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof a){var r=a;a=function(){var e=Wc(o);r.call(e)}}var o=zc(e,0,!1,null,0,!1,0,"",Qc);return e._reactRootContainer=o,e[ps]=o.current,Ha(8===e.nodeType?e.parentNode:e),dc(function(){qc(t,o,n,a)}),o}(n,t,e,s,a);return Wc(l)}Yc.prototype.render=$c.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));qc(e,t,null,null)},Yc.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){qc(null,e,null,null)}),t[ps]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},Nt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),ac(t,Je()),0===(6&Ao)&&(Ho=Je()+500,Hs()))}break;case 13:dc(function(){var t=Fi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},jt=function(e){if(13===e.tag){var t=Fi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Fi(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},kt=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var s=Ns(a);if(!s)throw Error(i(90));K(a),Q(a,s)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,De=dc;var ed={usingClientEntryPoint:!1,Events:[bs,ys,Ns,Ce,Ie,cc]},td={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{st=ad.inject(nd),it=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(i(299));var n=!1,a="",s=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=zc(e,1,!1,null,0,n,0,a,s),e[ps]=t.current,Ha(8===e.nodeType?e.parentNode:e),new $c(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,s=!1,l="",r=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(r=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,s,0,l,r),e[ps]=t.current,Ha(e),a)for(e=0;e<a.length;e++)s=(s=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[ps]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,s){if(1&s&&(a=this(a)),8&s)return a;if("object"===typeof a&&a){if(4&s&&a.__esModule)return a;if(16&s&&"function"===typeof a.then)return a}var i=Object.create(null);n.r(i);var l={};e=e||[null,t({}),t([]),t(t)];for(var r=2&s&&a;("object"==typeof r||"function"==typeof r)&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach(e=>l[e]=()=>a[e]);return l.default=()=>a,n.d(i,l),i}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};n.r(a),n.d(a,{hasBrowserEnv:()=>Xn,hasStandardBrowserEnv:()=>Qn,hasStandardBrowserWebWorkerEnv:()=>Zn,navigator:()=>Jn,origin:()=>ea});var s,i=n(43),l=n.t(i,2),r=n(391),o=n(950),c=n.t(o,2);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const u="popstate";function h(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function m(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function p(e,t){return{usr:e.state,key:e.key,idx:t}}function v(e,t,n,a){return void 0===n&&(n=null),d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?g(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function g(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function x(e,t,n,a){void 0===a&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,r=i.history,o=s.Pop,c=null,m=g();function g(){return(r.state||{idx:null}).idx}function x(){o=s.Pop;let e=g(),t=null==e?null:e-m;m=e,c&&c({action:o,location:y.location,delta:t})}function b(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:f(e);return n=n.replace(/ $/,"%20"),h(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==m&&(m=0,r.replaceState(d({},r.state,{idx:m}),""));let y={get action(){return o},get location(){return e(i,r)},listen(e){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(u,x),c=e,()=>{i.removeEventListener(u,x),c=null}},createHref:e=>t(i,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=s.Push;let a=v(y.location,e,t);n&&n(a,e),m=g()+1;let d=p(a,m),u=y.createHref(a);try{r.pushState(d,"",u)}catch(h){if(h instanceof DOMException&&"DataCloneError"===h.name)throw h;i.location.assign(u)}l&&c&&c({action:o,location:y.location,delta:1})},replace:function(e,t){o=s.Replace;let a=v(y.location,e,t);n&&n(a,e),m=g();let i=p(a,m),d=y.createHref(a);r.replaceState(i,"",d),l&&c&&c({action:o,location:y.location,delta:0})},go:e=>r.go(e)};return y}var b;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(b||(b={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){return void 0===n&&(n="/"),N(e,t,n,!1)}function N(e,t,n,a){let s=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==s)return null;let i=j(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let l=null;for(let r=0;null==l&&r<i.length;++r){let e=F(s);l=T(i[r],e,a)}return l}function j(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let s=(e,s,i)=>{let l={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:s,route:e};l.relativePath.startsWith("/")&&(h(l.relativePath.startsWith(a),'Absolute route path "'+l.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),l.relativePath=l.relativePath.slice(a.length));let r=z([a,l.relativePath]),o=n.concat(l);e.children&&e.children.length>0&&(h(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+r+'".'),j(e.children,t,o,r)),(null!=e.path||e.index)&&t.push({path:r,score:P(r,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of w(e.path))s(e,t,a);else s(e,t)}),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===a.length)return s?[i,""]:[i];let l=w(a.join("/")),r=[];return r.push(...l.map(e=>""===e?i:[i,e].join("/"))),s&&r.push(...l),r.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,S=3,C=2,I=1,A=10,D=-2,E=e=>"*"===e;function P(e,t){let n=e.split("/"),a=n.length;return n.some(E)&&(a+=D),t&&(a+=C),n.filter(e=>!E(e)).reduce((e,t)=>e+(k.test(t)?S:""===t?I:A),a)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,s={},i="/",l=[];for(let r=0;r<a.length;++r){let e=a[r],o=r===a.length-1,c="/"===i?t:t.slice(i.length)||"/",d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=R({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),l.push({params:s,pathname:z([i,d.pathname]),pathnameBase:U(z([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=z([i,d.pathnameBase]))}return l}function R(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);m("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))");let i=new RegExp(s,t?void 0:"i");return[i,a]}(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),r=s.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:s}=t;if("*"===a){let e=r[n]||"";l=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const o=r[n];return e[a]=s&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:l,pattern:e}}function F(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function L(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function M(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function B(e,t){let n=M(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function _(e,t,n,a){let s;void 0===a&&(a=!1),"string"===typeof e?s=g(e):(s=d({},e),h(!s.pathname||!s.pathname.includes("?"),L("?","pathname","search",s)),h(!s.pathname||!s.pathname.includes("#"),L("#","pathname","hash",s)),h(!s.search||!s.search.includes("#"),L("#","search","hash",s)));let i,l=""===e||""===s.pathname,r=l?"/":s.pathname;if(null==r)i=n;else{let e=t.length-1;if(!a&&r.startsWith("..")){let t=r.split("/");for(;".."===t[0];)t.shift(),e-=1;s.pathname=t.join("/")}i=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:s=""}="string"===typeof e?g(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:H(a),hash:q(s)}}(s,i),c=r&&"/"!==r&&r.endsWith("/"),u=(l||"."===r)&&n.endsWith("/");return o.pathname.endsWith("/")||!c&&!u||(o.pathname+="/"),o}const z=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",q=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function W(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const G=["post","put","patch","delete"],V=(new Set(G),["get",...G]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},K.apply(this,arguments)}const $=i.createContext(null);const Y=i.createContext(null);const X=i.createContext(null);const J=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=i.createContext(null);function ee(){return null!=i.useContext(J)}function te(){return ee()||h(!1),i.useContext(J).location}function ne(e){i.useContext(X).static||i.useLayoutEffect(e)}function ae(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=ve(he.UseNavigateStable),n=i.useRef(!1);return ne(()=>{n.current=!0}),i.useCallback(function(a,s){void 0===s&&(s={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,K({fromRouteId:t},s)))},[e,t])}():function(){ee()||h(!1);let e=i.useContext($),{basename:t,future:n,navigator:a}=i.useContext(X),{matches:s}=i.useContext(Q),{pathname:l}=te(),r=JSON.stringify(B(s,n.v7_relativeSplatPath)),o=i.useRef(!1);return ne(()=>{o.current=!0}),i.useCallback(function(n,s){if(void 0===s&&(s={}),!o.current)return;if("number"===typeof n)return void a.go(n);let i=_(n,JSON.parse(r),l,"path"===s.relative);null==e&&"/"!==t&&(i.pathname="/"===i.pathname?t:z([t,i.pathname])),(s.replace?a.replace:a.push)(i,s.state,s)},[t,a,r,l,e])}()}function se(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=i.useContext(X),{matches:s}=i.useContext(Q),{pathname:l}=te(),r=JSON.stringify(B(s,a.v7_relativeSplatPath));return i.useMemo(()=>_(e,JSON.parse(r),l,"path"===n),[e,r,l,n])}function ie(e,t,n,a){ee()||h(!1);let{navigator:l}=i.useContext(X),{matches:r}=i.useContext(Q),o=r[r.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let u,m=te();if(t){var p;let e="string"===typeof t?g(t):t;"/"===d||(null==(p=e.pathname)?void 0:p.startsWith(d))||h(!1),u=e}else u=m;let v=u.pathname||"/",f=v;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=y(e,{pathname:f});let b=de(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:z([d,l.encodeLocation?l.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:z([d,l.encodeLocation?l.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),r,n,a);return t&&b?i.createElement(J.Provider,{value:{location:K({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:s.Pop}},b):b}function le(){let e=function(){var e;let t=i.useContext(Z),n=pe(he.UseRouteError),a=ve(he.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=W(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const re=i.createElement(le,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:n,children:a}=e,s=i.useContext($);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},a)}function de(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var l;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(l=a)&&l.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let r=e,o=null==(s=n)?void 0:s.errors;if(null!=o){let e=r.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||h(!1),r=r.slice(0,Math.min(r.length,e+1))}let c=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:a}=n,s=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||s){c=!0,r=d>=0?r.slice(0,d+1):[r[0]];break}}}return r.reduceRight((e,a,s)=>{let l,u=!1,h=null,m=null;var p;n&&(l=o&&a.route.id?o[a.route.id]:void 0,h=a.route.errorElement||re,c&&(d<0&&0===s?(p="route-fallback",!1||fe[p]||(fe[p]=!0),u=!0,m=null):d===s&&(u=!0,m=a.route.hydrateFallbackElement||null)));let v=t.concat(r.slice(0,s+1)),f=()=>{let t;return t=l?h:u?m:a.route.Component?i.createElement(a.route.Component,null):a.route.element?a.route.element:e,i.createElement(ce,{match:a,routeContext:{outlet:e,matches:v,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:l,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=i.useContext($);return t||h(!1),t}function pe(e){let t=i.useContext(Y);return t||h(!1),t}function ve(e){let t=function(){let e=i.useContext(Q);return e||h(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||h(!1),n.route.id}const fe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}l.startTransition;function xe(e){h(!1)}function be(e){let{basename:t="/",children:n=null,location:a,navigationType:l=s.Pop,navigator:r,static:o=!1,future:c}=e;ee()&&h(!1);let d=t.replace(/^\/*/,"/"),u=i.useMemo(()=>({basename:d,navigator:r,static:o,future:K({v7_relativeSplatPath:!1},c)}),[d,c,r,o]);"string"===typeof a&&(a=g(a));let{pathname:m="/",search:p="",hash:v="",state:f=null,key:x="default"}=a,b=i.useMemo(()=>{let e=O(m,d);return null==e?null:{location:{pathname:e,search:p,hash:v,state:f,key:x},navigationType:l}},[d,m,p,v,f,x,l]);return null==b?null:i.createElement(X.Provider,{value:u},i.createElement(J.Provider,{children:n,value:b}))}function ye(e){let{children:t,location:n}=e;return function(e,t){return ie(e,t)}(Ne(t),n)}new Promise(()=>{});i.Component;function Ne(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,(e,a)=>{if(!i.isValidElement(e))return;let s=[...t,a];if(e.type===i.Fragment)return void n.push.apply(n,Ne(e.props.children,s));e.type!==xe&&h(!1),e.props.index&&e.props.children&&h(!1);let l={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(l.children=Ne(e.props.children,s)),n.push(l)}),n}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,a,s={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(s[n]=e[n]);return s}function ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let a=e[n];return t.concat(Array.isArray(a)?a.map(e=>[n,e]):[[n,a]])},[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ce=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"];try{window.__reactRouterVersion="6"}catch(Ul){}const Ie=i.createContext({isTransitioning:!1});new Map;const Ae=l.startTransition;c.flushSync,l.useId;function De(e){let{basename:t,children:n,future:a,window:s}=e,l=i.useRef();var r;null==l.current&&(l.current=(void 0===(r={window:s,v5Compat:!0})&&(r={}),x(function(e,t){let{pathname:n,search:a,hash:s}=e.location;return v("",{pathname:n,search:a,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:f(t)},null,r)));let o=l.current,[c,d]=i.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},h=i.useCallback(e=>{u&&Ae?Ae(()=>d(e)):d(e)},[d,u]);return i.useLayoutEffect(()=>o.listen(h),[o,h]),i.useEffect(()=>ge(a),[a]),i.createElement(be,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=i.forwardRef(function(e,t){let n,{onClick:a,relative:s,reloadDocument:l,replace:r,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=e,p=we(e,Se),{basename:v}=i.useContext(X),g=!1;if("string"===typeof d&&Pe.test(d)&&(n=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=O(t.pathname,v);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Ul){}let x=function(e,t){let{relative:n}=void 0===t?{}:t;ee()||h(!1);let{basename:a,navigator:s}=i.useContext(X),{hash:l,pathname:r,search:o}=se(e,{relative:n}),c=r;return"/"!==a&&(c="/"===r?a:z([a,r])),s.createHref({pathname:c,search:o,hash:l})}(d,{relative:s}),b=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:l,relative:r,viewTransition:o}=void 0===t?{}:t,c=ae(),d=te(),u=se(e,{relative:r});return i.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:f(d)===f(u);c(e,{replace:n,state:s,preventScrollReset:l,relative:r,viewTransition:o})}},[d,c,u,a,s,n,e,l,r,o])}(d,{replace:r,state:o,target:c,preventScrollReset:u,relative:s,viewTransition:m});return i.createElement("a",je({},p,{href:n||x,onClick:g||l?a:function(e){a&&a(e),e.defaultPrevented||b(e)},ref:t,target:c}))});const Re=i.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:a=!1,className:s="",end:l=!1,style:r,to:o,viewTransition:c,children:d}=e,u=we(e,Ce),m=se(o,{relative:u.relative}),p=te(),v=i.useContext(Y),{navigator:f,basename:g}=i.useContext(X),x=null!=v&&function(e,t){void 0===t&&(t={});let n=i.useContext(Ie);null==n&&h(!1);let{basename:a}=Le(Fe.useViewTransitionState),s=se(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=O(n.currentLocation.pathname,a)||n.currentLocation.pathname,r=O(n.nextLocation.pathname,a)||n.nextLocation.pathname;return null!=R(s.pathname,r)||null!=R(s.pathname,l)}(m)&&!0===c,b=f.encodeLocation?f.encodeLocation(m).pathname:m.pathname,y=p.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(y=y.toLowerCase(),N=N?N.toLowerCase():null,b=b.toLowerCase()),N&&g&&(N=O(N,g)||N);const j="/"!==b&&b.endsWith("/")?b.length-1:b.length;let w,k=y===b||!l&&y.startsWith(b)&&"/"===y.charAt(j),S=null!=N&&(N===b||!l&&N.startsWith(b)&&"/"===N.charAt(b.length)),C={isActive:k,isPending:S,isTransitioning:x},I=k?n:void 0;w="function"===typeof s?s(C):[s,k?"active":null,S?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof r?r(C):r;return i.createElement(Te,je({},u,{"aria-current":I,className:w,ref:t,style:A,to:o,viewTransition:c}),"function"===typeof d?d(C):d)});var Fe,Oe;function Le(e){let t=i.useContext($);return t||h(!1),t}function Me(e){let t=i.useRef(ke(e)),n=i.useRef(!1),a=te(),s=i.useMemo(()=>function(e,t){let n=ke(e);return t&&t.forEach((e,a)=>{n.has(a)||t.getAll(a).forEach(e=>{n.append(a,e)})}),n}(a.search,n.current?null:t.current),[a.search]),l=ae(),r=i.useCallback((e,t)=>{const a=ke("function"===typeof e?e(s):e);n.current=!0,l("?"+a,t)},[l,s]);return[s,r]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fe||(Fe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Oe||(Oe={}));function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function _e(e){var t=function(e,t){if("object"!=Be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Be(t)?t:t+""}function ze(e,t,n){return(t=_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){ze(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},We=i.createContext&&i.createContext(qe),Ge=["attr","size","title"];function Ve(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ke.apply(this,arguments)}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach(function(t){Xe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Je(e){return e&&e.map((e,t)=>i.createElement(e.tag,Ye({key:t},e.attr),Je(e.child)))}function Qe(e){return t=>i.createElement(Ze,Ke({attr:Ye({},e.attr)},t),Je(e.child))}function Ze(e){var t=t=>{var n,{attr:a,size:s,title:l}=e,r=Ve(e,Ge),o=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",Ke({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,r,{className:n,style:Ye(Ye({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),l&&i.createElement("title",null,l),e.children)};return void 0!==We?i.createElement(We.Consumer,null,e=>t(e)):t(qe)}function et(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6.99 11 3 15l3.99 4v-3H14v-2H6.99v-3zM21 9l-3.99-4v3H10v2h7.01v3L21 9z"},child:[]}]})(e)}function tt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},child:[]},{tag:"path",attr:{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},child:[]}]})(e)}function nt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function at(e){return Qe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(e)}function st(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function it(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function lt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function rt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function ot(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function ct(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M488 128h-8V80c0-44.8-99.2-80-224-80S32 35.2 32 80v48h-8c-13.25 0-24 10.74-24 24v80c0 13.25 10.75 24 24 24h8v160c0 17.67 14.33 32 32 32v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h192v32c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32v-32h6.4c16 0 25.6-12.8 25.6-25.6V256h8c13.25 0 24-10.75 24-24v-80c0-13.26-10.75-24-24-24zM112 400c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm16-112c-17.67 0-32-14.33-32-32V128c0-17.67 14.33-32 32-32h256c17.67 0 32 14.33 32 32v128c0 17.67-14.33 32-32 32H128zm272 112c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function dt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function ut(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function ht(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function mt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function pt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function vt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function ft(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function gt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function xt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M296 464h-56V338.78l168.74-168.73c15.52-15.52 4.53-42.05-17.42-42.05H24.68c-21.95 0-32.94 26.53-17.42 42.05L176 338.78V464h-56c-22.09 0-40 17.91-40 40 0 4.42 3.58 8 8 8h240c4.42 0 8-3.58 8-8 0-22.09-17.91-40-40-40zM432 0c-62.61 0-115.35 40.2-135.18 96h52.54c16.65-28.55 47.27-48 82.64-48 52.93 0 96 43.06 96 96s-43.07 96-96 96c-14.04 0-27.29-3.2-39.32-8.64l-35.26 35.26C379.23 279.92 404.59 288 432 288c79.53 0 144-64.47 144-144S511.53 0 432 0z"},child:[]}]})(e)}function bt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function yt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Nt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function jt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"},child:[]}]})(e)}function wt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function kt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function St(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Ct(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function It(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(e)}function At(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Dt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h608c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM80.55 341.27c6.28 6.84 15.1 10.72 24.33 10.71l130.54-.18a65.62 65.62 0 0 0 29.64-7.12l290.96-147.65c26.74-13.57 50.71-32.94 67.02-58.31 18.31-28.48 20.3-49.09 13.07-63.65-7.21-14.57-24.74-25.27-58.25-27.45-29.85-1.94-59.54 5.92-86.28 19.48l-98.51 49.99-218.7-82.06a17.799 17.799 0 0 0-18-1.11L90.62 67.29c-10.67 5.41-13.25 19.65-5.17 28.53l156.22 98.1-103.21 52.38-72.35-36.47a17.804 17.804 0 0 0-16.07.02L9.91 230.22c-10.44 5.3-13.19 19.12-5.57 28.08l76.21 82.97z"},child:[]}]})(e)}function Et(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(e)}function Pt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 224h192V32H0v192zM64 96h64v64H64V96zm192-64v192h192V32H256zm128 128h-64V96h64v64zM0 480h192V288H0v192zm64-128h64v64H64v-64zm352-64h32v128h-96v-32h-32v96h-64V288h96v32h64v-32zm0 160h32v32h-32v-32zm-64 0h32v32h-32v-32z"},child:[]}]})(e)}function Tt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148 25.049-31.381 43.63-49.449 82.757-49.449 30.764 0 68.816 19.799 68.816 49.631 0 22.552-18.617 34.134-48.993 51.164-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271 0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271-31.075-69.27-69.271-69.27z"},child:[]}]})(e)}function Rt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function Ft(e){return Qe({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}function Ot(e){return Qe({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Lt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function Mt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 416 512"},child:[{tag:"path",attr:{d:"M207.9 15.2c.8 4.7 16.1 94.5 16.1 128.8 0 52.3-27.8 89.6-68.9 104.6L168 486.7c.7 13.7-10.2 25.3-24 25.3H80c-13.7 0-24.7-11.5-24-25.3l12.9-238.1C27.7 233.6 0 196.2 0 144 0 109.6 15.3 19.9 16.1 15.2 19.3-5.1 61.4-5.4 64 16.3v141.2c1.3 3.4 15.1 3.2 16 0 1.4-25.3 7.9-139.2 8-141.8 3.3-20.8 44.7-20.8 47.9 0 .2 2.7 6.6 116.5 8 141.8.9 3.2 14.8 3.4 16 0V16.3c2.6-21.6 44.8-21.4 48-1.1zm119.2 285.7l-15 185.1c-1.2 14 9.9 26 23.9 26h56c13.3 0 24-10.7 24-24V24c0-13.2-10.7-24-24-24-82.5 0-221.4 178.5-64.9 300.9z"},child:[]}]})(e)}function Bt(e){return Qe({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}var _t=n(579);const zt=[{id:1,name:"Amit Verma",location:"Mumbai, India",image:"/user1.webp",text:"Booking with your site was super easy. The prices were unbeatable, and customer service was great!"},{id:2,name:"Sophie Martin",location:"Paris, France",image:"/user2.jpeg",text:"Thanks for the seamless booking experience. Our vacation was amazing and hassle-free!"},{id:3,name:"Ravi Sharma",location:"Bangalore, India",image:"/user3.avif",text:"Very satisfied with the deals and easy booking process. Will definitely recommend to friends!"}],Ut=[{icon:(0,_t.jsx)(Tt,{}),image:"/Pack-Light.jpg",title:"Pack Light",description:"Carry only essentials to make your travel hassle-free.",color:"#ec4899"},{icon:(0,_t.jsx)(It,{}),image:"/Stay-Hydrated.jpg",title:"Stay Hydrated",description:"Drink plenty of water, especially on long flights.",color:"#3b82f6"},{icon:(0,_t.jsx)(bt,{}),image:"/Keep-Doc.jpg",title:"Keep Documents Safe",description:"Always keep digital and physical copies of your important documents.",color:"#10b981"}],Ht=[{src:"/Goa.jpg",alt:"Goa Beach"},{src:"/paris.jpeg",alt:"Eiffel Tower"},{src:"/Dubai.avif",alt:"Dubai Skyline"},{src:"/Bangkok.jpg",alt:"Bangkok Temple"},{src:"/Singapore.jpg",alt:"Singapore Gardens"},{src:"/Kerala.webp",alt:"Kerala Backwaters"}],qt=()=>{const[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(""),[s,l]=(0,i.useState)(!1);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("section",{style:{background:"linear-gradient(135deg, #e0e7ff 0%, #f0fdfa 100%)",padding:"60px 0 40px 0"},children:(0,_t.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px"},children:[(0,_t.jsx)("h2",{style:{textAlign:"center",fontWeight:"bold",fontSize:"2.3rem",color:"#1e293b",marginBottom:"8px"},children:"Travel Tips"}),(0,_t.jsx)("p",{style:{textAlign:"center",color:"#64748b",fontSize:"1.1rem",marginBottom:"36px"},children:"Make the most of your journey with these tips"}),(0,_t.jsx)("div",{style:{display:"flex",gap:"32px",justifyContent:"center",flexWrap:"wrap",marginBottom:"60px"},children:Ut.map((e,t)=>(0,_t.jsxs)("div",{style:{background:"#fff",borderRadius:"18px",boxShadow:"0 4px 16px rgba(0,0,0,0.07)",padding:"32px 28px 28px 28px",minWidth:"260px",maxWidth:"320px",flex:"1 1 260px",textAlign:"center",borderTop:"5px solid ".concat(e.color),margin:"0 8px"},className:"travel-tip-card",children:[(0,_t.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 18px auto",fontSize:"1.5rem",color:e.color},children:e.icon}),(0,_t.jsx)("img",{src:e.image,alt:e.title,style:{width:"56px",height:"56px",objectFit:"cover",borderRadius:"10px",marginBottom:"14px"}}),(0,_t.jsx)("h3",{style:{color:"#1e293b",fontWeight:"bold",fontSize:"1.15rem",marginBottom:"8px"},children:e.title}),(0,_t.jsx)("p",{style:{color:"#64748b",fontSize:"1rem",margin:0},children:e.description})]},t))})]})}),(0,_t.jsx)("h2",{style:{textAlign:"center",fontWeight:"bold",fontSize:"2rem",color:"#1e293b",marginBottom:"8px"},children:"Gallery"}),(0,_t.jsx)("p",{style:{textAlign:"center",color:"#64748b",fontSize:"1.1rem",marginBottom:"32px"},children:"Explore beautiful moments from our destinations"}),(0,_t.jsx)("div",{style:{display:"flex",gap:"18px",justifyContent:"center",flexWrap:"wrap"},children:Ht.map((e,t)=>(0,_t.jsx)("div",{style:{borderRadius:"16px",overflow:"hidden",boxShadow:"0 2px 10px rgba(0,0,0,0.07)",width:"170px",height:"120px",background:"#fff",margin:"0 4px"},className:"gallery-image-card",children:(0,_t.jsx)("img",{src:e.src,alt:e.alt,style:{width:"100%",height:"100%",objectFit:"cover"}})},t))}),(0,_t.jsxs)("section",{className:"about-flight-booking",children:[(0,_t.jsx)("section",{style:{backgroundColor:"#fef9f5",padding:"60px 0"},children:(0,_t.jsxs)("div",{style:{maxWidth:"1100px",margin:"0 auto",padding:"0 20px"},children:[(0,_t.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,_t.jsx)("h2",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"#9f1239"},children:"What Our Customers Say"}),(0,_t.jsx)("p",{style:{fontSize:"1.1rem",color:"#6b7280"},children:"Real reviews from happy travelers!"})]}),(0,_t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:zt.map(e=>(0,_t.jsxs)("div",{style:{backgroundColor:"#ffffff",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.05)",textAlign:"center",transition:"transform 0.3s ease-in-out"},children:[(0,_t.jsx)("img",{src:e.image,alt:e.name,style:{width:"80px",height:"80px",borderRadius:"50%",objectFit:"cover",marginBottom:"15px"}}),(0,_t.jsxs)("p",{style:{fontStyle:"italic",color:"#374151",fontSize:"1rem",marginBottom:"15px"},children:["\u201c",e.text,"\u201d"]}),(0,_t.jsx)("h4",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"5px"},children:e.name}),(0,_t.jsx)("span",{style:{color:"#6b7280",fontSize:"0.9rem"},children:e.location})]},e.id))})]})}),(0,_t.jsxs)("div",{className:"container",children:[(0,_t.jsxs)("div",{className:"faq-section",children:[(0,_t.jsx)("h2",{children:"Frequently Asked Questions"}),(0,_t.jsx)("p",{className:"faq-subtitle",children:"Find answers to common queries"}),(0,_t.jsx)("div",{className:"faq-container",children:[{id:1,question:"How do I book a trip?",answer:"You can book your trip easily through our website or mobile app. Simply enter your travel details, compare options, and complete the booking with secure payment."},{id:2,question:"Can I cancel or change my booking?",answer:"Yes, you can modify or cancel your booking through your account or by contacting our customer support. Terms and conditions apply based on your ticket type."},{id:3,question:"Is my payment secure?",answer:"Absolutely! We use industry-standard SSL encryption and secure payment gateways to protect your personal and financial information."}].map(n=>(0,_t.jsxs)("div",{className:"faq-item",children:[(0,_t.jsxs)("div",{className:"faq-question",onClick:()=>{return a=n.id,void t(e===a?null:a);var a},children:[(0,_t.jsxs)("div",{className:"faq-question-left",children:[(0,_t.jsx)("div",{className:"faq-icon",children:(0,_t.jsx)(Tt,{})}),(0,_t.jsx)("span",{children:n.question})]}),(0,_t.jsx)(mt,{className:"faq-arrow ".concat(e===n.id?"rotated":"")})]}),(0,_t.jsx)("div",{className:"faq-answer ".concat(e===n.id?"open":""),children:(0,_t.jsx)("p",{children:n.answer})})]},n.id))})]}),(0,_t.jsx)("div",{className:"download-app-section",children:(0,_t.jsxs)("div",{className:"download-app-content",children:[(0,_t.jsxs)("div",{className:"download-app-left",children:[(0,_t.jsxs)("div",{className:"download-icon",children:[(0,_t.jsx)(bt,{}),(0,_t.jsx)(wt,{})]}),(0,_t.jsx)("h2",{children:"Download App Now !"}),(0,_t.jsxs)("p",{className:"download-promo",children:["Use code ",(0,_t.jsx)("strong",{className:"promo-code",children:"NEFWAY"})," and get ",(0,_t.jsx)("strong",{className:"discount",children:"FLAT 12% OFF"})," on your first domestic flight booking"]}),(0,_t.jsxs)("div",{className:"phone-input-section",children:[(0,_t.jsxs)("div",{className:"country-selector",children:[(0,_t.jsx)("span",{className:"flag",children:"\ud83c\uddee\ud83c\uddf3"}),(0,_t.jsx)("span",{children:"+91"})]}),(0,_t.jsx)("input",{type:"tel",placeholder:"Enter phone number",className:"phone-input",value:n,onChange:e=>a(e.target.value)}),(0,_t.jsxs)("button",{className:"send-button",onClick:()=>{n.trim()&&(l(!0),setTimeout(()=>{l(!1),a("")},5e3))},children:[(0,_t.jsx)(ht,{}),(0,_t.jsx)("span",{children:"SENT"})]}),s&&(0,_t.jsxs)("div",{className:"success-message",children:["Link sent successfully to ",n,", please check your SMS"]})]}),(0,_t.jsxs)("div",{className:"app-store-buttons",children:[(0,_t.jsxs)("button",{className:"store-button google-play",children:[(0,_t.jsx)(Et,{}),(0,_t.jsxs)("div",{className:"store-text",children:[(0,_t.jsx)("span",{className:"store-label",children:"GET IT ON"}),(0,_t.jsx)("span",{className:"store-name",children:"Google Play"})]})]}),(0,_t.jsxs)("button",{className:"store-button app-store",children:[(0,_t.jsx)(nt,{}),(0,_t.jsxs)("div",{className:"store-text",children:[(0,_t.jsx)("span",{className:"store-label",children:"Download on the"}),(0,_t.jsx)("span",{className:"store-name",children:"App Store"})]})]})]})]}),(0,_t.jsxs)("div",{className:"qr-codes",children:[(0,_t.jsx)("div",{className:"qr-code",children:(0,_t.jsx)(Pt,{})}),(0,_t.jsx)("div",{className:"qr-code",children:(0,_t.jsx)(Pt,{})})]})]})}),(0,_t.jsxs)("div",{className:"why-choose-section",children:[(0,_t.jsx)("h2",{children:"Why Choose SmartTrip?"}),(0,_t.jsx)("p",{className:"section-description",children:"Experience seamless travel booking with our comprehensive platform designed for modern travelers."}),(0,_t.jsxs)("div",{className:"feature-cards",children:[(0,_t.jsxs)("div",{className:"feature-card",children:[(0,_t.jsx)("div",{className:"feature-icon easy-booking",children:(0,_t.jsx)(Rt,{})}),(0,_t.jsx)("h3",{children:"Easy Booking"}),(0,_t.jsx)("p",{children:"Search and book all your travel needs in one place with our intuitive interface."})]}),(0,_t.jsxs)("div",{className:"feature-card",children:[(0,_t.jsx)("div",{className:"feature-icon support",children:(0,_t.jsx)(St,{})}),(0,_t.jsx)("h3",{children:"24x7 Support"}),(0,_t.jsx)("p",{children:"Get round-the-clock assistance for all your travel queries and bookings."})]}),(0,_t.jsxs)("div",{className:"feature-card",children:[(0,_t.jsx)("div",{className:"feature-icon secure",children:(0,_t.jsx)(It,{})}),(0,_t.jsx)("h3",{children:"Secure Payments"}),(0,_t.jsx)("p",{children:"Your transactions are protected with industry-standard security measures."})]}),(0,_t.jsxs)("div",{className:"feature-card",children:[(0,_t.jsx)("div",{className:"feature-icon multi-modal",children:(0,_t.jsx)(ct,{})}),(0,_t.jsx)("h3",{children:"Multi-Modal Options"}),(0,_t.jsx)("p",{children:"Choose from flights, buses, trains, cars, and hotels for complete travel solutions."})]})]})]}),(0,_t.jsxs)("div",{className:"cta-section",children:[(0,_t.jsx)("h2",{children:"Ready to Start Your Journey?"}),(0,_t.jsx)("p",{className:"cta-description",children:"Join millions of travelers who trust SmartTrip for their travel needs."}),(0,_t.jsxs)("div",{className:"cta-features",children:[(0,_t.jsxs)("div",{className:"cta-feature",children:[(0,_t.jsx)(ht,{}),(0,_t.jsx)("span",{children:"Instant Booking Confirmation"})]}),(0,_t.jsxs)("div",{className:"cta-feature",children:[(0,_t.jsx)(ht,{}),(0,_t.jsx)("span",{children:"Best Price Guarantee"})]}),(0,_t.jsxs)("div",{className:"cta-feature",children:[(0,_t.jsx)(ht,{}),(0,_t.jsx)("span",{children:"Free Cancellation*"})]})]})]}),(0,_t.jsx)("h3",{children:"Book Flights with Samskruthi Airlines \u2013 Seamless, Affordable & Hassle-Free"}),(0,_t.jsxs)("p",{children:["Planning your next trip? Whether it's a domestic journey within India or an international adventure, ",(0,_t.jsx)("strong",{children:"Samskruthi Airlines"})," makes it simple to book cheap flights without any hassle."]}),(0,_t.jsx)("p",{children:"Our platform has an easy-to-use interface and offers multiple airline choices with affordable fares, helping you find the best travel deals with ease. Whether you're flying for business or leisure, our efficient search engine and seamless experience ensure smooth booking every time."}),(0,_t.jsx)("h3",{children:"Why Choose Samskruthi Airlines for Flight Booking?"}),(0,_t.jsxs)("ul",{children:[(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Best Deals & Transparent Pricing:"})," No hidden charges \u2014 just competitive fares to help you save."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Flexible Booking & Cancellations:"})," Modify or cancel your booking with ease and minimal charges."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Wide Airline Options:"})," Compare flight prices across multiple carriers in one view."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Seamless Booking Process:"})," Quick search, secure payments, and instant confirmation."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"24/7 Customer Support:"})," Assistance anytime, anywhere to ensure your journey is smooth."]})]}),(0,_t.jsx)("h3",{children:"How to Book Flights on Samskruthi Airlines?"}),(0,_t.jsxs)("ol",{children:[(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Enter Your Travel Details:"})," Choose departure and arrival cities, travel dates, and passenger count."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Compare Flight Options:"})," View available airlines, schedules, and prices."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Select the Best Flight:"})," Pick the one that fits your needs and budget."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Complete the Booking:"})," Fill in passenger info, apply offers, and make a secure payment."]}),(0,_t.jsxs)("li",{children:[(0,_t.jsx)("strong",{children:"Receive Instant Confirmation:"})," Your e-ticket and travel info will be sent directly to your inbox."]})]}),(0,_t.jsx)("h3",{children:"Enjoy a Hassle-Free Travel Experience"}),(0,_t.jsxs)("p",{children:["At ",(0,_t.jsx)("strong",{children:"Samskruthi Airlines"}),", we go beyond flight bookings. Our services include:"]}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:"Real-time flight status tracking"}),(0,_t.jsx)("li",{children:"Secure payment and data protection"}),(0,_t.jsx)("li",{children:"Comprehensive travel insurance options"}),(0,_t.jsx)("li",{children:"Baggage allowance details and extra add-ons"}),(0,_t.jsx)("li",{children:"Special assistance for senior citizens and infants"})]}),(0,_t.jsx)("p",{children:"From budget trips to premium travel, Samskruthi Airlines ensures a smooth and stress-free booking experience \u2014 saving you time, money, and effort."})]})]})]})};function Wt(e,t){return function(){return e.apply(t,arguments)}}const{toString:Gt}=Object.prototype,{getPrototypeOf:Vt}=Object,{iterator:Kt,toStringTag:$t}=Symbol,Yt=(Xt=Object.create(null),e=>{const t=Gt.call(e);return Xt[t]||(Xt[t]=t.slice(8,-1).toLowerCase())});var Xt;const Jt=e=>(e=e.toLowerCase(),t=>Yt(t)===e),Qt=e=>t=>typeof t===e,{isArray:Zt}=Array,en=Qt("undefined");function tn(e){return null!==e&&!en(e)&&null!==e.constructor&&!en(e.constructor)&&sn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nn=Jt("ArrayBuffer");const an=Qt("string"),sn=Qt("function"),ln=Qt("number"),rn=e=>null!==e&&"object"===typeof e,on=e=>{if("object"!==Yt(e))return!1;const t=Vt(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!($t in e)&&!(Kt in e)},cn=Jt("Date"),dn=Jt("File"),un=Jt("Blob"),hn=Jt("FileList"),mn=Jt("URLSearchParams"),[pn,vn,fn,gn]=["ReadableStream","Request","Response","Headers"].map(Jt);function xn(e,t){let n,a,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Zt(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(tn(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(n=0;n<i;n++)l=a[n],t.call(null,e[l],l,e)}}function bn(e,t){if(tn(e))return null;t=t.toLowerCase();const n=Object.keys(e);let a,s=n.length;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const yn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Nn=e=>!en(e)&&e!==yn;const jn=(wn="undefined"!==typeof Uint8Array&&Vt(Uint8Array),e=>wn&&e instanceof wn);var wn;const kn=Jt("HTMLFormElement"),Sn=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Cn=Jt("RegExp"),In=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};xn(n,(n,s)=>{let i;!1!==(i=t(n,s,e))&&(a[s]=i||n)}),Object.defineProperties(e,a)};const An=Jt("AsyncFunction"),Dn=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),a=[],yn.addEventListener("message",e=>{let{source:t,data:s}=e;t===yn&&s===n&&a.length&&a.shift()()},!1),e=>{a.push(e),yn.postMessage(n,"*")}):e=>setTimeout(e);var n,a})("function"===typeof setImmediate,sn(yn.postMessage)),En="undefined"!==typeof queueMicrotask?queueMicrotask.bind(yn):"undefined"!==typeof process&&process.nextTick||Dn,Pn={isArray:Zt,isArrayBuffer:nn,isBuffer:tn,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||sn(e.append)&&("formdata"===(t=Yt(e))||"object"===t&&sn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&nn(e.buffer),t},isString:an,isNumber:ln,isBoolean:e=>!0===e||!1===e,isObject:rn,isPlainObject:on,isEmptyObject:e=>{if(!rn(e)||tn(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Ul){return!1}},isReadableStream:pn,isRequest:vn,isResponse:fn,isHeaders:gn,isUndefined:en,isDate:cn,isFile:dn,isBlob:un,isRegExp:Cn,isFunction:sn,isStream:e=>rn(e)&&sn(e.pipe),isURLSearchParams:mn,isTypedArray:jn,isFileList:hn,forEach:xn,merge:function e(){const{caseless:t}=Nn(this)&&this||{},n={},a=(a,s)=>{const i=t&&bn(n,s)||s;on(n[i])&&on(a)?n[i]=e(n[i],a):on(a)?n[i]=e({},a):Zt(a)?n[i]=a.slice():n[i]=a};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&xn(arguments[s],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return xn(t,(t,a)=>{n&&sn(t)?e[a]=Wt(t,n):e[a]=t},{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let s,i,l;const r={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)l=s[i],a&&!a(l,e,t)||r[l]||(t[l]=e[l],r[l]=!0);e=!1!==n&&Vt(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Yt,kindOfTest:Jt,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Zt(e))return e;let t=e.length;if(!ln(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Kt]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:kn,hasOwnProperty:Sn,hasOwnProp:Sn,reduceDescriptors:In,freezeMethods:e=>{In(e,(t,n)=>{if(sn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];sn(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach(e=>{n[e]=!0})};return Zt(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:bn,global:yn,isContextDefined:Nn,isSpecCompliantForm:function(e){return!!(e&&sn(e.append)&&"FormData"===e[$t]&&e[Kt])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(rn(e)){if(t.indexOf(e)>=0)return;if(tn(e))return e;if(!("toJSON"in e)){t[a]=e;const s=Zt(e)?[]:{};return xn(e,(e,t)=>{const i=n(e,a+1);!en(i)&&(s[t]=i)}),t[a]=void 0,s}}return e};return n(e,0)},isAsyncFn:An,isThenable:e=>e&&(rn(e)||sn(e))&&sn(e.then)&&sn(e.catch),setImmediate:Dn,asap:En,isIterable:e=>null!=e&&sn(e[Kt])};function Tn(e,t,n,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}Pn.inherits(Tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pn.toJSONObject(this.config),code:this.code,status:this.status}}});const Rn=Tn.prototype,Fn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fn[e]={value:e}}),Object.defineProperties(Tn,Fn),Object.defineProperty(Rn,"isAxiosError",{value:!0}),Tn.from=(e,t,n,a,s,i)=>{const l=Object.create(Rn);return Pn.toFlatObject(e,l,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Tn.call(l,e.message,t,n,a,s),l.cause=e,l.name=e.name,i&&Object.assign(l,i),l};const On=Tn;function Ln(e){return Pn.isPlainObject(e)||Pn.isArray(e)}function Mn(e){return Pn.endsWith(e,"[]")?e.slice(0,-2):e}function Bn(e,t,n){return e?e.concat(t).map(function(e,t){return e=Mn(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const _n=Pn.toFlatObject(Pn,{},null,function(e){return/^is[A-Z]/.test(e)});const zn=function(e,t,n){if(!Pn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=Pn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!Pn.isUndefined(t[e])})).metaTokens,s=n.visitor||c,i=n.dots,l=n.indexes,r=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Pn.isSpecCompliantForm(t);if(!Pn.isFunction(s))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(Pn.isDate(e))return e.toISOString();if(Pn.isBoolean(e))return e.toString();if(!r&&Pn.isBlob(e))throw new On("Blob is not supported. Use a Buffer instead.");return Pn.isArrayBuffer(e)||Pn.isTypedArray(e)?r&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let r=e;if(e&&!s&&"object"===typeof e)if(Pn.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(Pn.isArray(e)&&function(e){return Pn.isArray(e)&&!e.some(Ln)}(e)||(Pn.isFileList(e)||Pn.endsWith(n,"[]"))&&(r=Pn.toArray(e)))return n=Mn(n),r.forEach(function(e,a){!Pn.isUndefined(e)&&null!==e&&t.append(!0===l?Bn([n],a,i):null===l?n:n+"[]",o(e))}),!1;return!!Ln(e)||(t.append(Bn(s,n,i),o(e)),!1)}const d=[],u=Object.assign(_n,{defaultVisitor:c,convertValue:o,isVisitable:Ln});if(!Pn.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!Pn.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+a.join("."));d.push(n),Pn.forEach(n,function(n,i){!0===(!(Pn.isUndefined(n)||null===n)&&s.call(t,n,Pn.isString(i)?i.trim():i,a,u))&&e(n,a?a.concat(i):[i])}),d.pop()}}(e),t};function Un(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Hn(e,t){this._pairs=[],e&&zn(e,this,t)}const qn=Hn.prototype;qn.append=function(e,t){this._pairs.push([e,t])},qn.toString=function(e){const t=e?function(t){return e.call(this,t,Un)}:Un;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Wn=Hn;function Gn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vn(e,t,n){if(!t)return e;const a=n&&n.encode||Gn;Pn.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(i=s?s(t,n):Pn.isURLSearchParams(t)?t.toString():new Wn(t,n).toString(a),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const Kn=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pn.forEach(this.handlers,function(t){null!==t&&e(t)})}},$n={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Wn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Xn="undefined"!==typeof window&&"undefined"!==typeof document,Jn="object"===typeof navigator&&navigator||void 0,Qn=Xn&&(!Jn||["ReactNative","NativeScript","NS"].indexOf(Jn.product)<0),Zn="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ea=Xn&&window.location.href||"http://localhost",ta=He(He({},a),Yn);const na=function(e){function t(e,n,a,s){let i=e[s++];if("__proto__"===i)return!0;const l=Number.isFinite(+i),r=s>=e.length;if(i=!i&&Pn.isArray(a)?a.length:i,r)return Pn.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!l;a[i]&&Pn.isObject(a[i])||(a[i]=[]);return t(e,n,a[i],s)&&Pn.isArray(a[i])&&(a[i]=function(e){const t={},n=Object.keys(e);let a;const s=n.length;let i;for(a=0;a<s;a++)i=n[a],t[i]=e[i];return t}(a[i])),!l}if(Pn.isFormData(e)&&Pn.isFunction(e.entries)){const n={};return Pn.forEachEntry(e,(e,a)=>{t(function(e){return Pn.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),a,n,0)}),n}return null};const aa={transitional:$n,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=Pn.isObject(e);s&&Pn.isHTMLForm(e)&&(e=new FormData(e));if(Pn.isFormData(e))return a?JSON.stringify(na(e)):e;if(Pn.isArrayBuffer(e)||Pn.isBuffer(e)||Pn.isStream(e)||Pn.isFile(e)||Pn.isBlob(e)||Pn.isReadableStream(e))return e;if(Pn.isArrayBufferView(e))return e.buffer;if(Pn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return zn(e,new ta.classes.URLSearchParams,He({visitor:function(e,t,n,a){return ta.isNode&&Pn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Pn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return zn(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),function(e,t,n){if(Pn.isString(e))try{return(t||JSON.parse)(e),Pn.trim(e)}catch(Ul){if("SyntaxError"!==Ul.name)throw Ul}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||aa.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(Pn.isResponse(e)||Pn.isReadableStream(e))return e;if(e&&Pn.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(Ul){if(n){if("SyntaxError"===Ul.name)throw On.from(Ul,On.ERR_BAD_RESPONSE,this,null,this.response);throw Ul}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ta.classes.FormData,Blob:ta.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pn.forEach(["delete","get","head","post","put","patch"],e=>{aa.headers[e]={}});const sa=aa,ia=Pn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),la=Symbol("internals");function ra(e){return e&&String(e).trim().toLowerCase()}function oa(e){return!1===e||null==e?e:Pn.isArray(e)?e.map(oa):String(e)}function ca(e,t,n,a,s){return Pn.isFunction(a)?a.call(this,t,n):(s&&(t=n),Pn.isString(t)?Pn.isString(a)?-1!==t.indexOf(a):Pn.isRegExp(a)?a.test(t):void 0:void 0)}class da{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function s(e,t,n){const s=ra(t);if(!s)throw new Error("header name must be a non-empty string");const i=Pn.findKey(a,s);(!i||void 0===a[i]||!0===n||void 0===n&&!1!==a[i])&&(a[i||t]=oa(e))}const i=(e,t)=>Pn.forEach(e,(e,n)=>s(e,n,t));if(Pn.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Pn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let n,a,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),a=e.substring(s+1).trim(),!n||t[n]&&ia[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)}),t})(e),t);else if(Pn.isObject(e)&&Pn.isIterable(e)){let n,a,s={};for(const t of e){if(!Pn.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[a=t[0]]=(n=s[a])?Pn.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}i(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=ra(e)){const n=Pn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(Pn.isFunction(t))return t.call(this,e,n);if(Pn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ra(e)){const n=Pn.findKey(this,e);return!(!n||void 0===this[n]||t&&!ca(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function s(e){if(e=ra(e)){const s=Pn.findKey(n,e);!s||t&&!ca(0,n[s],s,t)||(delete n[s],a=!0)}}return Pn.isArray(e)?e.forEach(s):s(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];e&&!ca(0,this[s],s,e,!0)||(delete this[s],a=!0)}return a}normalize(e){const t=this,n={};return Pn.forEach(this,(a,s)=>{const i=Pn.findKey(n,s);if(i)return t[i]=oa(a),void delete t[s];const l=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();l!==s&&delete t[s],t[l]=oa(a),n[l]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Pn.forEach(this,(n,a)=>{null!=n&&!1!==n&&(t[a]=e&&Pn.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return a.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[la]=this[la]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=ra(e);t[a]||(!function(e,t){const n=Pn.toCamelCase(" "+t);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+n,{value:function(e,n,s){return this[a].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[a]=!0)}return Pn.isArray(e)?e.forEach(a):a(e),this}}da.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Pn.reduceDescriptors(da.prototype,(e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}}),Pn.freezeMethods(da);const ua=da;function ha(e,t){const n=this||sa,a=t||n,s=ua.from(a.headers);let i=a.data;return Pn.forEach(e,function(e){i=e.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function ma(e){return!(!e||!e.__CANCEL__)}function pa(e,t,n){On.call(this,null==e?"canceled":e,On.ERR_CANCELED,t,n),this.name="CanceledError"}Pn.inherits(pa,On,{__CANCEL__:!0});const va=pa;function fa(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new On("Request failed with status code "+n.status,[On.ERR_BAD_REQUEST,On.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const ga=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let s,i=0,l=0;return t=void 0!==t?t:1e3,function(r){const o=Date.now(),c=a[l];s||(s=o),n[i]=r,a[i]=o;let d=l,u=0;for(;d!==i;)u+=n[d++],d%=e;if(i=(i+1)%e,i===l&&(l=(l+1)%e),o-s<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const xa=function(e,t){let n,a,s=0,i=1e3/t;const l=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=i,n=null,a&&(clearTimeout(a),a=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];t>=i?l(o,e):(n=o,a||(a=setTimeout(()=>{a=null,l(n)},i-t)))},()=>n&&l(n)]},ba=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,a=0;const s=ga(50,250);return xa(n=>{const i=n.loaded,l=n.lengthComputable?n.total:void 0,r=i-a,o=s(r);a=i;e({loaded:i,total:l,progress:l?i/l:void 0,bytes:r,rate:o||void 0,estimated:o&&l&&i<=l?(l-i)/o:void 0,event:n,lengthComputable:null!=l,[t?"download":"upload"]:!0})},n)},ya=(e,t)=>{const n=null!=e;return[a=>t[0]({lengthComputable:n,total:e,loaded:a}),t[1]]},Na=e=>function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return Pn.asap(()=>e(...n))},ja=ta.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ta.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ta.origin),ta.navigator&&/(msie|trident)/i.test(ta.navigator.userAgent)):()=>!0,wa=ta.hasStandardBrowserEnv?{write(e,t,n,a,s,i){const l=[e+"="+encodeURIComponent(t)];Pn.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),Pn.isString(a)&&l.push("path="+a),Pn.isString(s)&&l.push("domain="+s),!0===i&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ka(e,t,n){let a=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(a||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Sa=e=>e instanceof ua?He({},e):e;function Ca(e,t){t=t||{};const n={};function a(e,t,n,a){return Pn.isPlainObject(e)&&Pn.isPlainObject(t)?Pn.merge.call({caseless:a},e,t):Pn.isPlainObject(t)?Pn.merge({},t):Pn.isArray(t)?t.slice():t}function s(e,t,n,s){return Pn.isUndefined(t)?Pn.isUndefined(e)?void 0:a(void 0,e,0,s):a(e,t,0,s)}function i(e,t){if(!Pn.isUndefined(t))return a(void 0,t)}function l(e,t){return Pn.isUndefined(t)?Pn.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function r(n,s,i){return i in t?a(n,s):i in e?a(void 0,n):void 0}const o={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:r,headers:(e,t,n)=>s(Sa(e),Sa(t),0,!0)};return Pn.forEach(Object.keys(He(He({},e),t)),function(a){const i=o[a]||s,l=i(e[a],t[a],a);Pn.isUndefined(l)&&i!==r||(n[a]=l)}),n}const Ia=e=>{const t=Ca({},e);let n,{data:a,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:l,headers:r,auth:o}=t;if(t.headers=r=ua.from(r),t.url=Vn(ka(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&r.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Pn.isFormData(a))if(ta.hasStandardBrowserEnv||ta.hasStandardBrowserWebWorkerEnv)r.setContentType(void 0);else if(!1!==(n=r.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}if(ta.hasStandardBrowserEnv&&(s&&Pn.isFunction(s)&&(s=s(t)),s||!1!==s&&ja(t.url))){const e=i&&l&&wa.read(l);e&&r.set(i,e)}return t},Aa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const a=Ia(e);let s=a.data;const i=ua.from(a.headers).normalize();let l,r,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=a;function p(){c&&c(),d&&d(),a.cancelToken&&a.cancelToken.unsubscribe(l),a.signal&&a.signal.removeEventListener("abort",l)}let v=new XMLHttpRequest;function f(){if(!v)return;const a=ua.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders());fa(function(e){t(e),p()},function(e){n(e),p()},{data:u&&"text"!==u&&"json"!==u?v.response:v.responseText,status:v.status,statusText:v.statusText,headers:a,config:e,request:v}),v=null}v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout,"onloadend"in v?v.onloadend=f:v.onreadystatechange=function(){v&&4===v.readyState&&(0!==v.status||v.responseURL&&0===v.responseURL.indexOf("file:"))&&setTimeout(f)},v.onabort=function(){v&&(n(new On("Request aborted",On.ECONNABORTED,e,v)),v=null)},v.onerror=function(){n(new On("Network Error",On.ERR_NETWORK,e,v)),v=null},v.ontimeout=function(){let t=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const s=a.transitional||$n;a.timeoutErrorMessage&&(t=a.timeoutErrorMessage),n(new On(t,s.clarifyTimeoutError?On.ETIMEDOUT:On.ECONNABORTED,e,v)),v=null},void 0===s&&i.setContentType(null),"setRequestHeader"in v&&Pn.forEach(i.toJSON(),function(e,t){v.setRequestHeader(t,e)}),Pn.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),u&&"json"!==u&&(v.responseType=a.responseType),m&&([o,d]=ba(m,!0),v.addEventListener("progress",o)),h&&v.upload&&([r,c]=ba(h),v.upload.addEventListener("progress",r),v.upload.addEventListener("loadend",c)),(a.cancelToken||a.signal)&&(l=t=>{v&&(n(!t||t.type?new va(null,e,v):t),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(l),a.signal&&(a.signal.aborted?l():a.signal.addEventListener("abort",l)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(a.url);g&&-1===ta.protocols.indexOf(g)?n(new On("Unsupported protocol "+g+":",On.ERR_BAD_REQUEST,e)):v.send(s||null)})},Da=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,a=new AbortController;const s=function(e){if(!n){n=!0,l();const t=e instanceof Error?e:this.reason;a.abort(t instanceof On?t:new va(t instanceof Error?t.message:t))}};let i=t&&setTimeout(()=>{i=null,s(new On("timeout ".concat(t," of ms exceeded"),On.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:r}=a;return r.unsubscribe=()=>Pn.asap(l),r}};function Ea(e,t){this.v=e,this.k=t}function Pa(e){return function(){return new Ta(e.apply(this,arguments))}}function Ta(e){var t,n;function a(t,n){try{var i=e[t](n),l=i.value,r=l instanceof Ea;Promise.resolve(r?l.v:l).then(function(n){if(r){var o="return"===t?"return":"next";if(!l.k||n.done)return a(o,n);n=e[o](n).value}s(i.done?"return":"normal",n)},function(e){a("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?a(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(i,l){var r={key:e,arg:s,resolve:i,reject:l,next:null};n?n=n.next=r:(t=n=r,a(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function Ra(e){return new Ea(e,0)}function Fa(e){var t={},n=!1;function a(t,a){return n=!0,a=new Promise(function(n){n(e[t](a))}),{done:!1,value:new Ea(a,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):a("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return a("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):a("return",e)}),t}function Oa(e){var t,n,a,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new La(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function La(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return La=function(e){this.s=e,this.n=e.next},La.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new La(e)}Ta.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ta.prototype.next=function(e){return this._invoke("next",e)},Ta.prototype.throw=function(e){return this._invoke("throw",e)},Ta.prototype.return=function(e){return this._invoke("return",e)};const Ma=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let a,s=0;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Ba=function(){var e=Pa(function*(e,t){var n,a=!1,s=!1;try{for(var i,l=Oa(_a(e));a=!(i=yield Ra(l.next())).done;a=!1){const e=i.value;yield*Fa(Oa(Ma(e,t)))}}catch(r){s=!0,n=r}finally{try{a&&null!=l.return&&(yield Ra(l.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),_a=function(){var e=Pa(function*(e){if(e[Symbol.asyncIterator])return void(yield*Fa(Oa(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Ra(t.read());if(e)break;yield n}}finally{yield Ra(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),za=(e,t,n,a)=>{const s=Ba(e,t);let i,l=0,r=e=>{i||(i=!0,a&&a(e))};return new ReadableStream({async pull(e){try{const{done:t,value:a}=await s.next();if(t)return r(),void e.close();let i=a.byteLength;if(n){let e=l+=i;n(e)}e.enqueue(new Uint8Array(a))}catch(t){throw r(t),t}},cancel:e=>(r(e),s.return())},{highWaterMark:2})},Ua="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ha=Ua&&"function"===typeof ReadableStream,qa=Ua&&("function"===typeof TextEncoder?(Wa=new TextEncoder,e=>Wa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Wa;const Ga=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return!!e(...n)}catch(Ul){return!1}},Va=Ha&&Ga(()=>{let e=!1;const t=new Request(ta.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Ka=Ha&&Ga(()=>Pn.isReadableStream(new Response("").body)),$a={stream:Ka&&(e=>e.body)};var Ya;Ua&&(Ya=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!$a[e]&&($a[e]=Pn.isFunction(Ya[e])?t=>t[e]():(t,n)=>{throw new On("Response type '".concat(e,"' is not supported"),On.ERR_NOT_SUPPORT,n)})}));const Xa=async(e,t)=>{const n=Pn.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Pn.isBlob(e))return e.size;if(Pn.isSpecCompliantForm(e)){const t=new Request(ta.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Pn.isArrayBufferView(e)||Pn.isArrayBuffer(e)?e.byteLength:(Pn.isURLSearchParams(e)&&(e+=""),Pn.isString(e)?(await qa(e)).byteLength:void 0)})(t):n},Ja=Ua&&(async e=>{let{url:t,method:n,data:a,signal:s,cancelToken:i,timeout:l,onDownloadProgress:r,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Ia(e);c=c?(c+"").toLowerCase():"text";let m,p=Da([s,i&&i.toAbortSignal()],l);const v=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(o&&Va&&"get"!==n&&"head"!==n&&0!==(f=await Xa(d,a))){let e,n=new Request(t,{method:"POST",body:a,duplex:"half"});if(Pn.isFormData(a)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=ya(f,ba(Na(o)));a=za(n.body,65536,e,t)}}Pn.isString(u)||(u=u?"include":"omit");const s="credentials"in Request.prototype;m=new Request(t,He(He({},h),{},{signal:p,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:a,duplex:"half",credentials:s?u:void 0}));let i=await fetch(m,h);const l=Ka&&("stream"===c||"response"===c);if(Ka&&(r||l&&v)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=i[t]});const t=Pn.toFiniteNumber(i.headers.get("content-length")),[n,a]=r&&ya(t,ba(Na(r),!0))||[];i=new Response(za(i.body,65536,n,()=>{a&&a(),v&&v()}),e)}c=c||"text";let g=await $a[Pn.findKey($a,c)||"text"](i,e);return!l&&v&&v(),await new Promise((t,n)=>{fa(t,n,{data:g,headers:ua.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:m})})}catch(g){if(v&&v(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new On("Network Error",On.ERR_NETWORK,e,m),{cause:g.cause||g});throw On.from(g,g&&g.code,e,m)}}),Qa={http:null,xhr:Aa,fetch:Ja};Pn.forEach(Qa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Ul){}Object.defineProperty(e,"adapterName",{value:t})}});const Za=e=>"- ".concat(e),es=e=>Pn.isFunction(e)||null===e||!1===e,ts=e=>{e=Pn.isArray(e)?e:[e];const{length:t}=e;let n,a;const s={};for(let i=0;i<t;i++){let t;if(n=e[i],a=n,!es(n)&&(a=Qa[(t=String(n)).toLowerCase()],void 0===a))throw new On("Unknown adapter '".concat(t,"'"));if(a)break;s[t||"#"+i]=a}if(!a){const e=Object.entries(s).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Za).join("\n"):" "+Za(e[0]):"as no adapter specified";throw new On("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function ns(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new va(null,e)}function as(e){ns(e),e.headers=ua.from(e.headers),e.data=ha.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ts(e.adapter||sa.adapter)(e).then(function(t){return ns(e),t.data=ha.call(e,e.transformResponse,t),t.headers=ua.from(t.headers),t},function(t){return ma(t)||(ns(e),t&&t.response&&(t.response.data=ha.call(e,e.transformResponse,t.response),t.response.headers=ua.from(t.response.headers))),Promise.reject(t)})}const ss="1.11.0",is={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{is[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const ls={};is.transitional=function(e,t,n){function a(e,t){return"[Axios v"+ss+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,i)=>{if(!1===e)throw new On(a(s," has been removed"+(t?" in "+t:"")),On.ERR_DEPRECATED);return t&&!ls[s]&&(ls[s]=!0,console.warn(a(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,i)}},is.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const rs={assertOptions:function(e,t,n){if("object"!==typeof e)throw new On("options must be an object",On.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let s=a.length;for(;s-- >0;){const i=a[s],l=t[i];if(l){const t=e[i],n=void 0===t||l(t,i,e);if(!0!==n)throw new On("option "+i+" must be "+n,On.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new On("Unknown option "+i,On.ERR_BAD_OPTION)}},validators:is},os=rs.validators;class cs{constructor(e){this.defaults=e||{},this.interceptors={request:new Kn,response:new Kn}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Ul){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ca(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;void 0!==n&&rs.assertOptions(n,{silentJSONParsing:os.transitional(os.boolean),forcedJSONParsing:os.transitional(os.boolean),clarifyTimeoutError:os.transitional(os.boolean)},!1),null!=a&&(Pn.isFunction(a)?t.paramsSerializer={serialize:a}:rs.assertOptions(a,{encode:os.function,serialize:os.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),rs.assertOptions(t,{baseUrl:os.spelling("baseURL"),withXsrfToken:os.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=s&&Pn.merge(s.common,s[t.method]);s&&Pn.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=ua.concat(i,s);const l=[];let r=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!r){const e=[as.bind(this),void 0];for(e.unshift(...l),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=l.length;let h=t;for(u=0;u<d;){const e=l[u++],t=l[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=as.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return Vn(ka((e=Ca(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Pn.forEach(["delete","get","head","options"],function(e){cs.prototype[e]=function(t,n){return this.request(Ca(n||{},{method:e,url:t,data:(n||{}).data}))}}),Pn.forEach(["post","put","patch"],function(e){function t(t){return function(n,a,s){return this.request(Ca(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}cs.prototype[e]=t(),cs.prototype[e+"Form"]=t(!0)});const ds=cs;class us{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const a=new Promise(e=>{n.subscribe(e),t=e}).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e(function(e,a,s){n.reason||(n.reason=new va(e,a,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new us(function(t){e=t}),cancel:e}}}const hs=us;const ms={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ms).forEach(e=>{let[t,n]=e;ms[n]=t});const ps=ms;const vs=function e(t){const n=new ds(t),a=Wt(ds.prototype.request,n);return Pn.extend(a,ds.prototype,n,{allOwnKeys:!0}),Pn.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(Ca(t,n))},a}(sa);vs.Axios=ds,vs.CanceledError=va,vs.CancelToken=hs,vs.isCancel=ma,vs.VERSION=ss,vs.toFormData=zn,vs.AxiosError=On,vs.Cancel=vs.CanceledError,vs.all=function(e){return Promise.all(e)},vs.spread=function(e){return function(t){return e.apply(null,t)}},vs.isAxiosError=function(e){return Pn.isObject(e)&&!0===e.isAxiosError},vs.mergeConfig=Ca,vs.AxiosHeaders=ua,vs.formToJSON=e=>na(Pn.isHTMLForm(e)?new FormData(e):e),vs.getAdapter=ts,vs.HttpStatusCode=ps,vs.default=vs;const fs=vs,gs="https://tripjack.com",xs={"Content-Type":"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad"},bs="http://132.156.145.6:3400",ys=async e=>{try{const t=await fs.post("".concat(gs,"/fms/v1/air-search-all"),e,{headers:xs});return console.log("\u2705 Response:",t.data),t}catch(n){var t;throw console.error("\u274c API Error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},Ns=async e=>{try{const t={priceIds:(Array.isArray(e)?e:[e]).filter(Boolean)};console.log("\ud83d\udd04 Calling review API with priceIds:",t);const n=await fs.post("".concat(gs,"/fms/v1/review"),t,{headers:xs});return console.log("\u2705 Review API Response:",n.data),n.data}catch(n){var t;throw console.error("\u274c Review API Error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),Object.assign(n,{response:n.response})}},js=async e=>{try{console.log("\ud83d\udd04 Calling seat selection API (POST) with bookingId:",e);const t=await fs.post("".concat(gs,"/fms/v1/seat"),{bookingId:e},{headers:xs});return console.log("\u2705 Seat Selection API Response (POST):",t.data),t.data}catch(n){var t;throw console.error("\u274c Seat Selection API Error (POST):",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},ws=async e=>{try{console.log("\ud83d\udd04 Submitting passenger booking payload:",e);const t=await fs.post("".concat(bs,"/api/flights/passengerbooking"),e,{headers:{"Content-Type":"application/json"}});return console.log("\u2705 Passenger booking submission response:",t.data),t.data}catch(n){var t;throw console.error("\u274c Passenger booking submission error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},ks=async e=>{try{const t={flowType:"SEARCH",id:e};console.log("\ud83d\udd04 Calling fare rules API with payload:",t);const n=await fs.post("".concat(gs,"/fms/v1/farerule"),t,{headers:xs});return console.log("\u2705 Fare Rules API Response:",n.data),n.data}catch(n){var t;throw console.error("\u274c Fare Rules API Error:",(null===(t=n.response)||void 0===t?void 0:t.data)||n.message),n}},Ss=async()=>{try{const e=await fetch("".concat(bs,"/GetAirports"));if(!e.ok)throw new Error("Failed to fetch airports");const t=await e.json();return t.map(e=>{var t,n,a,s,i,l,r,o,c,d,u,h,m,p,v,f,g,x,b,y;return{code:e.AirportCode,name:e.AirportName,city:(null===(t=e.C)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.CityName)||"",state:(null===(a=e.C)||void 0===a||null===(s=a[0])||void 0===s||null===(i=s.S)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.StateName)||"",country:(null===(r=e.C)||void 0===r||null===(o=r[0])||void 0===o||null===(c=o.S)||void 0===c||null===(d=c[0])||void 0===d||null===(u=d.CO)||void 0===u||null===(h=u[0])||void 0===h?void 0:h.CountryName)||"",fullName:"".concat(e.AirportName," (").concat(e.AirportCode,") - ").concat((null===(m=e.C)||void 0===m||null===(p=m[0])||void 0===p?void 0:p.CityName)||"",", ").concat((null===(v=e.C)||void 0===v||null===(f=v[0])||void 0===f||null===(g=f.S)||void 0===g||null===(x=g[0])||void 0===x||null===(b=x.CO)||void 0===b||null===(y=b[0])||void 0===y?void 0:y.CountryName)||"")}})}catch(e){throw console.error("Error fetching airports:",e),e}},Cs=async e=>{try{const t=await fetch("".concat(bs,"/GetAirlines?search=").concat(encodeURIComponent(e)));if(!t.ok)throw new Error("Failed to fetch airlines");return await t.json()}catch(t){throw console.error("Error fetching airlines:",t),t}},Is=async()=>{try{const e=await fetch("".concat(bs,"/GetAirlines"));if(!e.ok)throw new Error("Failed to fetch all airlines");const t=await e.json();console.log("Raw airlines data from API:",t);const n=t.map(e=>{const t=(e.label||"").match(/\(([A-Z0-9]+)\)$/);return{code:t?t[1]:e.code||e.airlineCode||e.value,name:e.label||e.name,logo:e.logo||e.value}});return console.log("Transformed airlines data:",n),n}catch(e){throw console.error("Error fetching all airlines:",e),e}},As=async()=>{try{const e=await fetch("".concat(bs,"/GetAirlines"));if(!e.ok)throw new Error("Failed to fetch airlines with logos");const t=await e.json();console.log("Airlines with logos from API:",t);const n={};return t.forEach(e=>{const t=(e.label||"").match(/\(([A-Z0-9]+)\)$/),a=t?t[1]:e.code||e.airlineCode;if(a){let t=null;if(e.value&&e.value.startsWith("iVBORw0KGgoAAAANSUhEUg"))t="data:image/png;base64,".concat(e.value);else if(e.IMAGEURL||e.ImageURL){const n=(e.IMAGEURL||e.ImageURL).replace(/^.*[\\\/]images[\\\/]/,"/images/").replace(/\\/g,"/");t="".concat(bs).concat(n)}n[a]={name:e.label||e.name||e.airlineName,logo:t}}}),console.log("Airline map created:",n),n}catch(e){throw console.error("Error fetching airlines with logos:",e),e}},Ds=async e=>{try{const t=(await Ss()).find(t=>t.code===e);return t?t.city:e}catch(t){return console.error("Error fetching city name:",t),e}},Es=async e=>{try{console.log("Fetching airline name for code: ".concat(e));const t=await Is();console.log("All airlines from API:",t);const n=t.find(t=>t.code===e);console.log("Found airline for ".concat(e,":"),n);const a=n?n.name:e;return console.log("Returning airline name: ".concat(a)),a}catch(t){return console.error("Error fetching airline name:",t),e}},Ps=async e=>{try{const t=(await As())[e];return t?t.logo:"/airlineLogo.png"}catch(t){return console.error("Error fetching airline logo:",t),"/airlineLogo.png"}},Ts=(e,t)=>{if(!t||t.length<2)return[];const n=t.toLowerCase();return e.filter(e=>!(!e.code||!e.code.toLowerCase().includes(n))||(!(!e.name||!e.name.toLowerCase().includes(n))||(!(!e.city||!e.city.toLowerCase().includes(n))||(!(!e.state||!e.state.toLowerCase().includes(n))||(!(!e.country||!e.country.toLowerCase().includes(n))||!(!e.fullName||!e.fullName.toLowerCase().includes(n))))))).slice(0,10)},Rs=["/flight-hero/hero-f2.jpg","/flight-hero/hero-f7.jpg","/flight-hero/hero-f9.jpg","/flight-hero/hero-f11.jpg","/flight-hero/hero-f13.png","/flight-hero/hero-f3.png"],Fs=[],Os=e=>{var t,n,a,s,l,r;let{initialData:o=null,onSubmit:c=null,isModifyMode:d=!1}=e;const u=ae(),[h,m]=(0,i.useState)(0),[p,v]=(0,i.useState)(!1),f=Rs.length;(0,i.useEffect)(()=>{if(p||f<=1)return;const e=setInterval(()=>{m(e=>(e+1)%f)},3e3);return()=>clearInterval(e)},[p,f]);const[g,x]=(0,i.useState)((null===o||void 0===o?void 0:o.tripType)||"oneway"),[b,y]=(0,i.useState)({origin:"",destination:"",date:"",returnDate:"",adults:(null===o||void 0===o||null===(t=o.paxInfo)||void 0===t?void 0:t.ADULT)||1,children:(null===o||void 0===o||null===(n=o.paxInfo)||void 0===n?void 0:n.CHILD)||0,infants:(null===o||void 0===o||null===(a=o.paxInfo)||void 0===a?void 0:a.INFANT)||0,preferredAirline:(null===o||void 0===o||null===(s=o.filters)||void 0===s?void 0:s.preferredAirline)||"",directOnly:(null===o||void 0===o||null===(l=o.filters)||void 0===l?void 0:l.directOnly)||!1,cabinClass:(null===o||void 0===o?void 0:o.cabinClass)||"ECONOMY",showPassengerDropdown:!1,legs:(null===o||void 0===o||null===(r=o.routeInfos)||void 0===r?void 0:r.map(e=>{var t,n;return{origin:(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)||"",destination:(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)||"",date:e.travelDate||""}}))||[{origin:"",destination:"",date:""},{origin:"",destination:"",date:""}]}),[N,j]=(0,i.useState)([]),[w,k]=(0,i.useState)([]),[S,C]=(0,i.useState)(!1),I=e=>{if(!e)return"";const t=String(e).trim(),n=t.match(/\(([A-Z]{3})\)/i);if(n)return n[1].toUpperCase();const a=t.match(/\b([A-Z]{3})\b/);if(a)return a[1].toUpperCase();const s=N.find(e=>e.name&&e.name.toLowerCase()===t.toLowerCase());if(s)return s.code.toUpperCase();const i=N.find(e=>e.name&&e.name.toLowerCase().startsWith(t.toLowerCase()));if(i)return i.code.toUpperCase();const l=N.find(e=>e.city&&e.city.toLowerCase()===t.toLowerCase());if(l)return l.code.toUpperCase();const r=N.find(e=>e.city&&e.city.toLowerCase().startsWith(t.toLowerCase()));return r?r.code.toUpperCase():""};(0,i.useEffect)(()=>{var e,t,n,a,s,i,l,r,c,u,h,m,p,v,f,g;o&&d&&(x(o.tripType||"oneway"),y({origin:(null===(e=o.routeInfos)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.fromCityOrAirport)||void 0===n?void 0:n.code)||"",destination:(null===(a=o.routeInfos)||void 0===a||null===(s=a[0])||void 0===s||null===(i=s.toCityOrAirport)||void 0===i?void 0:i.code)||"",date:(null===(l=o.routeInfos)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.travelDate)||"",returnDate:(null===(c=o.routeInfos)||void 0===c||null===(u=c[1])||void 0===u?void 0:u.travelDate)||"",adults:(null===(h=o.paxInfo)||void 0===h?void 0:h.ADULT)||1,children:(null===(m=o.paxInfo)||void 0===m?void 0:m.CHILD)||0,infants:(null===(p=o.paxInfo)||void 0===p?void 0:p.INFANT)||0,preferredAirline:(null===(v=o.filters)||void 0===v?void 0:v.preferredAirline)||"",directOnly:(null===(f=o.filters)||void 0===f?void 0:f.directOnly)||!1,cabinClass:o.cabinClass||"ECONOMY",showPassengerDropdown:!1,legs:(null===(g=o.routeInfos)||void 0===g?void 0:g.map(e=>{var t,n;return{origin:(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)||"",destination:(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)||"",date:e.travelDate||""}}))||[{origin:"",destination:"",date:""},{origin:"",destination:"",date:""}]}))},[o,d]),(0,i.useEffect)(()=>{if(b.preferredAirline){const e=_(b.preferredAirline);e&&"Any Airline"!==e&&(K("".concat(e," (").concat(b.preferredAirline,")")),te({code:b.preferredAirline,name:e,logo:B(b.preferredAirline)}))}else K(""),te(null)},[b.preferredAirline]);(0,i.useEffect)(()=>{ne(),(async()=>{try{C(!0);const e=await Is();console.log("Loaded airline data in SearchForm:",e),k(e)}catch(e){console.error("Error loading initial airline data:",e)}finally{C(!1)}})()},[]);const[A,D]=(0,i.useState)({}),E=e=>{const t=(e||"").toUpperCase();return Fs.filter(e=>e.code.toUpperCase()!==t)},P=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if(y(He(He({},b),{},{[t]:"checkbox"===a?s:n})),A[t]){const e=He({},A);delete e[t],D(e)}},T=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},R=(e,t)=>{if(!e||!t)return 0;const n=new Date("".concat(e,"T00:00:00")),a=new Date("".concat(t,"T00:00:00"));return n.getTime()<a.getTime()?-1:n.getTime()>a.getTime()?1:0},F=()=>{const e={};var t;t=b.cabinClass,["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].includes(String(t||"").toUpperCase())||(e.cabinClass="Please select a valid cabin class.");const n=parseInt(b.adults||0,10),a=parseInt(b.children||0,10),s=parseInt(b.infants||0,10),i=n+a+s;(Number.isNaN(n)||n<1)&&(e.adults="At least 1 adult is required."),(Number.isNaN(a)||a<0)&&(e.children="Children cannot be negative."),(Number.isNaN(s)||s<0)&&(e.infants="Infants cannot be negative."),!Number.isNaN(i)&&i>9&&(e.passengers="A maximum of 9 passengers is allowed in one booking."),!Number.isNaN(s)&&!Number.isNaN(n)&&s>n&&(e.infants="Infants cannot exceed the number of adults.");const l=T();if("oneway"===g||"round"===g){const t=I(b.origin),n=I(b.destination);b.origin&&t||(e.origin="Please enter a valid origin airport."),b.destination&&n||(e.destination="Please enter a valid destination airport."),t&&n&&t===n&&(e.destination="Origin and destination cannot be the same."),b.date?R(b.date,l)<0&&(e.date="Departure date cannot be in the past."):e.date="Please select a departure date.","round"===g&&(b.returnDate?(R(b.returnDate,l)<0&&(e.returnDate="Return date cannot be in the past."),b.date&&R(b.returnDate,b.date)<0&&(e.returnDate="Return date cannot be before departure date.")):e.returnDate="Please select a return date.")}else if("multicity"===g){const t=b.legs.map(()=>({}));let n=null;b.legs.forEach((e,a)=>{const s=I(e.origin),i=I(e.destination);e.origin&&s||(t[a].origin="Enter a valid origin airport."),e.destination&&i||(t[a].destination="Enter a valid destination airport."),s&&i&&s===i&&(t[a].destination="Origin and destination cannot be the same."),e.date?R(e.date,l)<0?t[a].date="Date cannot be in the past.":n&&R(e.date,n)<0&&(t[a].date="Each leg date must be on/after the previous leg."):t[a].date="Select a travel date.",e.date&&(n=e.date)}),t.some(e=>Object.keys(e).length>0)&&(e.legs=t)}return D(e),0===Object.keys(e).length},O=(e,t,n)=>{const a=[...b.legs];a[e]=He(He({},a[e]),{},{[t]:n}),y(He(He({},b),{},{legs:a}))},L=I(b.origin),M=I(b.destination),B=e=>{if(!e)return null;const t=w.find(t=>t.code&&t.code.toUpperCase()===e.toUpperCase());if(t&&t.logo){if(t.logo.startsWith("data:")||t.logo.startsWith("http"))return t.logo;if(/^[A-Za-z0-9+/=]{100,}$/.test(t.logo))return"data:image/png;base64,".concat(t.logo)}return null},_=e=>{if(!e)return"Any Airline";const t=w.find(t=>t.code&&t.code.toUpperCase()===e.toUpperCase());return t&&t.name?t.name:"Any Airline"},[z,U]=(0,i.useState)({}),[H,q]=(0,i.useState)(null),[W,G]=(0,i.useState)(!1),[V,K]=(0,i.useState)(""),[$,Y]=(0,i.useState)([]),[X,J]=(0,i.useState)(!1),[Q,Z]=(0,i.useState)(!1),[ee,te]=(0,i.useState)(null),ne=async()=>{try{const e=await Ss();j(e)}catch(e){console.error("Error loading initial airport data:",e)}},se=(()=>{let e;return(t,n)=>{clearTimeout(e),e=setTimeout(()=>{(async(e,t)=>{if(!e||e.length<2)U(e=>He(He({},e),{},{[t]:[]}));else{G(!0);try{const n=await Ss();j(n);const a=Ts(n,e);U(e=>He(He({},e),{},{[t]:a}))}catch(n){console.error("Error fetching airports:",n),U(e=>He(He({},e),{},{[t]:[]}))}finally{G(!1)}}})(t,n)},300)}})(),ie=(e,t)=>{const{value:n}=e.target;y(e=>He(He({},e),{},{[t]:n})),q(t),n?se(n,t):U(e=>He(He({},e),{},{[t]:[]}))},le=(e,t)=>{console.log("SearchForm airport selected:",e,t),ue(!0),y(n=>He(He({},n),{},{[t]:e.fullName})),U(e=>He(He({},e),{},{[t]:[]})),q(null),setTimeout(()=>{ue(!1)},100)},re=(e,t,n)=>{const a=[...b.legs];a[e]=He(He({},a[e]),{},{[t]:n}),y(He(He({},b),{},{legs:a}));const s="leg-".concat(e,"-").concat(t);q(s),n?se(n,s):U(e=>He(He({},e),{},{[s]:[]}))},oe=(e,t,n)=>{ue(!0);const a=[...b.legs];a[t]=He(He({},a[t]),{},{[n]:e.fullName}),y(He(He({},b),{},{legs:a}));const s="leg-".concat(t,"-").concat(n);U(e=>He(He({},e),{},{[s]:[]})),q(null),setTimeout(()=>{ue(!1)},100)},ce=e=>{console.log("SearchForm airline selected:",e),ue(!0);const t=e.label.match(/\(([A-Z0-9]+)\)/),n=t?t[1]:e.value,a=e.logo?e.logo.startsWith("data:")?e.logo:"data:image/png;base64,".concat(e.logo):/^[A-Za-z0-9+/=]{100,}$/.test(e.value||"")?"data:image/png;base64,".concat(e.value):null;y(He(He({},b),{},{preferredAirline:n})),K(e.label),te({code:n,name:e.label.split(" (")[0],logo:a}),Z(!1),Y([]),setTimeout(()=>{ue(!1)},100)},[de,ue]=(0,i.useState)(!1),he=()=>{setTimeout(()=>{de||q(null),ue(!1)},250)},me=e=>{e.target.closest(".input-field")||q(null)};(0,i.useEffect)(()=>(document.addEventListener("click",me),()=>{document.removeEventListener("click",me)}),[]);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"search-flights-container",children:[(0,_t.jsx)("div",{className:"search-flights-background",onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),style:{backgroundImage:"url(".concat(Rs[h],")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transition:"all 1.5s ease-in-out",filter:"brightness(0.9) contrast(1.1)"},children:(0,_t.jsxs)("div",{className:"search-flights-content",children:[(0,_t.jsx)("h1",{className:"search-flights-title",children:"Book flights and explore the world with us."}),(0,_t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),console.log("SearchForm submitted!"),!F())return void console.log("SearchForm validation failed");console.log("SearchForm validation passed");const t=parseInt(b.adults||0,10),n=parseInt(b.children||0,10),a=parseInt(b.infants||0,10),s=t+n+a;if(t<1)return void alert("At least 1 adult is required.");if(s>9)return void alert("A maximum of 9 passengers is allowed in one booking.");if(a>t)return void alert("Infants cannot exceed the number of adults.");let i=[];if("oneway"===g){i=[{fromCityOrAirport:{code:I(b.origin)},toCityOrAirport:{code:I(b.destination)},travelDate:b.date}]}else if("round"===g){const e=I(b.origin),t=I(b.destination);i=[{fromCityOrAirport:{code:e},toCityOrAirport:{code:t},travelDate:b.date},{fromCityOrAirport:{code:t},toCityOrAirport:{code:e},travelDate:b.returnDate}]}else"multicity"===g&&(i=b.legs.map(e=>({fromCityOrAirport:{code:I(e.origin)},toCityOrAirport:{code:I(e.destination)},travelDate:e.date})));const l={tripType:g,cabinClass:b.cabinClass||"ECONOMY",paxInfo:{ADULT:t,CHILD:n,INFANT:a},routeInfos:i,filters:{preferredAirline:b.preferredAirline||"",directOnly:!!b.directOnly}};if(d&&c)c(l);else{localStorage.setItem("searchData",JSON.stringify(l));const e=localStorage.getItem("user");if(console.log("User logged in:",!!e),!e)return sessionStorage.setItem("redirectAfterLogin","/flights/details"),console.log("Stored redirect path: /flights/details"),void window.dispatchEvent(new CustomEvent("showLoginModal"));console.log("Navigating to /flights/details"),u("/flights/details")}},className:"search-flights-form",children:[(0,_t.jsxs)("div",{className:"trip-type-selector",children:[(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("oneway"===g?"active":""),onClick:()=>x("oneway"),children:"ONE WAY"}),(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("round"===g?"active":""),onClick:()=>x("round"),children:"ROUND TRIP"}),(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("multicity"===g?"active":""),onClick:()=>x("multicity"),children:"MULTI CITY"})]}),"multicity"!==g?(0,_t.jsxs)("div",{className:"flight-details-row",children:[(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"From"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"origin",list:"airports-origin",placeholder:"From",value:b.origin,onChange:e=>ie(e,"origin"),onBlur:he,className:"airport-input",required:!0}),"origin"===H&&z.origin&&z.origin.length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:z.origin.map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),le(e,"origin")},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),le(e,"origin")},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),le(e,"origin")},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),le(e,"origin")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),b.origin&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>y(He(He({},b),{},{origin:""})),children:"\xd7"}),A.origin&&(0,_t.jsx)("div",{className:"error-messages",children:A.origin})]}),(0,_t.jsx)("button",{type:"button",className:"swap-btn",onClick:()=>{y(He(He({},b),{},{origin:b.destination,destination:b.origin}))},title:"Swap origin and destination",children:(0,_t.jsx)(et,{size:20})}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"To"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"destination",list:"airports-destination",placeholder:"To",value:b.destination,onChange:e=>ie(e,"destination"),onBlur:he,className:"airport-input",required:!0}),"destination"===H&&z.destination&&z.destination.length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:z.destination.map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),le(e,"destination")},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),le(e,"destination")},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),le(e,"destination")},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),le(e,"destination")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),b.destination&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>y(He(He({},b),{},{destination:""})),children:"\xd7"}),A.destination&&(0,_t.jsx)("div",{className:"error-messages",children:A.destination})]}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Departure Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"date",value:b.date,onChange:P,min:T(),className:"date-input",required:!0}),A.date&&(0,_t.jsx)("div",{className:"error-messages",children:A.date})]}),"round"===g&&(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Return Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"returnDate",value:b.returnDate,onChange:P,min:b.date||T(),className:"date-input",required:!0}),b.returnDate&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>y(He(He({},b),{},{returnDate:""})),children:"\xd7"}),A.returnDate&&(0,_t.jsx)("div",{className:"error-messages",children:A.returnDate})]}),(0,_t.jsxs)("div",{className:"input-field passenger-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Passenger & Class"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-1.5-2c-.47-.62-1.21-.99-2.01-.99H6.46c-.8 0-1.54.37-2.01.99L2 17.5V22h16z"})})}),(0,_t.jsx)("div",{className:"passenger-info",onClick:()=>y(He(He({},b),{},{showPassengerDropdown:!b.showPassengerDropdown})),style:{cursor:"pointer"},children:(0,_t.jsxs)("div",{className:"passenger-details",children:[b.adults+b.children+b.infants," Passenger | ",b.cabinClass]})}),b.showPassengerDropdown&&(0,_t.jsxs)("div",{className:"passenger-dropdown",children:[(0,_t.jsxs)("div",{className:"dropdown-header",children:[(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT PASSENGER"}),(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT CLASS"}),(0,_t.jsx)("button",{className:"close-dropdown-btn",onClick:e=>{e.stopPropagation(),y(He(He({},b),{},{showPassengerDropdown:!1}))},children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"dropdown-content",children:[(0,_t.jsxs)("div",{className:"passenger-selection",children:[(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Adult (Age 12+)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.adults===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm adult passenger selected:",e),y(He(He({},b),{},{adults:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm adult passenger mousedown:",e),y(He(He({},b),{},{adults:e}))},children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Children (Age 2-12)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.children===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm child passenger selected:",e),y(He(He({},b),{},{children:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm child passenger mousedown:",e),y(He(He({},b),{},{children:e}))},children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Infant (Age 0-2)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.infants===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm infant passenger selected:",e),y(He(He({},b),{},{infants:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm infant passenger mousedown:",e),y(He(He({},b),{},{infants:e}))},children:e},e))})]})]}),(0,_t.jsx)("div",{className:"class-selection",children:["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].map(e=>(0,_t.jsxs)("label",{className:"class-option",children:[(0,_t.jsx)("input",{type:"radio",name:"cabinClass",value:e,checked:b.cabinClass===e,onChange:e=>y(He(He({},b),{},{cabinClass:e.target.value}))}),(0,_t.jsx)("span",{className:"class-label",children:e.replace("_"," ")})]},e))})]}),(0,_t.jsx)("div",{className:"dropdown-footer",children:(0,_t.jsx)("button",{className:"done-btn",onClick:e=>{e.stopPropagation(),y(He(He({},b),{},{showPassengerDropdown:!1}))},children:"DONE"})})]})]}),(0,_t.jsx)("button",{type:"submit",className:"search-btns",children:"SEARCH"})]}):(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"multicity-container ".concat(b.legs.length>=2?"scrollable":""),children:[b.legs.map((e,t)=>(0,_t.jsx)("div",{className:"leg-container",children:(0,_t.jsxs)("div",{className:"leg-row",children:[(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Where From ?"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"legs[".concat(t,"].origin"),list:"airports-origin-".concat(t),placeholder:"Where From ?",value:e.origin,onChange:e=>re(t,"origin",e.target.value),onBlur:he,className:"airport-input",required:!0}),H==="leg-".concat(t,"-origin")&&z["leg-".concat(t,"-origin")]&&z["leg-".concat(t,"-origin")].length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:z["leg-".concat(t,"-origin")].map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"origin")},onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"origin")},onPointerDown:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"origin")},onTouchStart:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"origin")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),e.origin&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>O(t,"origin",""),children:"\xd7"}),A.legs&&A.legs[t]&&A.legs[t].origin&&(0,_t.jsx)("div",{className:"error-messages",children:A.legs[t].origin})]}),(0,_t.jsx)("button",{type:"button",className:"swap-btn",onClick:()=>(e=>{const t=[...b.legs],n=t[e].origin;t[e].origin=t[e].destination,t[e].destination=n,y(He(He({},b),{},{legs:t}))})(t),title:"Swap origin and destination",children:(0,_t.jsx)(et,{size:20})}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Where To ?"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"legs[".concat(t,"].destination"),list:"airports-destination-".concat(t),placeholder:"Where To ?",value:e.destination,onChange:e=>re(t,"destination",e.target.value),onBlur:he,className:"airport-input",required:!0}),H==="leg-".concat(t,"-destination")&&z["leg-".concat(t,"-destination")]&&z["leg-".concat(t,"-destination")].length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:z["leg-".concat(t,"-destination")].map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"destination")},onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"destination")},onPointerDown:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"destination")},onTouchStart:n=>{n.preventDefault(),n.stopPropagation(),oe(e,t,"destination")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),e.destination&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>O(t,"destination",""),children:"\xd7"}),A.legs&&A.legs[t]&&A.legs[t].destination&&(0,_t.jsx)("div",{className:"error-messages",children:A.legs[t].destination})]}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"legs[".concat(t,"].date"),value:e.date,onChange:e=>O(t,"date",e.target.value),min:T(),className:"date-input",required:!0}),A.legs&&A.legs[t]&&A.legs[t].date&&(0,_t.jsx)("div",{className:"error-messages",children:A.legs[t].date})]}),0===t&&(0,_t.jsxs)("div",{className:"input-field passenger-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Passenger & Class"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-1.5-2c-.47-.62-1.21-.99-2.01-.99H6.46c-.8 0-1.54.37-2.01.99L2 17.5V22h16z"})})}),(0,_t.jsx)("div",{className:"passenger-info",onClick:()=>y(He(He({},b),{},{showPassengerDropdown:!b.showPassengerDropdown})),style:{cursor:"pointer"},children:(0,_t.jsxs)("div",{className:"passenger-details",children:[b.adults+b.children+b.infants," Passenger | ",b.cabinClass]})}),b.showPassengerDropdown&&(0,_t.jsxs)("div",{className:"passenger-dropdown",children:[(0,_t.jsxs)("div",{className:"dropdown-header",children:[(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT PASSENGER"}),(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT CLASS"}),(0,_t.jsx)("button",{className:"close-dropdown-btn",onClick:e=>{e.stopPropagation(),y(He(He({},b),{},{showPassengerDropdown:!1}))},children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"dropdown-content",children:[(0,_t.jsxs)("div",{className:"passenger-selection",children:[(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Adult (Age 12+)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.adults===e?"selected":""),onClick:()=>y(He(He({},b),{},{adults:e})),children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Children (Age 2-12)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.children===e?"selected":""),onClick:()=>y(He(He({},b),{},{children:e})),children:e}))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Infant (Age 0-2)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(b.infants===e?"selected":""),onClick:()=>y(He(He({},b),{},{infants:e})),children:e}))})]})]}),(0,_t.jsx)("div",{className:"class-selection",children:["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].map(e=>(0,_t.jsxs)("label",{className:"class-option",children:[(0,_t.jsx)("input",{type:"radio",name:"cabinClass",value:e,checked:b.cabinClass===e,onChange:e=>y(He(He({},b),{},{cabinClass:e.target.value}))}),(0,_t.jsx)("span",{className:"class-label",children:e.replace("_"," ")})]},e))})]}),(0,_t.jsx)("div",{className:"dropdown-footer",children:(0,_t.jsx)("button",{className:"done-btn",onClick:e=>{e.stopPropagation(),y(He(He({},b),{},{showPassengerDropdown:!1}))},children:"DONE"})})]})]}),b.legs.length>1&&t===b.legs.length-1&&(0,_t.jsx)("button",{type:"button",className:"remove-leg-btn",onClick:()=>(e=>{const t=b.legs.filter((t,n)=>n!==e);if(y(He(He({},b),{},{legs:t})),A.legs){const e=He({},A);delete e.legs,D(e)}})(t),children:"\xd7"})]})},t)),b.legs.length<6&&(0,_t.jsx)("div",{className:"multicity-add-btn-container",children:(0,_t.jsx)("button",{type:"button",className:"add-leg-btn",onClick:()=>{if(b.legs.length>=6)return void alert("You can add at most 6 segments.");const e=b.legs[b.legs.length-1],t={origin:(null===e||void 0===e?void 0:e.destination)||"",destination:"",date:""};if(y(He(He({},b),{},{legs:[...b.legs,t]})),A.legs){const e=He({},A);delete e.legs,D(e)}},children:"ADD ONE MORE CITY"})})]}),(0,_t.jsx)("button",{type:"submit",className:"search-btns",children:"SEARCH"})]}),(0,_t.jsxs)("div",{className:"additional-options-row",children:[(0,_t.jsxs)("div",{className:"preferred-airline-dropdown",children:[(0,_t.jsxs)("div",{className:"airline-dropdown-content",children:[(0,_t.jsx)("span",{className:"airline-label",children:"Select Preferred Airline"}),b.preferredAirline&&ee?(0,_t.jsxs)("div",{className:"selected-airline-display",children:[(0,_t.jsxs)("div",{className:"airline-logo-small",children:[(()=>{if(ee&&ee.logo)return(0,_t.jsx)("img",{src:ee.logo,alt:ee.name,className:"airline-logo-img-small",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}});const e=B(b.preferredAirline);return e?(0,_t.jsx)("img",{src:e,alt:(null===ee||void 0===ee?void 0:ee.name)||"Airline",className:"airline-logo-img-small",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,_t.jsx)("div",{className:"airline-logo-fallback",style:{display:"flex"},children:b.preferredAirline})})(),(0,_t.jsx)("div",{className:"airline-logo-fallback",style:{display:"none"},children:b.preferredAirline})]}),(0,_t.jsxs)("div",{className:"airline-info-small",children:[(0,_t.jsx)("div",{className:"airline-name-small",children:ee.name}),(0,_t.jsxs)("div",{className:"airline-code-small",children:["(",b.preferredAirline,")"]})]}),(0,_t.jsx)("button",{type:"button",className:"clear-airline-btn-small",onClick:()=>{y(He(He({},b),{},{preferredAirline:""})),K(""),te(null),Z(!1),Y([])},title:"Clear selection",children:"\xd7"})]}):(0,_t.jsx)("div",{className:"airline-placeholder-text",children:"Any Airline"})]}),(0,_t.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",className:"dropdown-arrow",children:(0,_t.jsx)("path",{d:"M7 10l5 5 5-5z"})}),(0,_t.jsxs)("div",{className:"airline-search-input-container",children:[(0,_t.jsx)("input",{type:"text",placeholder:"Search Airline",value:V,onChange:e=>{const t=e.target.value;K(t),t.length>=2?((async e=>{if(!e||e.length<2)Y([]);else{J(!0);try{const t=await Cs(e);Y(t)}catch(t){console.error("Error fetching airlines:",t),Y([])}finally{J(!1)}}})(t),Z(!0)):(Y([]),Z(!1))},onFocus:()=>{V.length>=2&&Z(!0)},onBlur:()=>{setTimeout(()=>{de||Z(!1),ue(!1)},250)},className:"airline-search-input"}),X&&(0,_t.jsx)("div",{className:"airline-loading-spinner"}),Q&&$.length>0&&(0,_t.jsx)("div",{className:"airline-suggestions",children:$.map(e=>{const t=e.logo?e.logo.startsWith("data:")?e.logo:"data:image/png;base64,".concat(e.logo):/^[A-Za-z0-9+/=]{100,}$/.test(e.value||"")?"data:image/png;base64,".concat(e.value):null;return(0,_t.jsxs)("div",{className:"airline-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),ce(e)},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),ce(e)},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),ce(e)},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),ce(e)},children:[t&&(0,_t.jsx)("img",{src:t,alt:e.label}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:e.label}),e.value&&/^[A-Z0-9]{1,3}$/.test(e.value)&&(0,_t.jsx)("div",{className:"airline-code",children:e.value})]})]},e.value||e.code||e.label)})})]})]}),(0,_t.jsxs)("label",{className:"direct-flight-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",name:"directOnly",checked:b.directOnly,onChange:P}),(0,_t.jsx)("span",{children:"Direct Flight"})]})]}),A.cabinClass&&(0,_t.jsx)("div",{className:"error-messages",children:A.cabinClass}),A.passengers&&(0,_t.jsx)("div",{className:"error-messages",children:A.passengers})]}),(0,_t.jsx)("datalist",{id:"airports-origin",children:E(M).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),(0,_t.jsx)("datalist",{id:"airports-destination",children:E(L).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),b.legs.map((e,t)=>{const n=I(e.origin),a=I(e.destination);return(0,_t.jsxs)(i.Fragment,{children:[(0,_t.jsx)("datalist",{id:"airports-origin-".concat(t),children:E(a).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),(0,_t.jsx)("datalist",{id:"airports-destination-".concat(t),children:E(n).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))})]},t)})]})}),(0,_t.jsx)("section",{className:"top-deals-section",children:(0,_t.jsxs)("div",{className:"top-deals-container",children:[(0,_t.jsxs)("div",{className:"top-deals-header",children:[(0,_t.jsx)("h2",{className:"top-deals-heading",children:"Top Deals"}),(0,_t.jsx)("p",{className:"top-deals-subheading",children:"Grab the hottest travel deals before they are gone!"})]}),(0,_t.jsx)("div",{className:"top-deals-grid",children:[{id:"d1",title:"Goa Summer Special",description:"Flat 30% off on all Goa packages!",image:"/Goa.jpg",price:"From \u20b93,150"},{id:"d2",title:"Paris Romantic Escape",description:"Save up to \u20b910,000 on Paris trips.",image:"/paris.jpeg",price:"From \u20b925,000"},{id:"d3",title:"Dubai Luxury Deal",description:"Free city tour with every Dubai booking.",image:"/Dubai.avif",price:"From \u20b910,000"}].map(e=>(0,_t.jsxs)("div",{className:"top-deals-card",children:[(0,_t.jsx)("img",{src:e.image,alt:e.title,className:"top-deals-image"}),(0,_t.jsxs)("div",{className:"top-deals-content",children:[(0,_t.jsx)("h3",{className:"top-deals-title",children:e.title}),(0,_t.jsx)("p",{className:"top-deals-description",children:e.description}),(0,_t.jsx)("div",{className:"top-deals-price",children:e.price})]})]},e.id))})]})})]}),(0,_t.jsx)("section",{className:"partners-section",children:(0,_t.jsxs)("div",{className:"partners-header",children:[(0,_t.jsx)("h2",{children:"Enjoy seamless journeys with our trusted airline partners."}),(0,_t.jsxs)("div",{className:"partners-cards",children:[(0,_t.jsx)("div",{className:"partner-card",children:(0,_t.jsxs)("div",{className:"partner-media",children:[(0,_t.jsx)("video",{src:"/airline.mp4",className:"partner-tail",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,style:{width:"100%",height:"auto",objectFit:"cover"}}),(0,_t.jsxs)("div",{className:"partner-overlay",children:[(0,_t.jsxs)("h3",{className:"partner-name",children:[(0,_t.jsx)("img",{src:"/Indigo-logo.jpg",alt:"plane",style:{width:60,height:52,marginRight:8,verticalAlign:"middle"}}),"IndiGo"]}),(0,_t.jsx)("p",{className:"partner-desc",children:"India\u2019s largest low-cost airline, known for punctuality and a vast domestic network."})]}),(0,_t.jsx)("img",{src:"/indigo.png",alt:"IndiGo Logo",className:"partner-logo"})]})}),(0,_t.jsx)("div",{className:"partner-card",children:(0,_t.jsxs)("div",{className:"partner-media",children:[(0,_t.jsx)("video",{src:"/airline.mp4",className:"partner-tail",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,_t.jsxs)("div",{className:"partner-overlay",children:[(0,_t.jsxs)("h3",{className:"partner-name",children:[(0,_t.jsx)("img",{src:"/AirIndia-icon1.png",alt:"plane",style:{width:65,height:52,marginRight:8,verticalAlign:"middle"}}),"Air India"]}),(0,_t.jsx)("p",{className:"partner-desc",children:"The national carrier offering full-service flights with international and domestic reach."})]}),(0,_t.jsx)("img",{src:"/AirIndia.png",alt:"Air India Logo",className:"partner-logo"})]})}),(0,_t.jsx)("div",{className:"partner-card",children:(0,_t.jsxs)("div",{className:"partner-media",children:[(0,_t.jsx)("video",{src:"/airline2.mp4",className:"partner-tail",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,_t.jsxs)("div",{className:"partner-overlay",children:[(0,_t.jsxs)("h3",{className:"partner-name",children:[(0,_t.jsx)("img",{src:"/AkasaAir-icon.png",alt:"plane",style:{width:70,height:42,marginRight:8,verticalAlign:"middle"}}),"Akasa Air"]}),(0,_t.jsx)("p",{className:"partner-desc",children:"A premium full-service airline known for comfort, service quality, and reliability."})]}),(0,_t.jsx)("img",{src:"/vistaras.png",alt:"Akasa Air Logo",className:"partner-logo"})]})}),(0,_t.jsx)("div",{className:"partner-card",children:(0,_t.jsxs)("div",{className:"partner-media",children:[(0,_t.jsx)("video",{src:"/airline1.mp4",className:"partner-tail",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),(0,_t.jsxs)("div",{className:"partner-overlay",children:[(0,_t.jsxs)("h3",{className:"partner-name",children:[(0,_t.jsx)("img",{src:"/Spicejet-icon.png",alt:"plane",style:{width:62,height:42,marginRight:8,verticalAlign:"middle"}}),"SpiceJet"]}),(0,_t.jsx)("p",{className:"partner-desc",children:"A budget-friendly carrier with wide domestic coverage and regional connectivity."})]}),(0,_t.jsx)("img",{src:"/SpiceJet.png",alt:"SpiceJet Logo",className:"partner-logo"})]})})]})]})}),(0,_t.jsx)(qt,{})]})},Ls=[],Ms=e=>{var t,n,a,s,l,r;let{initialData:o=null,onSubmit:c=null,isModifyMode:d=!1}=e;const u=ae(),[h,m]=(0,i.useState)(0),[p,v]=(0,i.useState)(!1),[f,g]=(0,i.useState)((null===o||void 0===o?void 0:o.tripType)||"oneway"),[x,b]=(0,i.useState)({origin:"",destination:"",date:"",returnDate:"",adults:(null===o||void 0===o||null===(t=o.paxInfo)||void 0===t?void 0:t.ADULT)||1,children:(null===o||void 0===o||null===(n=o.paxInfo)||void 0===n?void 0:n.CHILD)||0,infants:(null===o||void 0===o||null===(a=o.paxInfo)||void 0===a?void 0:a.INFANT)||0,preferredAirline:(null===o||void 0===o||null===(s=o.filters)||void 0===s?void 0:s.preferredAirline)||"",directOnly:(null===o||void 0===o||null===(l=o.filters)||void 0===l?void 0:l.directOnly)||!1,cabinClass:(null===o||void 0===o?void 0:o.cabinClass)||"ECONOMY",showPassengerDropdown:!1,legs:(null===o||void 0===o||null===(r=o.routeInfos)||void 0===r?void 0:r.map(e=>{var t,n;return{origin:(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)||"",destination:(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)||"",date:e.travelDate||""}}))||[{origin:"",destination:"",date:""},{origin:"",destination:"",date:""}]}),[y,N]=(0,i.useState)([]),[j,w]=(0,i.useState)([]),[k,S]=(0,i.useState)(!1),C=e=>{if(!e)return"";const t=String(e).trim(),n=t.match(/\(([A-Z]{3})\)/i);if(n)return n[1].toUpperCase();const a=t.match(/\b([A-Z]{3})\b/);if(a)return a[1].toUpperCase();const s=y.find(e=>e.name&&e.name.toLowerCase()===t.toLowerCase());if(s)return s.code.toUpperCase();const i=y.find(e=>e.name&&e.name.toLowerCase().startsWith(t.toLowerCase()));if(i)return i.code.toUpperCase();const l=y.find(e=>e.city&&e.city.toLowerCase()===t.toLowerCase());if(l)return l.code.toUpperCase();const r=y.find(e=>e.city&&e.city.toLowerCase().startsWith(t.toLowerCase()));return r?r.code.toUpperCase():""};(0,i.useEffect)(()=>{var e,t,n,a,s,i,l,r,c,u,h,m,p,v,f,x;o&&d&&(g(o.tripType||"oneway"),b({origin:(null===(e=o.routeInfos)||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.fromCityOrAirport)||void 0===n?void 0:n.code)||"",destination:(null===(a=o.routeInfos)||void 0===a||null===(s=a[0])||void 0===s||null===(i=s.toCityOrAirport)||void 0===i?void 0:i.code)||"",date:(null===(l=o.routeInfos)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.travelDate)||"",returnDate:(null===(c=o.routeInfos)||void 0===c||null===(u=c[1])||void 0===u?void 0:u.travelDate)||"",adults:(null===(h=o.paxInfo)||void 0===h?void 0:h.ADULT)||1,children:(null===(m=o.paxInfo)||void 0===m?void 0:m.CHILD)||0,infants:(null===(p=o.paxInfo)||void 0===p?void 0:p.INFANT)||0,preferredAirline:(null===(v=o.filters)||void 0===v?void 0:v.preferredAirline)||"",directOnly:(null===(f=o.filters)||void 0===f?void 0:f.directOnly)||!1,cabinClass:o.cabinClass||"ECONOMY",showPassengerDropdown:!1,legs:(null===(x=o.routeInfos)||void 0===x?void 0:x.map(e=>{var t,n;return{origin:(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)||"",destination:(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)||"",date:e.travelDate||""}}))||[{origin:"",destination:"",date:""},{origin:"",destination:"",date:""}]}))},[o,d]),(0,i.useEffect)(()=>{if(x.preferredAirline){const e=B(x.preferredAirline);e&&"Any Airline"!==e&&(V("".concat(e," (").concat(x.preferredAirline,")")),ee({code:x.preferredAirline,name:e,logo:M(x.preferredAirline)}))}else V(""),ee(null)},[x.preferredAirline]);(0,i.useEffect)(()=>{te(),(async()=>{try{S(!0);const e=await Is();console.log("Loaded airline data in SearchForm:",e),w(e)}catch(e){console.error("Error loading initial airline data:",e)}finally{S(!1)}})()},[]);const[I,A]=(0,i.useState)({}),D=e=>{const t=(e||"").toUpperCase();return Ls.filter(e=>e.code.toUpperCase()!==t)},E=e=>{const{name:t,value:n,type:a,checked:s}=e.target;if(b(He(He({},x),{},{[t]:"checkbox"===a?s:n})),I[t]){const e=He({},I);delete e[t],A(e)}},P=()=>{const e=new Date,t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},T=(e,t)=>{if(!e||!t)return 0;const n=new Date("".concat(e,"T00:00:00")),a=new Date("".concat(t,"T00:00:00"));return n.getTime()<a.getTime()?-1:n.getTime()>a.getTime()?1:0},R=()=>{const e={};var t;t=x.cabinClass,["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].includes(String(t||"").toUpperCase())||(e.cabinClass="Please select a valid cabin class.");const n=parseInt(x.adults||0,10),a=parseInt(x.children||0,10),s=parseInt(x.infants||0,10),i=n+a+s;(Number.isNaN(n)||n<1)&&(e.adults="At least 1 adult is required."),(Number.isNaN(a)||a<0)&&(e.children="Children cannot be negative."),(Number.isNaN(s)||s<0)&&(e.infants="Infants cannot be negative."),!Number.isNaN(i)&&i>9&&(e.passengers="A maximum of 9 passengers is allowed in one booking."),!Number.isNaN(s)&&!Number.isNaN(n)&&s>n&&(e.infants="Infants cannot exceed the number of adults.");const l=P();if("oneway"===f||"round"===f){const t=C(x.origin),n=C(x.destination);x.origin&&t||(e.origin="Please enter a valid origin airport."),x.destination&&n||(e.destination="Please enter a valid destination airport."),t&&n&&t===n&&(e.destination="Origin and destination cannot be the same."),x.date?T(x.date,l)<0&&(e.date="Departure date cannot be in the past."):e.date="Please select a departure date.","round"===f&&(x.returnDate?(T(x.returnDate,l)<0&&(e.returnDate="Return date cannot be in the past."),x.date&&T(x.returnDate,x.date)<0&&(e.returnDate="Return date cannot be before departure date.")):e.returnDate="Please select a return date.")}else if("multicity"===f){const t=x.legs.map(()=>({}));let n=null;x.legs.forEach((e,a)=>{const s=C(e.origin),i=C(e.destination);e.origin&&s||(t[a].origin="Enter a valid origin airport."),e.destination&&i||(t[a].destination="Enter a valid destination airport."),s&&i&&s===i&&(t[a].destination="Origin and destination cannot be the same."),e.date?T(e.date,l)<0?t[a].date="Date cannot be in the past.":n&&T(e.date,n)<0&&(t[a].date="Each leg date must be on/after the previous leg."):t[a].date="Select a travel date.",e.date&&(n=e.date)}),t.some(e=>Object.keys(e).length>0)&&(e.legs=t)}return A(e),0===Object.keys(e).length},F=(e,t,n)=>{const a=[...x.legs];a[e]=He(He({},a[e]),{},{[t]:n}),b(He(He({},x),{},{legs:a}))},O=C(x.origin),L=C(x.destination),M=e=>{if(!e)return null;const t=j.find(t=>t.code&&t.code.toUpperCase()===e.toUpperCase());if(t&&t.logo){if(t.logo.startsWith("data:")||t.logo.startsWith("http"))return t.logo;if(/^[A-Za-z0-9+/=]{100,}$/.test(t.logo))return"data:image/png;base64,".concat(t.logo)}return null},B=e=>{if(!e)return"Any Airline";const t=j.find(t=>t.code&&t.code.toUpperCase()===e.toUpperCase());return t&&t.name?t.name:"Any Airline"},[_,z]=(0,i.useState)({}),[U,H]=(0,i.useState)(null),[q,W]=(0,i.useState)(!1),[G,V]=(0,i.useState)(""),[K,$]=(0,i.useState)([]),[Y,X]=(0,i.useState)(!1),[J,Q]=(0,i.useState)(!1),[Z,ee]=(0,i.useState)(null),te=async()=>{try{const e=await Ss();N(e)}catch(e){console.error("Error loading initial airport data:",e)}},ne=(()=>{let e;return(t,n)=>{clearTimeout(e),e=setTimeout(()=>{(async(e,t)=>{if(!e||e.length<2)z(e=>He(He({},e),{},{[t]:[]}));else{W(!0);try{const n=await Ss();N(n);const a=Ts(n,e);z(e=>He(He({},e),{},{[t]:a}))}catch(n){console.error("Error fetching airports:",n),z(e=>He(He({},e),{},{[t]:[]}))}finally{W(!1)}}})(t,n)},300)}})(),se=(e,t)=>{const{value:n}=e.target;b(e=>He(He({},e),{},{[t]:n})),H(t),n?ne(n,t):z(e=>He(He({},e),{},{[t]:[]}))},ie=(e,t)=>{console.log("SearchForm airport selected:",e,t),de(!0),b(n=>He(He({},n),{},{[t]:e.fullName})),z(e=>He(He({},e),{},{[t]:[]})),H(null),setTimeout(()=>{de(!1)},100)},le=(e,t,n)=>{const a=[...x.legs];a[e]=He(He({},a[e]),{},{[t]:n}),b(He(He({},x),{},{legs:a}));const s="leg-".concat(e,"-").concat(t);H(s),n?ne(n,s):z(e=>He(He({},e),{},{[s]:[]}))},re=(e,t,n)=>{de(!0);const a=[...x.legs];a[t]=He(He({},a[t]),{},{[n]:e.fullName}),b(He(He({},x),{},{legs:a}));const s="leg-".concat(t,"-").concat(n);z(e=>He(He({},e),{},{[s]:[]})),H(null),setTimeout(()=>{de(!1)},100)},oe=e=>{console.log("SearchForm airline selected:",e),de(!0);const t=e.label.match(/\(([A-Z0-9]+)\)/),n=t?t[1]:e.value,a=e.logo?e.logo.startsWith("data:")?e.logo:"data:image/png;base64,".concat(e.logo):/^[A-Za-z0-9+/=]{100,}$/.test(e.value||"")?"data:image/png;base64,".concat(e.value):null;b(He(He({},x),{},{preferredAirline:n})),V(e.label),ee({code:n,name:e.label.split(" (")[0],logo:a}),Q(!1),$([]),setTimeout(()=>{de(!1)},100)},[ce,de]=(0,i.useState)(!1),ue=()=>{setTimeout(()=>{ce||H(null),de(!1)},250)},he=e=>{e.target.closest(".input-field")||H(null)};return(0,i.useEffect)(()=>(document.addEventListener("click",he),()=>{document.removeEventListener("click",he)}),[]),(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),console.log("SearchForm submitted!"),!R())return void console.log("SearchForm validation failed");console.log("SearchForm validation passed");const t=parseInt(x.adults||0,10),n=parseInt(x.children||0,10),a=parseInt(x.infants||0,10),s=t+n+a;if(t<1)return void alert("At least 1 adult is required.");if(s>9)return void alert("A maximum of 9 passengers is allowed in one booking.");if(a>t)return void alert("Infants cannot exceed the number of adults.");let i=[];if("oneway"===f){i=[{fromCityOrAirport:{code:C(x.origin)},toCityOrAirport:{code:C(x.destination)},travelDate:x.date}]}else if("round"===f){const e=C(x.origin),t=C(x.destination);i=[{fromCityOrAirport:{code:e},toCityOrAirport:{code:t},travelDate:x.date},{fromCityOrAirport:{code:t},toCityOrAirport:{code:e},travelDate:x.returnDate}]}else"multicity"===f&&(i=x.legs.map(e=>({fromCityOrAirport:{code:C(e.origin)},toCityOrAirport:{code:C(e.destination)},travelDate:e.date})));const l={tripType:f,cabinClass:x.cabinClass||"ECONOMY",paxInfo:{ADULT:t,CHILD:n,INFANT:a},routeInfos:i,filters:{preferredAirline:x.preferredAirline||"",directOnly:!!x.directOnly}};if(d&&c)c(l);else{localStorage.setItem("searchData",JSON.stringify(l));const e=localStorage.getItem("user");if(console.log("User logged in:",!!e),!e)return sessionStorage.setItem("redirectAfterLogin","/flights/details"),console.log("Stored redirect path: /flights/details"),void window.dispatchEvent(new CustomEvent("showLoginModal"));console.log("Navigating to /flights/details"),u("/flights/details")}},className:"search-flights-form",children:[(0,_t.jsxs)("div",{className:"trip-type-selectors",children:[(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("oneway"===f?"active":""),onClick:()=>g("oneway"),children:"ONE WAY"}),(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("round"===f?"active":""),onClick:()=>g("round"),children:"ROUND TRIP"}),(0,_t.jsx)("button",{type:"button",className:"trip-type-btn ".concat("multicity"===f?"active":""),onClick:()=>g("multicity"),children:"MULTI CITY"})]}),"multicity"!==f?(0,_t.jsxs)("div",{className:"flight-details-row",children:[(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"From"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"origin",list:"airports-origin",placeholder:"From",value:x.origin,onChange:e=>se(e,"origin"),onBlur:ue,className:"airport-input",required:!0}),"origin"===U&&_.origin&&_.origin.length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:_.origin.map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"origin")},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"origin")},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"origin")},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"origin")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),x.origin&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>b(He(He({},x),{},{origin:""})),children:"\xd7"}),I.origin&&(0,_t.jsx)("div",{className:"error-message",children:I.origin})]}),(0,_t.jsx)("button",{type:"button",className:"swap-btn",onClick:()=>{b(He(He({},x),{},{origin:x.destination,destination:x.origin}))},title:"Swap origin and destination",children:(0,_t.jsx)(et,{size:20})}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"To"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"destination",list:"airports-destination",placeholder:"To",value:x.destination,onChange:e=>se(e,"destination"),onBlur:ue,className:"airport-input",required:!0}),"destination"===U&&_.destination&&_.destination.length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:_.destination.map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"destination")},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"destination")},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"destination")},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),ie(e,"destination")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),x.destination&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>b(He(He({},x),{},{destination:""})),children:"\xd7"}),I.destination&&(0,_t.jsx)("div",{className:"error-message",children:I.destination})]}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Departure Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"date",value:x.date,onChange:E,min:P(),className:"date-input",required:!0}),I.date&&(0,_t.jsx)("div",{className:"error-message",children:I.date})]}),"round"===f&&(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Return Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"returnDate",value:x.returnDate,onChange:E,min:x.date||P(),className:"date-input",required:!0}),x.returnDate&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>b(He(He({},x),{},{returnDate:""})),children:"\xd7"}),I.returnDate&&(0,_t.jsx)("div",{className:"error-message",children:I.returnDate})]}),(0,_t.jsxs)("div",{className:"input-field passenger-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Passenger & Class"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-1.5-2c-.47-.62-1.21-.99-2.01-.99H6.46c-.8 0-1.54.37-2.01.99L2 17.5V22h16z"})})}),(0,_t.jsx)("div",{className:"passenger-info",onClick:()=>b(He(He({},x),{},{showPassengerDropdown:!x.showPassengerDropdown})),style:{cursor:"pointer"},children:(0,_t.jsxs)("div",{className:"passenger-details",children:[x.adults+x.children+x.infants," Passenger | ",x.cabinClass]})}),x.showPassengerDropdown&&(0,_t.jsxs)("div",{className:"passenger-dropdown",children:[(0,_t.jsxs)("div",{className:"dropdown-header",children:[(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT PASSENGER"}),(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT CLASS"}),(0,_t.jsx)("button",{className:"close-dropdown-btn",onClick:e=>{e.stopPropagation(),b(He(He({},x),{},{showPassengerDropdown:!1}))},children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"dropdown-content",children:[(0,_t.jsxs)("div",{className:"passenger-selection",children:[(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Adult (Age 12+)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.adults===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm adult passenger selected:",e),b(He(He({},x),{},{adults:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm adult passenger mousedown:",e),b(He(He({},x),{},{adults:e}))},children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Children (Age 2-12)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.children===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm child passenger selected:",e),b(He(He({},x),{},{children:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm child passenger mousedown:",e),b(He(He({},x),{},{children:e}))},children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Infant (Age 0-2)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.infants===e?"selected":""),onClick:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm infant passenger selected:",e),b(He(He({},x),{},{infants:e}))},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),console.log("SearchForm infant passenger mousedown:",e),b(He(He({},x),{},{infants:e}))},children:e},e))})]})]}),(0,_t.jsx)("div",{className:"class-selection",children:["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].map(e=>(0,_t.jsxs)("label",{className:"class-option",children:[(0,_t.jsx)("input",{type:"radio",name:"cabinClass",value:e,checked:x.cabinClass===e,onChange:e=>b(He(He({},x),{},{cabinClass:e.target.value}))}),(0,_t.jsx)("span",{className:"class-label",children:e.replace("_"," ")})]},e))})]}),(0,_t.jsx)("div",{className:"dropdown-footer",children:(0,_t.jsx)("button",{className:"done-btn",onClick:e=>{e.stopPropagation(),b(He(He({},x),{},{showPassengerDropdown:!1}))},children:"DONE"})})]})]}),(0,_t.jsx)("button",{type:"submit",className:"search-btns",children:"SEARCH"})]}):(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"multicity-container ".concat(x.legs.length>=2?"scrollable":""),children:[x.legs.map((e,t)=>(0,_t.jsx)("div",{className:"leg-container",children:(0,_t.jsxs)("div",{className:"leg-row",children:[(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Where From ?"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"legs[".concat(t,"].origin"),list:"airports-origin-".concat(t),placeholder:"Where From ?",value:e.origin,onChange:e=>le(t,"origin",e.target.value),onBlur:ue,className:"airport-input",required:!0}),U==="leg-".concat(t,"-origin")&&_["leg-".concat(t,"-origin")]&&_["leg-".concat(t,"-origin")].length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:_["leg-".concat(t,"-origin")].map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"origin")},onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"origin")},onPointerDown:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"origin")},onTouchStart:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"origin")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),e.origin&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>F(t,"origin",""),children:"\xd7"}),I.legs&&I.legs[t]&&I.legs[t].origin&&(0,_t.jsx)("div",{className:"error-message",children:I.legs[t].origin})]}),(0,_t.jsx)("button",{type:"button",className:"swap-btn",onClick:()=>(e=>{const t=[...x.legs],n=t[e].origin;t[e].origin=t[e].destination,t[e].destination=n,b(He(He({},x),{},{legs:t}))})(t),title:"Swap origin and destination",children:(0,_t.jsx)(et,{size:20})}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Where To ?"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"legs[".concat(t,"].destination"),list:"airports-destination-".concat(t),placeholder:"Where To ?",value:e.destination,onChange:e=>le(t,"destination",e.target.value),onBlur:ue,className:"airport-input",required:!0}),U==="leg-".concat(t,"-destination")&&_["leg-".concat(t,"-destination")]&&_["leg-".concat(t,"-destination")].length>0&&(0,_t.jsx)("div",{className:"airport-suggestions",children:_["leg-".concat(t,"-destination")].map(e=>(0,_t.jsxs)("div",{className:"airport-suggestion-item",onClick:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"destination")},onMouseDown:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"destination")},onPointerDown:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"destination")},onTouchStart:n=>{n.preventDefault(),n.stopPropagation(),re(e,t,"destination")},children:[(0,_t.jsx)("div",{className:"airport-code",children:e.code}),(0,_t.jsxs)("div",{className:"airport-details",children:[(0,_t.jsx)("div",{className:"airport-name",children:e.name}),(0,_t.jsxs)("div",{className:"airport-location",children:[e.city,", ",e.country]})]})]},e.code))}),e.destination&&(0,_t.jsx)("button",{type:"button",className:"clear-btn",onClick:()=>F(t,"destination",""),children:"\xd7"}),I.legs&&I.legs[t]&&I.legs[t].destination&&(0,_t.jsx)("div",{className:"error-message",children:I.legs[t].destination})]}),(0,_t.jsxs)("div",{className:"input-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Date"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"legs[".concat(t,"].date"),value:e.date,onChange:e=>F(t,"date",e.target.value),min:P(),className:"date-input",required:!0}),I.legs&&I.legs[t]&&I.legs[t].date&&(0,_t.jsx)("div",{className:"error-message",children:I.legs[t].date})]}),0===t&&(0,_t.jsxs)("div",{className:"input-field passenger-field",children:[(0,_t.jsx)("label",{className:"field-label",children:"Passenger & Class"}),(0,_t.jsx)("div",{className:"field-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-1.5-2c-.47-.62-1.21-.99-2.01-.99H6.46c-.8 0-1.54.37-2.01.99L2 17.5V22h16z"})})}),(0,_t.jsx)("div",{className:"passenger-info",onClick:()=>b(He(He({},x),{},{showPassengerDropdown:!x.showPassengerDropdown})),style:{cursor:"pointer"},children:(0,_t.jsxs)("div",{className:"passenger-details",children:[x.adults+x.children+x.infants," Passenger | ",x.cabinClass]})}),x.showPassengerDropdown&&(0,_t.jsxs)("div",{className:"passenger-dropdown",children:[(0,_t.jsxs)("div",{className:"dropdown-header",children:[(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT PASSENGER"}),(0,_t.jsx)("div",{className:"dropdown-section-title",children:"SELECT CLASS"}),(0,_t.jsx)("button",{className:"close-dropdown-btn",onClick:e=>{e.stopPropagation(),b(He(He({},x),{},{showPassengerDropdown:!1}))},children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"dropdown-content",children:[(0,_t.jsxs)("div",{className:"passenger-selection",children:[(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Adult (Age 12+)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[1,2,3,4,5,6,7,8,9].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.adults===e?"selected":""),onClick:()=>b(He(He({},x),{},{adults:e})),children:e},e))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Children (Age 2-12)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.children===e?"selected":""),onClick:()=>b(He(He({},x),{},{children:e})),children:e}))})]}),(0,_t.jsxs)("div",{className:"passenger-type",children:[(0,_t.jsx)("div",{className:"passenger-type-label",children:"Infant (Age 0-2)"}),(0,_t.jsx)("div",{className:"passenger-numbers",children:[0,1,2,3,4,5,6,7,8].map(e=>(0,_t.jsx)("button",{type:"button",className:"passenger-number ".concat(x.infants===e?"selected":""),onClick:()=>b(He(He({},x),{},{infants:e})),children:e}))})]})]}),(0,_t.jsx)("div",{className:"class-selection",children:["ECONOMY","PREMIUM_ECONOMY","BUSINESS","FIRST"].map(e=>(0,_t.jsxs)("label",{className:"class-option",children:[(0,_t.jsx)("input",{type:"radio",name:"cabinClass",value:e,checked:x.cabinClass===e,onChange:e=>b(He(He({},x),{},{cabinClass:e.target.value}))}),(0,_t.jsx)("span",{className:"class-label",children:e.replace("_"," ")})]},e))})]}),(0,_t.jsx)("div",{className:"dropdown-footer",children:(0,_t.jsx)("button",{className:"done-btn",onClick:e=>{e.stopPropagation(),b(He(He({},x),{},{showPassengerDropdown:!1}))},children:"DONE"})})]})]}),x.legs.length>1&&t===x.legs.length-1&&(0,_t.jsx)("button",{type:"button",className:"remove-leg-btn",onClick:()=>(e=>{const t=x.legs.filter((t,n)=>n!==e);if(b(He(He({},x),{},{legs:t})),I.legs){const e=He({},I);delete e.legs,A(e)}})(t),children:"\xd7"})]})},t)),x.legs.length<6&&(0,_t.jsx)("div",{className:"multicity-add-btn-container",children:(0,_t.jsx)("button",{type:"button",className:"add-leg-btn",onClick:()=>{if(x.legs.length>=6)return void alert("You can add at most 6 segments.");const e=x.legs[x.legs.length-1],t={origin:(null===e||void 0===e?void 0:e.destination)||"",destination:"",date:""};if(b(He(He({},x),{},{legs:[...x.legs,t]})),I.legs){const e=He({},I);delete e.legs,A(e)}},children:"ADD ONE MORE CITY"})})]}),(0,_t.jsx)("button",{type:"submit",className:"search-btns",children:"SEARCH"})]}),(0,_t.jsxs)("div",{className:"additional-options-row",children:[(0,_t.jsxs)("div",{className:"preferred-airline-dropdown",children:[(0,_t.jsxs)("div",{className:"airline-dropdown-content",children:[(0,_t.jsx)("span",{className:"airline-label",children:"Select Preferred Airline"}),x.preferredAirline&&Z?(0,_t.jsxs)("div",{className:"selected-airline-display",children:[(0,_t.jsxs)("div",{className:"airline-logo-small",children:[(()=>{if(Z&&Z.logo)return(0,_t.jsx)("img",{src:Z.logo,alt:Z.name,className:"airline-logo-img-small",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}});const e=M(x.preferredAirline);return e?(0,_t.jsx)("img",{src:e,alt:(null===Z||void 0===Z?void 0:Z.name)||"Airline",className:"airline-logo-img-small",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}):(0,_t.jsx)("div",{className:"airline-logo-fallback",style:{display:"flex"},children:x.preferredAirline})})(),(0,_t.jsx)("div",{className:"airline-logo-fallback",style:{display:"none"},children:x.preferredAirline})]}),(0,_t.jsxs)("div",{className:"airline-info-small",children:[(0,_t.jsx)("div",{className:"airline-name-small",children:Z.name}),(0,_t.jsxs)("div",{className:"airline-code-small",children:["(",x.preferredAirline,")"]})]}),(0,_t.jsx)("button",{type:"button",className:"clear-airline-btn-small",onClick:()=>{b(He(He({},x),{},{preferredAirline:""})),V(""),ee(null),Q(!1),$([])},title:"Clear selection",children:"\xd7"})]}):(0,_t.jsx)("div",{className:"airline-placeholder-text",children:"Any Airline"})]}),(0,_t.jsx)("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"currentColor",className:"dropdown-arrow",children:(0,_t.jsx)("path",{d:"M7 10l5 5 5-5z"})}),(0,_t.jsxs)("div",{className:"airline-search-input-container",children:[(0,_t.jsx)("input",{type:"text",placeholder:"Search Airline",value:G,onChange:e=>{const t=e.target.value;V(t),t.length>=2?((async e=>{if(!e||e.length<2)$([]);else{X(!0);try{const t=await Cs(e);$(t)}catch(t){console.error("Error fetching airlines:",t),$([])}finally{X(!1)}}})(t),Q(!0)):($([]),Q(!1))},onFocus:()=>{G.length>=2&&Q(!0)},onBlur:()=>{setTimeout(()=>{ce||Q(!1),de(!1)},250)},className:"airline-search-input"}),Y&&(0,_t.jsx)("div",{className:"airline-loading-spinner"}),J&&K.length>0&&(0,_t.jsx)("div",{className:"airline-suggestions",children:K.map(e=>{const t=e.logo?e.logo.startsWith("data:")?e.logo:"data:image/png;base64,".concat(e.logo):/^[A-Za-z0-9+/=]{100,}$/.test(e.value||"")?"data:image/png;base64,".concat(e.value):null;return(0,_t.jsxs)("div",{className:"airline-suggestion-item",onClick:t=>{t.preventDefault(),t.stopPropagation(),oe(e)},onMouseDown:t=>{t.preventDefault(),t.stopPropagation(),oe(e)},onPointerDown:t=>{t.preventDefault(),t.stopPropagation(),oe(e)},onTouchStart:t=>{t.preventDefault(),t.stopPropagation(),oe(e)},children:[t&&(0,_t.jsx)("img",{src:t,alt:e.label}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:e.label}),e.value&&/^[A-Z0-9]{1,3}$/.test(e.value)&&(0,_t.jsx)("div",{className:"airline-code",children:e.value})]})]},e.value||e.code||e.label)})})]})]}),(0,_t.jsxs)("label",{className:"direct-flight-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",name:"directOnly",checked:x.directOnly,onChange:E}),(0,_t.jsx)("span",{children:"Direct Flight"})]})]}),I.cabinClass&&(0,_t.jsx)("div",{className:"error-message",children:I.cabinClass}),I.passengers&&(0,_t.jsx)("div",{className:"error-message",children:I.passengers})]}),(0,_t.jsx)("datalist",{id:"airports-origin",children:D(L).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),(0,_t.jsx)("datalist",{id:"airports-destination",children:D(O).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),x.legs.map((e,t)=>{const n=C(e.origin),a=C(e.destination);return(0,_t.jsxs)(i.Fragment,{children:[(0,_t.jsx)("datalist",{id:"airports-origin-".concat(t),children:D(a).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))}),(0,_t.jsx)("datalist",{id:"airports-destination-".concat(t),children:D(n).map(e=>(0,_t.jsx)("option",{value:"".concat(e.name," (").concat(e.code,")")},e.code))})]},t)})]})},Bs=(e,t)=>{if(t&&t[e])return t[e].city||e;return{BLR:"Bengaluru"}[e]||e},_s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return t&&t[e]?t[e].city||null:n&&n.city?n.city:Bs(e,t)||e},zs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=[];if(t&&t[e]){const n=t[e];if(n.name&&a.push(n.name),n.country&&a.push(n.country),a.length>0)return a.join(", ")}return n&&(n.name&&a.push(n.name),n.country&&a.push(n.country),a.length>0)?a.join(", "):t&&t[e]&&t[e].country?t[e].country:null},Us=e=>{if(null===e||void 0===e||!e.routeInfos)return!1;const t=["BLR","DEL","MAA","BOM","HYD","CCU","COK","GOI","PNQ","AMD","JAI","VNS","PAT","LKO","KNU","NAG","IDR","BHO","RPR","JLR","IXC","UDR","JDH","BBI","RJA","VGA","TIR","CJB","TRZ","IXM","TRV","CCJ","BDQ","SXR","IXL","DED","DHM","SHL","GAU","IXR","IXA","IXB","IXD","IXE","IXG","IXI","IXJ","IXK","IXN","IXP","IXQ","IXS","IXT","IXU","IXV","IXW","IXY","IXZ"];return e.routeInfos.some(e=>{var n,a;const s=null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,i=null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code;return!t.includes(s)||!t.includes(i)})},Hs=(e,t)=>{if(!e||!t)return console.log("getAirlineLogo: Missing airlineCode or airlineLogos",{airlineCode:e,airlineLogos:t}),"/airlineLogo.png";const n=t[e];return console.log("getAirlineLogo: Looking for airline",e,"found:",n),!n&&Object.keys(t).length>0&&console.log("Available airline codes:",Object.keys(t)),"QP"===e?"/AkasaAir-icon.png":(null===n||void 0===n?void 0:n.logo)||qs(e)},qs=e=>({QP:"/AkasaAir-icon.png",AI:"/AirIndia.png","6E":"/indigo.png",SG:"/SpiceJet.png",UK:"/vistaras.png",S2:"/samskruthiairlines-icon.png"}[e]||"/airlineLogo.png"),Ws=(e,t)=>{var n;if(!e)return null;if(t&&null!==(n=t[e])&&void 0!==n&&n.name)return t[e].name;return{"6E":"IndiGo"}[e]||e},Gs=(e,t,n,a)=>{if("oneway"===e)return 1;if("round"===e){if(n&&Us(n)&&a&&a.length>0){if(a.some(e=>e.isCombo))return 1}return 2}if("multicity"===e){if(n&&Us(n)&&a&&a.length>0){if(a.some(e=>e.isCombo))return 1}return(null===t||void 0===t?void 0:t.length)||2}return 1},Vs=()=>{var e,t;const[n,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[r,o]=(0,i.useState)(""),[c,d]=(0,i.useState)({ADULT:1,CHILD:0,INFANT:0}),[u,h]=(0,i.useState)({}),[m,p]=(0,i.useState)({}),[v,f]=(0,i.useState)(!1),[g,x]=(0,i.useState)(null),[b,y]=(0,i.useState)({}),[N,j]=(0,i.useState)(!1),[w,k]=(0,i.useState)(0),[S,C]=(0,i.useState)({}),[I,A]=(0,i.useState)(null),[D,E]=(0,i.useState)(!1),[P,T]=(0,i.useState)(null),[R,F]=(0,i.useState)(!1),[O,L]=(0,i.useState)("flight-details"),[M,B]=(0,i.useState)("price"),[_,z]=(0,i.useState)(0),[U,H]=(0,i.useState)(null),[q,W]=(0,i.useState)(!1),[G,V]=(0,i.useState)(""),[K,$]=(0,i.useState)("CANCELLATION"),[Y,X]=(0,i.useState)([0,1e5]),[J,Q]=(0,i.useState)([]),[Z,ee]=(0,i.useState)(""),[ne,se]=(0,i.useState)([]),[ie,le]=(0,i.useState)([]),[re,oe]=(0,i.useState)([]),[ce,de]=(0,i.useState)([]),[ue,he]=(0,i.useState)(!0),[me,pe]=(0,i.useState)({}),[ve,fe]=(0,i.useState)({}),[ge,xe]=(0,i.useState)({}),be=ae(),ye=(te(),e=>{var t,n,a,s,i,l,r,o,c;const d=[],u=(null===e||void 0===e?void 0:e.fd)||{},h=(null===u||void 0===u?void 0:u.ADULT)||{},m=null!==(t=null!==(n=null!==(a=null===e||void 0===e?void 0:e.refundable)&&void 0!==a?a:null===e||void 0===e?void 0:e.refundability)&&void 0!==n?n:null===h||void 0===h?void 0:h.refundable)&&void 0!==t?t:null===h||void 0===h?void 0:h.rT;if("undefined"!==typeof m&&null!==m){let e=!1;if("boolean"===typeof m)e=m;else if("number"===typeof m)e=m>0;else{const t=String(m).toUpperCase();t.includes("NON")||t.includes("NOT")?e=!1:t.includes("REFUND")&&(e=!0)}d.push(e?"Refundable":"Non-refundable")}((null===e||void 0===e?void 0:e.meal)||(null===e||void 0===e?void 0:e.freeMeal)||(null===e||void 0===e?void 0:e.mI)||(null===h||void 0===h?void 0:h.mI))&&d.push("Meal included");const p=(null===h||void 0===h?void 0:h.bI)||(null===h||void 0===h?void 0:h.baggage)||(null===e||void 0===e?void 0:e.baggage)||{},v=null!==(s=null!==(i=null!==(l=null===p||void 0===p?void 0:p.cB)&&void 0!==l?l:null===p||void 0===p?void 0:p.cabin)&&void 0!==i?i:null===p||void 0===p?void 0:p.cabinKg)&&void 0!==s?s:null===p||void 0===p?void 0:p.cabin_bag,f=null!==(r=null!==(o=null!==(c=null===p||void 0===p?void 0:p.iB)&&void 0!==c?c:null===p||void 0===p?void 0:p.checkin)&&void 0!==o?o:null===p||void 0===p?void 0:p.checkinKg)&&void 0!==r?r:null===p||void 0===p?void 0:p.check_in_bag;if("undefined"!==typeof v&&null!==v&&""!==String(v).trim()){const e=/kg|KG|Kg/.test(String(v))?String(v):"".concat(v," kg");d.push("Cabin bag ".concat(e))}if("undefined"!==typeof f&&null!==f&&""!==String(f).trim()){const e=/kg|KG|Kg/.test(String(f))?String(f):"".concat(f," kg");d.push("Check-in bag ".concat(e))}((null===e||void 0===e?void 0:e.dC)||(null===e||void 0===e?void 0:e.changePolicy)||(null===h||void 0===h?void 0:h.dC))&&d.push("Date change allowed");return((null===e||void 0===e?void 0:e.cP)||(null===e||void 0===e?void 0:e.cancellationPolicy)||(null===h||void 0===h?void 0:h.cP))&&d.push("Cancellation allowed"),d}),Ne=(e,t,n)=>{const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.find(e=>"undefined"!==typeof e&&null!==e&&""!==String(e).trim())},s=(null===e||void 0===e?void 0:e.fd)||{},i=(null===s||void 0===s?void 0:s.ADULT)||{};let l=a(null===e||void 0===e?void 0:e.cabinClass,null===e||void 0===e?void 0:e.cabin,null===e||void 0===e?void 0:e.cc,null===i||void 0===i?void 0:i.cc,null===s||void 0===s?void 0:s.cc,null===t||void 0===t?void 0:t.cabinClass,Array.isArray(n)&&n[0]?n[0].cc||n[0].cabinClass:void 0);if(!l)try{const e=JSON.parse(localStorage.getItem("searchData"));l=null===e||void 0===e?void 0:e.cabinClass}catch(d){}const r=String(l||"").toUpperCase();let o="";r.includes("PREMIUM")?o="Premium Economy":r.startsWith("BUS")?o="Business":r.startsWith("FIR")?o="First":r&&(o="Economy");const c=a(null===e||void 0===e?void 0:e.rbd,null===e||void 0===e?void 0:e.RBD,null===e||void 0===e?void 0:e.bookingClass,null===e||void 0===e?void 0:e.fareClass,null===e||void 0===e?void 0:e.reservationBookingDesignator,null===i||void 0===i?void 0:i.rbd,null===i||void 0===i?void 0:i.bookingClass,Array.isArray(n)&&n[0]?n[0].rbd||n[0].bookingClass:void 0);return{cabinLabel:o,rbd:"undefined"!==typeof c&&null!==c?String(c).toUpperCase():""}};(0,i.useEffect)(()=>{(async()=>{var e,t;l(!0),o("");const n=JSON.parse(localStorage.getItem("searchData"));if(!n)return o("Missing search data"),void l(!1);x(n),d(n.paxInfo||{ADULT:1,CHILD:0,INFANT:0}),await(async e=>{if(!e||0===e.length)return;const t=new Set;e.forEach(e=>{var n,a;null!==(n=e.fromCityOrAirport)&&void 0!==n&&n.code&&t.add(e.fromCityOrAirport.code),null!==(a=e.toCityOrAirport)&&void 0!==a&&a.code&&t.add(e.toCityOrAirport.code)});const n={};for(const a of t)try{const e=await Ss();if(e&&e.length>0){const t=e.find(e=>e.code===a);t&&(n[a]={city:t.city,name:t.name,state:t.state,country:t.country})}}catch(r){console.error("Error fetching airport data for ".concat(a,":"),r)}fe(n)})(n.routeInfos);try{console.log("Fetching airline logos...");const e=await As();console.log("Fetched airline logos data:",e),xe(e)}catch(r){console.error("Failed to fetch airline logos:",r)}const s=n.paxInfo||{},i=parseInt(s.ADULT||0,10),c=parseInt(s.CHILD||0,10),u=parseInt(s.INFANT||0,10),h=i+c+u;if(i<1)return o("At least 1 adult is required."),void l(!1);if(h>9)return o("A maximum of 9 passengers is allowed in one booking."),void l(!1);if(u>i)return o("Infants cannot exceed the number of adults."),void l(!1);const m=(null===n||void 0===n||null===(e=n.filters)||void 0===e?void 0:e.preferredAirline)||"",p=!(null===n||void 0===n||null===(t=n.filters)||void 0===t||!t.directOnly),v={searchQuery:{cabinClass:n.cabinClass||"ECONOMY",paxInfo:n.paxInfo,routeInfos:n.routeInfos,flexiSearch:!1,searchModifiers:{isDirectFlight:p},preferredAirlines:m?[m]:void 0}};try{var f,g,b,y,N;const e=await ys(v),t=(null===(f=e.data)||void 0===f||null===(g=f.searchResult)||void 0===g?void 0:g.tripInfos)||{},s=(null===(b=e.data)||void 0===b||null===(y=b.searchResult)||void 0===y||null===(N=y.tripInfos)||void 0===N?void 0:N.COMBO)||[];console.log("\ud83d\udd0d API Response for",n.tripType,":",{tripInfos:t,comboFlights:s.length,tripType:n.tripType,routeInfos:n.routeInfos});let i=[];const l=Array.isArray(s)&&s.length>0;if("round"===n.tripType||"multicity"===n.tripType){let e=[];l?(console.log("\ud83c\udf0d Processing COMBO flights for international trip"),s.forEach(t=>{const a=t.sI||[],s=t.totalPriceList||[];if(0===a.length)return;const i={sI:a,totalPriceList:s,tripType:n.tripType,isCombo:!0,comboId:t.id||t.fareIdentifier,airFlowType:t.airFlowType,tripSegment:0};e.push(i)}),console.log("\u2705 Processed COMBO flights:",e.length)):Object.values(t).forEach((t,a)=>{Array.isArray(t)&&t.forEach(t=>{const s=He(He({},t),{},{tripSegment:a,tripType:n.tripType});e.push(s)})}),m&&(e=e.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fD)||void 0===t||null===(n=t.aI)||void 0===n?void 0:n.code)===m}))),p&&(e=e.filter(e=>{const t=Array.isArray(e.sI)?e.sI:[];return t.every(e=>"undefined"!==typeof(null===e||void 0===e?void 0:e.stops))?t.every(e=>0===((null===e||void 0===e?void 0:e.stops)||0)):1===t.length})),i=e,console.log("\u2705 Set organized flights for",n.tripType,":",e.length),a(e)}else{let e=Object.values(t).reduce((e,t)=>(Array.isArray(t)&&e.push(...t),e),[]);m&&(e=e.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fD)||void 0===t||null===(n=t.aI)||void 0===n?void 0:n.code)===m}))),p&&(e=e.filter(e=>{const t=Array.isArray(e.sI)?e.sI:[];return t.every(e=>"undefined"!==typeof(null===e||void 0===e?void 0:e.stops))?t.every(e=>0===((null===e||void 0===e?void 0:e.stops)||0)):1===t.length})),i=e,console.log("\u2705 Set combined flights for one-way:",e.length),a(e)}if(i.length>0){const{minPrice:e,maxPrice:t}=Pe(i);X([e,t])}}catch(k){var j,w;o((null===(j=k.response)||void 0===j||null===(w=j.data)||void 0===w?void 0:w.message)||k.message||"Failed to fetch")}finally{l(!1)}})()},[]);const je=e=>{localStorage.setItem("searchData",JSON.stringify(e)),x(e),d(e.paxInfo||{ADULT:1,CHILD:0,INFANT:0}),f(!1),window.location.reload()},we=()=>{if(!g)return null;if(v)return(0,_t.jsxs)("div",{className:"modify-search-modal",children:[(0,_t.jsx)("div",{className:"modify-search-header",children:(0,_t.jsx)("button",{onClick:()=>f(!1),className:"modify-search-cancel-btn",children:"Cancel"})}),(0,_t.jsx)(Ms,{initialData:g,onSubmit:je,isModifyMode:!0})]});const{routeInfos:e,cabinClass:t,paxInfo:n,filters:a}=g;return(0,_t.jsxs)("div",{className:"search-details-bar",children:[(0,_t.jsx)("div",{className:"route-info",children:e.map((t,n)=>{var a,s,i,l;return(0,_t.jsxs)("div",{className:"flex-center gap-12",children:[(0,_t.jsxs)("div",{className:"city-info",children:[(0,_t.jsx)("div",{className:"city-code",children:(null===(a=t.fromCityOrAirport)||void 0===a?void 0:a.code)||"N/A"}),(0,_t.jsx)("div",{className:"city-name",children:Bs((null===(s=t.fromCityOrAirport)||void 0===s?void 0:s.code)||"N/A",ve)})]}),(0,_t.jsx)("span",{className:"flight-icon",children:"\u2708"}),(0,_t.jsxs)("div",{className:"city-info",children:[(0,_t.jsx)("div",{className:"city-code",children:(null===(i=t.toCityOrAirport)||void 0===i?void 0:i.code)||"N/A"}),(0,_t.jsx)("div",{className:"city-name",children:Bs((null===(l=t.toCityOrAirport)||void 0===l?void 0:l.code)||"N/A",ve)})]}),(0,_t.jsx)("div",{className:"date-info",children:(0,_t.jsx)("div",{className:"date-value",children:t.travelDate?new Date(t.travelDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})}),n<e.length-1&&(0,_t.jsx)("div",{className:"separator"})]},n)})}),(0,_t.jsxs)("div",{className:"search-params",children:[(0,_t.jsxs)("div",{className:"param-group",children:[(0,_t.jsx)("div",{className:"param-label",children:"Passengers & Class"}),(0,_t.jsxs)("div",{className:"param-value",children:[(()=>{const e=[];return n.ADULT>0&&e.push("".concat(n.ADULT," Adult").concat(n.ADULT>1?"s":"")),n.CHILD>0&&e.push("".concat(n.CHILD," Child").concat(n.CHILD>1?"ren":"")),n.INFANT>0&&e.push("".concat(n.INFANT," Infant").concat(n.INFANT>1?"s":"")),e.join(", ")})()," | ",t]})]}),(0,_t.jsx)("div",{className:"separator"}),(0,_t.jsxs)("div",{className:"param-group",children:[(0,_t.jsx)("div",{className:"param-label",children:"Preferred Airline"}),(0,_t.jsxs)("div",{className:"param-value",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(null===a||void 0===a?void 0:a.preferredAirline)&&(0,_t.jsx)("img",{src:Hs(a.preferredAirline,ge),alt:"".concat(a.preferredAirline," logo"),style:{width:"20px",height:"20px",objectFit:"contain",borderRadius:"3px"},onError:e=>{e.target.src=qs(a.preferredAirline)}}),(0,_t.jsx)("span",{children:(null===a||void 0===a?void 0:a.preferredAirline)||"None"})]})]})]}),(0,_t.jsxs)("button",{className:"modify-search-btn",onClick:()=>f(!0),children:["MODIFY SEARCH",(0,_t.jsx)("span",{className:"chevron",children:"\u25bc"})]})]})},ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[...(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||n];if("price"!==e){const{minPrice:e,maxPrice:n}=Pe(),[a,s]=Y;t=t.filter(e=>(Array.isArray(e.totalPriceList)?e.totalPriceList:[]).some(e=>{var t,n,i,l,r,o;const d=(null===e||void 0===e?void 0:e.fd)||{},u=Number((null===d||void 0===d||null===(t=d.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),h=Number((null===d||void 0===d||null===(i=d.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),m=Number((null===(r=(null===d||void 0===d?void 0:d.INFANT)||(null===d||void 0===d?void 0:d.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),p=Number(c.ADULT||0)*u+Number(c.CHILD||0)*h+Number(c.INFANT||0)*m;return p>=a&&p<=s}))}if("stops"!==e&&J.length>0&&(t=t.filter(e=>{const t=Array.isArray(e.sI)?e.sI:[],n=Math.max(0,t.length-1);return J.includes(n)})),"flightNumber"!==e&&Z.trim()){const e=Z.trim().toUpperCase();t=t.filter(t=>(Array.isArray(t.sI)?t.sI:[]).some(t=>{var n,a,s;const i=(null===t||void 0===t||null===(n=t.fD)||void 0===n?void 0:n.fN)||"",l=(null===t||void 0===t||null===(a=t.fD)||void 0===a||null===(s=a.aI)||void 0===s?void 0:s.code)||"",r="".concat(l,"-").concat(i);return i.toUpperCase().includes(e)||l.toUpperCase().includes(e)||r.toUpperCase().includes(e)||r.replace("-","").toUpperCase().includes(e)}))}return"airlines"!==e&&ne.length>0&&(t=t.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{var t,n;const a=(null===e||void 0===e||null===(t=e.fD)||void 0===t||null===(n=t.aI)||void 0===n?void 0:n.code)||"";return ne.includes(a)}))),"departureTime"!==e&&ie.length>0&&(t=t.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{const t=(null===e||void 0===e?void 0:e.dt)||"";if(!t)return!1;const n=new Date(t).getHours();return ie.some(e=>{const[t,a]=e.split("-").map(Number);return"18-24"===e?n>=18&&n<24:n>=t&&n<a})}))),"arrivalTime"!==e&&re.length>0&&(t=t.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{const t=(null===e||void 0===e?void 0:e.at)||"";if(!t)return!1;const n=new Date(t).getHours();return re.some(e=>{const[t,a]=e.split("-").map(Number);return"18-24"===e?n>=18&&n<24:n>=t&&n<a})}))),"terminals"!==e&&ce.length>0&&(t=t.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{var t,n;const a=null===e||void 0===e||null===(t=e.da)||void 0===t?void 0:t.terminal,s=null===e||void 0===e||null===(n=e.aa)||void 0===n?void 0:n.terminal;return a&&ce.includes(a)||s&&ce.includes(s)}))),t},Se=()=>{const e=ke("airlines"),t=new Set;return e.forEach(e=>{(Array.isArray(e.sI)?e.sI:[]).forEach(e=>{var n,a;null!==e&&void 0!==e&&null!==(n=e.fD)&&void 0!==n&&null!==(a=n.aI)&&void 0!==a&&a.code&&t.add(e.fD.aI.code)})}),Array.from(t).sort()},Ce=()=>{const e=ke("stops"),t=new Set;return e.forEach(e=>{const n=Array.isArray(e.sI)?e.sI:[],a=Math.max(0,n.length-1);t.add(a)}),Array.from(t).sort((e,t)=>e-t)},Ie=()=>{const e=ke("terminals"),t=new Set;return e.forEach(e=>{(Array.isArray(e.sI)?e.sI:[]).forEach(e=>{var n,a;null!==e&&void 0!==e&&null!==(n=e.da)&&void 0!==n&&n.terminal&&t.add(e.da.terminal),null!==e&&void 0!==e&&null!==(a=e.aa)&&void 0!==a&&a.terminal&&t.add(e.aa.terminal)})}),Array.from(t).sort()},Ae=e=>{const t=ke("departure"===e?"departureTime":"arrivalTime"),n={},a=[{value:"00-06",label:"00:00 - 06:00 (Early Morning)"},{value:"06-12",label:"06:00 - 12:00 (Morning)"},{value:"12-18",label:"12:00 - 18:00 (Afternoon)"},{value:"18-24",label:"18:00 - 24:00 (Evening)"}];return a.forEach(e=>{n[e.value]=0}),t.forEach(t=>{(Array.isArray(t.sI)?t.sI:[]).forEach(t=>{const s="departure"===e?null===t||void 0===t?void 0:t.dt:null===t||void 0===t?void 0:t.at;if(s){const e=new Date(s).getHours();a.forEach(t=>{const[a,s]=t.value.split("-").map(Number);let i=!1;i="18-24"===t.value?e>=18&&e<24:e>=a&&e<s,i&&n[t.value]++})}})}),n};(0,i.useEffect)(()=>{(()=>{ke();const e=Ce(),t=J.filter(t=>e.includes(t));t.length!==J.length&&Q(t);const n=Se(),a=ne.filter(e=>n.includes(e));a.length!==ne.length&&se(a);const s=Ie(),i=ce.filter(e=>s.includes(e));i.length!==ce.length&&de(i);const l=Ae("departure"),r=ie.filter(e=>l[e]>0);r.length!==ie.length&&le(r);const o=Ae("arrival"),c=re.filter(e=>o[e]>0);c.length!==re.length&&oe(c)})()},[Y,Z,J,ne,ie,re,ce]);const De=()=>{const{minPrice:e,maxPrice:t}=Pe();return Y[0]!==e||Y[1]!==t||J.length>0||""!==Z.trim()||ne.length>0||ie.length>0||re.length>0||ce.length>0},Ee=()=>{const{minPrice:e,maxPrice:t}=Pe();X([e,t]),Q([]),ee(""),se([]),le([]),oe([]),de([])},Pe=function(){let e=1/0,t=0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:n).forEach(n=>{(Array.isArray(n.totalPriceList)?n.totalPriceList:[]).forEach(n=>{var a,s,i,l,r,o;const d=(null===n||void 0===n?void 0:n.fd)||{},u=Number((null===d||void 0===d||null===(a=d.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),h=Number((null===d||void 0===d||null===(i=d.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),m=Number((null===(r=(null===d||void 0===d?void 0:d.INFANT)||(null===d||void 0===d?void 0:d.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),p=Number(c.ADULT||0)*u+Number(c.CHILD||0)*h+Number(c.INFANT||0)*m;p>0&&(e=Math.min(e,p),t=Math.max(t,p))})}),{minPrice:e===1/0?0:e,maxPrice:t}},Te=e=>{if(!g)return;const t=He(He({},g),{},{routeInfos:g.routeInfos.map((t,n)=>0===n?He(He({},t),{},{travelDate:e.toISOString().split("T")[0]}):t)});localStorage.setItem("searchData",JSON.stringify(t)),window.location.reload()};(0,i.useEffect)(()=>{g&&"oneway"===g.tripType&&!v&&(async()=>{var e,t;if("oneway"!==(null===g||void 0===g?void 0:g.tripType))return;if(null===g||void 0===g||null===(e=g.routeInfos)||void 0===e||null===(t=e[0])||void 0===t||!t.travelDate)return;j(!0);const n=new Date(g.routeInfos[0].travelDate),a=[];for(let l=0;l<7;l++){const e=new Date(n);e.setDate(e.getDate()+w+l),a.push(e)}const s=a.map(async e=>{try{var t,n,a,s,i,l;const r=e.toISOString().split("T")[0],o=g.routeInfos.map((e,t)=>0===t?He(He({},e),{},{travelDate:r}):e),d={searchQuery:{cabinClass:g.cabinClass||"ECONOMY",paxInfo:g.paxInfo,routeInfos:o,flexiSearch:!1,searchModifiers:{isDirectFlight:!(null===g||void 0===g||null===(t=g.filters)||void 0===t||!t.directOnly)},preferredAirlines:null!==g&&void 0!==g&&null!==(n=g.filters)&&void 0!==n&&n.preferredAirline?[g.filters.preferredAirline]:void 0}},u=(null===(a=(await ys(d)).data)||void 0===a||null===(s=a.searchResult)||void 0===s?void 0:s.tripInfos)||{};let h=Object.values(u).reduce((e,t)=>(Array.isArray(t)&&e.push(...t),e),[]);if(null!==g&&void 0!==g&&null!==(i=g.filters)&&void 0!==i&&i.preferredAirline&&(h=h.filter(e=>(Array.isArray(e.sI)?e.sI:[]).some(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fD)||void 0===t||null===(n=t.aI)||void 0===n?void 0:n.code)===g.filters.preferredAirline}))),null!==g&&void 0!==g&&null!==(l=g.filters)&&void 0!==l&&l.directOnly&&(h=h.filter(e=>{const t=Array.isArray(e.sI)?e.sI:[];return t.every(e=>"undefined"!==typeof(null===e||void 0===e?void 0:e.stops))?t.every(e=>0===((null===e||void 0===e?void 0:e.stops)||0)):1===t.length})),0===h.length)return{date:r,price:null,error:"No flights"};let m=1/0;return h.forEach(e=>{(Array.isArray(e.totalPriceList)?e.totalPriceList:[]).forEach(e=>{var t,n,a,s,i,l;const r=(null===e||void 0===e?void 0:e.fd)||{},o=Number((null===r||void 0===r||null===(t=r.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),d=Number((null===r||void 0===r||null===(a=r.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),u=Number((null===(i=(null===r||void 0===r?void 0:r.INFANT)||(null===r||void 0===r?void 0:r.INFT))||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),h=Number(c.ADULT||0)*o+Number(c.CHILD||0)*d+Number(c.INFANT||0)*u;h>0&&h<m&&(m=h)})}),{date:r,price:m===1/0?null:m,error:m===1/0?"No fares":null}}catch(r){return{date:e.toISOString().split("T")[0],price:null,error:"API error"}}});try{const e=await Promise.all(s),t={};e.forEach(e=>{t[e.date]=e}),y(t)}catch(i){console.error("Error fetching calendar prices:",i)}finally{j(!1)}})()},[g,v,w]);const Re=(e,t)=>{if(!e||0===e.length)return e;const n=[...e];switch(console.log("\ud83d\udd04 Sorting ".concat(n.length," flights by: ").concat(t)),t){case"duration":n.sort((e,t)=>(e.sI||[]).reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.duration)||0),0)-(t.sI||[]).reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.duration)||0),0));break;case"departure":n.sort((e,t)=>{var n,a,s,i;const l=new Date((null===(n=e.sI)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.dt)||0),r=new Date((null===(s=t.sI)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.dt)||0);return isNaN(l.getTime())||isNaN(r.getTime())?0:l-r});break;case"arrival":n.sort((e,t)=>{var n,a,s,i,l,r;const o=new Date((null===(n=e.sI)||void 0===n||null===(a=n[(null===(s=e.sI)||void 0===s?void 0:s.length)-1])||void 0===a?void 0:a.at)||0),c=new Date((null===(i=t.sI)||void 0===i||null===(l=i[(null===(r=t.sI)||void 0===r?void 0:r.length)-1])||void 0===l?void 0:l.at)||0);return isNaN(o.getTime())||isNaN(c.getTime())?0:o-c});break;default:n.sort((e,t)=>{const n=Array.isArray(e.totalPriceList)?e.totalPriceList:[];let a=1/0;n.forEach(e=>{var t,n,s,i,l,r;const o=(null===e||void 0===e?void 0:e.fd)||{},d=Number((null===o||void 0===o||null===(t=o.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),u=Number((null===o||void 0===o||null===(s=o.CHILD)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),h=Number((null===(l=(null===o||void 0===o?void 0:o.INFANT)||(null===o||void 0===o?void 0:o.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),m=Number(c.ADULT||0)*d+Number(c.CHILD||0)*u+Number(c.INFANT||0)*h;m>0&&m<a&&(a=m)});const s=Array.isArray(t.totalPriceList)?t.totalPriceList:[];let i=1/0;return s.forEach(e=>{var t,n,a,s,l,r;const o=(null===e||void 0===e?void 0:e.fd)||{},d=Number((null===o||void 0===o||null===(t=o.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),u=Number((null===o||void 0===o||null===(a=o.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),h=Number((null===(l=(null===o||void 0===o?void 0:o.INFANT)||(null===o||void 0===o?void 0:o.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),m=Number(c.ADULT||0)*d+Number(c.CHILD||0)*u+Number(c.INFANT||0)*h;m>0&&m<i&&(i=m)}),a===1/0&&i===1/0?0:a===1/0?1:i===1/0?-1:a-i})}return n.length>0&&console.log("\u2705 Sorted flights by ".concat(t,":"),{first:n[0],last:n[n.length-1],count:n.length}),n},Fe=e=>{if("back"===e){const e=new Date(g.routeInfos[0].travelDate),t=new Date;t.setHours(0,0,0,0);const n=w-1,a=new Date(e);a.setDate(a.getDate()+n),a>=t&&k(n)}else"forward"===e&&k(w+1)},Oe=e=>(0,_t.jsx)("div",{className:"single-column-flights",children:e.map((e,t)=>Le(e,t,"single"))}),Le=(e,t,n)=>{const a=Array.isArray(e.sI)?e.sI:[],s=Array.isArray(e.totalPriceList)?e.totalPriceList:[],i=(Number(c.ADULT||0),Number(c.CHILD||0),Number(c.INFANT||0),Math.max(0,((null===a||void 0===a?void 0:a.length)||0)-1)),l=(Array.isArray(a)?a.slice(0,-1):[]).map(e=>{var t,n;return(null===e||void 0===e||null===(t=e.aa)||void 0===t?void 0:t.city)||(null===e||void 0===e||null===(n=e.aa)||void 0===n?void 0:n.code)}).filter(Boolean),r=0===i?"Non-stop":"".concat(i," ").concat(1===i?"Stop":"Stops"),o=i>0&&l.length>0?"Stopovers: ".concat(l.join(" \u2022 ")):void 0,d=(()=>{if(!0===(null===e||void 0===e?void 0:e.nearBy)||!0===(null===e||void 0===e?void 0:e.isNearby)||!0===(null===e||void 0===e?void 0:e.nearby))return!0;try{var t,n,s,i,l,r,o,c;const A=JSON.parse(localStorage.getItem("searchData")),D=null===A||void 0===A?void 0:A.tripType,E=(null===A||void 0===A?void 0:A.routeInfos)||[];if("oneway"===D&&E.length>0){var d,u,h,m,p,v,f,g;const e=null===(d=E[0])||void 0===d||null===(u=d.fromCityOrAirport)||void 0===u?void 0:u.code,t=null===(h=E[0])||void 0===h||null===(m=h.toCityOrAirport)||void 0===m?void 0:m.code,n=null===a||void 0===a||null===(p=a[0])||void 0===p||null===(v=p.da)||void 0===v?void 0:v.code,s=null===a||void 0===a||null===(f=a[a.length-1])||void 0===f||null===(g=f.aa)||void 0===g?void 0:g.code;return!(!e||!n||e===n)||!(!t||!s||t===s)}if("round"===D||"multicity"===D){var x,b,y,N;if(null!==e&&void 0!==e&&e.isCombo){let e=!1;const t=new Set;return E.forEach(n=>{var s,i,l,r,o,c,d,u;const h=null===n||void 0===n||null===(s=n.fromCityOrAirport)||void 0===s?void 0:s.code,m=null===n||void 0===n||null===(i=n.toCityOrAirport)||void 0===i?void 0:i.code,p=JSON.parse(localStorage.getItem("searchData")),v=null===p||void 0===p||null===(l=p.routeInfos)||void 0===l||null===(r=l.find(e=>{var t;return(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)===h}))||void 0===r||null===(o=r.fromCityOrAirport)||void 0===o?void 0:o.city,f=null===p||void 0===p||null===(c=p.routeInfos)||void 0===c||null===(d=c.find(e=>{var t;return(null===(t=e.toCityOrAirport)||void 0===t?void 0:t.code)===m}))||void 0===d||null===(u=d.toCityOrAirport)||void 0===u?void 0:u.city;let g=[],x=!1;for(let e=0;e<a.length;e++){var b,y,N,j;if(t.has(e))continue;const n=a[e],s=null===n||void 0===n||null===(b=n.da)||void 0===b?void 0:b.code,i=null===n||void 0===n||null===(y=n.aa)||void 0===y?void 0:y.code,l=null===n||void 0===n||null===(N=n.da)||void 0===N?void 0:N.city,r=null===n||void 0===n||null===(j=n.aa)||void 0===j?void 0:j.city;if(!x){(s===h||v&&l&&l===v)&&(x=!0)}if(x){g.push(n),t.add(e);if(i===m||f&&r&&r===f)break}}if(g.length>0){var w,k,S,C;const t=null===(w=g[0])||void 0===w||null===(k=w.da)||void 0===k?void 0:k.code,n=null===(S=g[g.length-1])||void 0===S||null===(C=S.aa)||void 0===C?void 0:C.code;(h&&t&&h!==t||m&&n&&m!==n)&&(e=!0)}}),e}if(void 0!==(null===e||void 0===e?void 0:e.tripSegment)&&E[e.tripSegment]){var j,w,k,S,C,I;const t=E[e.tripSegment],n=null===t||void 0===t||null===(j=t.fromCityOrAirport)||void 0===j?void 0:j.code,s=null===t||void 0===t||null===(w=t.toCityOrAirport)||void 0===w?void 0:w.code,i=null===a||void 0===a||null===(k=a[0])||void 0===k||null===(S=k.da)||void 0===S?void 0:S.code,l=null===a||void 0===a||null===(C=a[a.length-1])||void 0===C||null===(I=C.aa)||void 0===I?void 0:I.code;return!(!n||!i||n===i)||!(!s||!l||s===l)}const t=null===a||void 0===a||null===(x=a[0])||void 0===x||null===(b=x.da)||void 0===b?void 0:b.code,n=null===a||void 0===a||null===(y=a[a.length-1])||void 0===y||null===(N=y.aa)||void 0===N?void 0:N.code;return 1===a.length?!E.some(e=>{var a,s;const i=null===e||void 0===e||null===(a=e.fromCityOrAirport)||void 0===a?void 0:a.code,l=null===e||void 0===e||null===(s=e.toCityOrAirport)||void 0===s?void 0:s.code;return i===t&&l===n}):!E.some(e=>{var a,s;const i=null===e||void 0===e||null===(a=e.fromCityOrAirport)||void 0===a?void 0:a.code,l=null===e||void 0===e||null===(s=e.toCityOrAirport)||void 0===s?void 0:s.code;return i===t&&l===n})}const P=null===E||void 0===E||null===(t=E[0])||void 0===t||null===(n=t.fromCityOrAirport)||void 0===n?void 0:n.code,T=null===E||void 0===E||null===(s=E[0])||void 0===s||null===(i=s.toCityOrAirport)||void 0===i?void 0:i.code,R=null===a||void 0===a||null===(l=a[0])||void 0===l||null===(r=l.da)||void 0===r?void 0:r.code,F=null===a||void 0===a||null===(o=a[a.length-1])||void 0===o||null===(c=o.aa)||void 0===c?void 0:c.code;return!(!P||!R||P===R)||!(!T||!F||T===F)}catch(B){var A,D,E,P,T,R,F,O,L,M;const e=JSON.parse(localStorage.getItem("searchData")),t=null===e||void 0===e||null===(A=e.routeInfos)||void 0===A||null===(D=A[0])||void 0===D||null===(E=D.fromCityOrAirport)||void 0===E?void 0:E.code,n=null===e||void 0===e||null===(P=e.routeInfos)||void 0===P||null===(T=P[0])||void 0===T||null===(R=T.toCityOrAirport)||void 0===R?void 0:R.code,s=null===a||void 0===a||null===(F=a[0])||void 0===F||null===(O=F.da)||void 0===O?void 0:O.code,i=null===a||void 0===a||null===(L=a[a.length-1])||void 0===L||null===(M=L.aa)||void 0===M?void 0:M.code;return!(!t||!s||t===s)||!(!n||!i||n===i)}})(),m=!!me["".concat(n,"-").concat(t)],p=(null===g||void 0===g?void 0:g.tripType)||"oneway",v=Us(g),f=(()=>{if(v)return null;if("round"===p){if(n.includes("outbound"))return"Outbound";if(n.includes("return"))return"Return"}else if("multicity"===p){const e=n.match(/segment-(\d+)/);if(e)return"Segment ".concat(parseInt(e[1])+1)}return null})();return(0,_t.jsxs)("div",{className:"flight-card ".concat(m?"selected":""),children:[f&&(0,_t.jsx)("div",{className:"segment-indicator",children:f}),(0,_t.jsxs)("div",{className:"flight-card-left",children:[(0,_t.jsx)("div",{className:"airline-info",children:(()=>{const t=Us(g),n=(null===g||void 0===g?void 0:g.tripType)||"oneway";if(e.isCombo&&("round"===n||"multicity"===n)){var s,i,l,r;const e=a[0],t=null===e||void 0===e||null===(s=e.fD)||void 0===s||null===(i=s.aI)||void 0===i?void 0:i.code,o=Ws(t,ge)||(null===e||void 0===e||null===(l=e.fD)||void 0===l||null===(r=l.aI)||void 0===r?void 0:r.name)||t;let c=[];if("multicity"===n){const e=(null===g||void 0===g?void 0:g.routeInfos)||[],t=new Set;e.forEach((e,n)=>{var s,i,l,r;const o=null===(s=e.fromCityOrAirport)||void 0===s?void 0:s.code,d=null===(i=e.toCityOrAirport)||void 0===i?void 0:i.code,u=null===(l=ve[o])||void 0===l?void 0:l.city,h=null===(r=ve[d])||void 0===r?void 0:r.city;let m=[],p=!1,v=-1;for(let c=0;c<a.length;c++){var f,g,x,b,y,N;if(t.has(c))continue;const e=a[c],n=null===e||void 0===e||null===(f=e.da)||void 0===f?void 0:f.code,s=null===e||void 0===e||null===(g=e.aa)||void 0===g?void 0:g.code,i=(null===e||void 0===e||null===(x=e.da)||void 0===x?void 0:x.city)||(null===(b=ve[n])||void 0===b?void 0:b.city),l=(null===e||void 0===e||null===(y=e.aa)||void 0===y?void 0:y.city)||(null===(N=ve[s])||void 0===N?void 0:N.city);if(!p){(n===o||u&&i&&i===u)&&(p=!0,v=c)}if(p){m.push(e),t.add(c);if(s===d||h&&l&&l===h)break}}m.length>0&&c.push({segments:m,label:"Seg ".concat(n+1,": ")})})}else{const e=a.filter(e=>!e.isRs),t=a.filter(e=>e.isRs);e.length>0&&c.push({segments:e,label:"Out: "}),t.length>0&&c.push({segments:t,label:"Ret: "})}return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("img",{src:Hs(t,ge),alt:"".concat(o," logo"),className:"airline-logo",onError:e=>{e.target.src=qs(t)}}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:o}),(0,_t.jsx)("div",{className:"flight-numbers",children:c.map((e,t)=>(0,_t.jsxs)("div",{className:"combo-flight-group",children:[(0,_t.jsx)("span",{className:"combo-label",children:e.label}),e.segments.map((t,n)=>{var a,s,i;const l=null===t||void 0===t||null===(a=t.fD)||void 0===a||null===(s=a.aI)||void 0===s?void 0:s.code,r=null===t||void 0===t||null===(i=t.fD)||void 0===i?void 0:i.fN;return l&&r?(0,_t.jsxs)("span",{className:"flight-number",children:[l,"-",r,n<e.segments.length-1&&(0,_t.jsx)("span",{className:"flight-separator",children:"\u2022"})]},"seg-".concat(n)):null})]},"group-".concat(t)))})]})]})}if(!t||"round"!==n&&"multicity"!==n||void 0===e.tripSegment){var o,c,d,u;const e=a[0],t=null===e||void 0===e||null===(o=e.fD)||void 0===o||null===(c=o.aI)||void 0===c?void 0:c.code,n=Ws(t,ge)||(null===e||void 0===e||null===(d=e.fD)||void 0===d||null===(u=d.aI)||void 0===u?void 0:u.name)||t;return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("img",{src:Hs(t,ge),alt:"".concat(n," logo"),className:"airline-logo",onError:e=>{e.target.src=qs(t)}}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:n}),(0,_t.jsx)("div",{className:"flight-numbers",children:a.map((e,t)=>{var n,s,i;const l=null===e||void 0===e||null===(n=e.fD)||void 0===n||null===(s=n.aI)||void 0===s?void 0:s.code,r=null===e||void 0===e||null===(i=e.fD)||void 0===i?void 0:i.fN;return l&&r?(0,_t.jsxs)("div",{className:"flight-number",children:[l,"-",r,t<a.length-1&&(0,_t.jsx)("span",{className:"flight-separator",children:"\u2022"})]},t):null})})]})]})}{var h,m,p,v;const e=a,t=e[0],n=null===t||void 0===t||null===(h=t.fD)||void 0===h||null===(m=h.aI)||void 0===m?void 0:m.code,s=Ws(n,ge)||(null===t||void 0===t||null===(p=t.fD)||void 0===p||null===(v=p.aI)||void 0===v?void 0:v.name)||n;return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("img",{src:Hs(n,ge),alt:"".concat(s," logo"),className:"airline-logo",onError:e=>{e.target.src=qs(n)}}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:s}),(0,_t.jsx)("div",{className:"flight-numbers",children:e.map((t,n)=>{var a,s,i;const l=null===t||void 0===t||null===(a=t.fD)||void 0===a||null===(s=a.aI)||void 0===s?void 0:s.code,r=null===t||void 0===t||null===(i=t.fD)||void 0===i?void 0:i.fN;return l&&r?(0,_t.jsxs)("div",{className:"flight-number",children:[l,"-",r,n<e.length-1&&(0,_t.jsx)("span",{className:"flight-separator",children:"\u2022"})]},n):null})})]})]})}})()}),(0,_t.jsxs)("button",{className:"view-details-btn",onClick:()=>{const a=u["".concat(n,"-").concat(t)];Me(e,"number"===typeof a?a:0)},children:[(0,_t.jsx)("span",{children:"View Details"}),(0,_t.jsx)("span",{className:"plus-icon",children:"+"})]}),(()=>{const e=a[0],t=a[a.length-1],n=null===e||void 0===e?void 0:e.dt,s=null===t||void 0===t?void 0:t.at,i=n?new Date(n):null,l=s?new Date(s):null;return i&&l&&i.toDateString()!==l.toDateString()?(0,_t.jsxs)("div",{className:"arrival-day-info",children:[(0,_t.jsx)("span",{className:"airplane-icon",children:"\u2708"}),(0,_t.jsx)("span",{children:"Flight Arrives after 1 Day(s)"})]}):null})(),(()=>{const t=((e,t)=>{var n,a,s;const i=(null===t||void 0===t?void 0:t.fd)||{},l=[null===t||void 0===t?void 0:t.sR,null===t||void 0===t?void 0:t.seatsRemaining,null===t||void 0===t?void 0:t.seatLeft,null===t||void 0===t?void 0:t.seat,null===t||void 0===t?void 0:t.availableSeats,null===t||void 0===t?void 0:t.sr,null===i||void 0===i||null===(n=i.ADULT)||void 0===n?void 0:n.sR,null===i||void 0===i||null===(a=i.ADULT)||void 0===a?void 0:a.seatsRemaining,null===i||void 0===i||null===(s=i.ADULT)||void 0===s?void 0:s.seatLeft,null===i||void 0===i?void 0:i.sR,null===e||void 0===e?void 0:e.sR,null===e||void 0===e?void 0:e.seatsRemaining,null===e||void 0===e?void 0:e.seatLeft,null===e||void 0===e?void 0:e.seat,null===e||void 0===e?void 0:e.availableSeats,null===e||void 0===e?void 0:e.sr];for(let r=0;r<l.length;r+=1){const e=Number(l[r]);if(Number.isFinite(e)&&e>0)return e}return null})(e,s[0]);if("number"===typeof t&&t<=9){let e="seats-warning";return t<=3?e+=" seats-warning-red":t>=4&&t<=6?e+=" seats-warning-orange":t>=7&&(e+=" seats-warning-green"),(0,_t.jsxs)("div",{className:e,children:["Seats left: ",t]})}return null})(),d&&(0,_t.jsx)("div",{className:"nearby-airport-warning",children:"Nearby Airport"})]}),(0,_t.jsx)("div",{className:"flight-card-center",children:(()=>{const t=Us(g),n=(null===g||void 0===g?void 0:g.tripType)||"oneway";if(e.isCombo&&("round"===n||"multicity"===n)){const e=(e,t)=>{var n,a;if(0===e.length)return null;const s=e[0],i=e[e.length-1],l=Math.max(0,e.length-1),r=e.slice(0,-1).map(e=>{var t,n;return(null===e||void 0===e||null===(t=e.aa)||void 0===t?void 0:t.city)||(null===e||void 0===e||null===(n=e.aa)||void 0===n?void 0:n.code)}).filter(Boolean),o=0===l?"Non-stop":"".concat(l," ").concat(1===l?"Stop":"Stops");return(0,_t.jsxs)("div",{className:"combo-journey",children:[(0,_t.jsx)("div",{className:"journey-label",children:t}),(0,_t.jsxs)("div",{className:"journey-route",children:[(0,_t.jsxs)("div",{className:"departure-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===s||void 0===s||null===(n=s.da)||void 0===n?void 0:n.code}),(0,_t.jsx)("div",{className:"time",children:null!==s&&void 0!==s&&s.dt?new Date(s.dt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==s&&void 0!==s&&s.dt?new Date(s.dt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]}),(0,_t.jsxs)("div",{className:"flight-path",children:[(0,_t.jsxs)("div",{className:"stop-label",children:[o,r.length>0&&(0,_t.jsxs)("div",{className:"stopover-tooltip",children:[(0,_t.jsx)("div",{className:"tooltip-header",children:"Stopovers:"}),r.map((e,t)=>(0,_t.jsx)("div",{className:"tooltip-stopover",children:e},t))]})]}),(0,_t.jsx)("div",{className:"flight-arrow",children:"\u2192"}),(0,_t.jsx)("div",{className:"duration",children:(()=>{const t=e.reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.duration)||0),0);return"".concat(Math.floor(t/60),"h ").concat((t%60).toString().padStart(2,"0"),"m")})()})]}),(0,_t.jsxs)("div",{className:"arrival-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===i||void 0===i||null===(a=i.aa)||void 0===a?void 0:a.code}),(0,_t.jsx)("div",{className:"time",children:null!==i&&void 0!==i&&i.at?new Date(i.at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==i&&void 0!==i&&i.at?new Date(i.at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]})]})]},t)};let t=[];if("multicity"===n){const e=(null===g||void 0===g?void 0:g.routeInfos)||[],n=new Set;e.forEach((e,s)=>{var i,l,r,o;const c=null===(i=e.fromCityOrAirport)||void 0===i?void 0:i.code,d=null===(l=e.toCityOrAirport)||void 0===l?void 0:l.code,u=null===(r=ve[c])||void 0===r?void 0:r.city,h=null===(o=ve[d])||void 0===o?void 0:o.city;let m=[],p=!1;for(let t=0;t<a.length;t++){var v,f,g,x,b,y;if(n.has(t))continue;const e=a[t],s=null===e||void 0===e||null===(v=e.da)||void 0===v?void 0:v.code,i=null===e||void 0===e||null===(f=e.aa)||void 0===f?void 0:f.code,l=(null===e||void 0===e||null===(g=e.da)||void 0===g?void 0:g.city)||(null===(x=ve[s])||void 0===x?void 0:x.city),r=(null===e||void 0===e||null===(b=e.aa)||void 0===b?void 0:b.city)||(null===(y=ve[i])||void 0===y?void 0:y.city);if(!p){(s===c||u&&l&&l===u)&&(p=!0)}if(p){m.push(e),n.add(t);if(i===d||h&&r&&r===h)break}}if(m.length>0){var N,j,w,k,S,C,I,A;const e=(null===(N=m[0])||void 0===N||null===(j=N.da)||void 0===j?void 0:j.city)||(null===(w=m[0])||void 0===w||null===(k=w.da)||void 0===k?void 0:k.code)||c,n=(null===(S=m[m.length-1])||void 0===S||null===(C=S.aa)||void 0===C?void 0:C.city)||(null===(I=m[m.length-1])||void 0===I||null===(A=I.aa)||void 0===A?void 0:A.code)||d;t.push({segments:m,label:"".concat(e," \u2192 ").concat(n)})}})}else{const e=a.filter(e=>!e.isRs),n=a.filter(e=>e.isRs);e.length>0&&t.push({segments:e,label:"Outbound"}),n.length>0&&t.push({segments:n,label:"Return"})}return(0,_t.jsx)("div",{className:"combo-flights-container",children:t.map((t,n)=>e(t.segments,t.label))})}var s,i,c,d,u,h,m,p;if(!t||"round"!==n&&"multicity"!==n||void 0===e.tripSegment)return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"departure-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===(s=a[0])||void 0===s||null===(i=s.da)||void 0===i?void 0:i.code}),(0,_t.jsx)("div",{className:"time",children:null!==(c=a[0])&&void 0!==c&&c.dt?new Date(a[0].dt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==(d=a[0])&&void 0!==d&&d.dt?new Date(a[0].dt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]}),(0,_t.jsxs)("div",{className:"flight-path",children:[(0,_t.jsxs)("div",{className:"stop-label",title:o,"data-stopovers":l.length>0?l.join(", "):"",children:[r,l.length>0&&(0,_t.jsxs)("div",{className:"stopover-tooltip",children:[(0,_t.jsx)("div",{className:"tooltip-header",children:"Stopovers:"}),l.map((e,t)=>(0,_t.jsx)("div",{className:"tooltip-stopover",children:e},t))]})]}),(0,_t.jsx)("div",{className:"flight-arrow",children:"\u2192"}),(0,_t.jsx)("div",{className:"duration",children:(()=>{const e=a.reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.duration)||0),0);return"".concat(Math.floor(e/60),"h ").concat((e%60).toString().padStart(2,"0"),"m")})()})]}),(0,_t.jsxs)("div",{className:"arrival-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===(u=a[a.length-1])||void 0===u||null===(h=u.aa)||void 0===h?void 0:h.code}),(0,_t.jsx)("div",{className:"time",children:null!==(m=a[a.length-1])&&void 0!==m&&m.at?new Date(a[a.length-1].at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==(p=a[a.length-1])&&void 0!==p&&p.at?new Date(a[a.length-1].at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]})]});{var v,f;const e=a,t=e[0],n=e[e.length-1],s=Math.max(0,e.length-1),i=e.slice(0,-1).map(e=>{var t,n;return(null===e||void 0===e||null===(t=e.aa)||void 0===t?void 0:t.city)||(null===e||void 0===e||null===(n=e.aa)||void 0===n?void 0:n.code)}).filter(Boolean),l=0===s?"Non-stop":"".concat(s," ").concat(1===s?"Stop":"Stops"),r=s>0&&i.length>0?"Stopovers: ".concat(i.join(" \u2022 ")):void 0;return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"departure-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===t||void 0===t||null===(v=t.da)||void 0===v?void 0:v.code}),(0,_t.jsx)("div",{className:"time",children:null!==t&&void 0!==t&&t.dt?new Date(t.dt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==t&&void 0!==t&&t.dt?new Date(t.dt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]}),(0,_t.jsxs)("div",{className:"flight-path",children:[(0,_t.jsxs)("div",{className:"stop-label",title:r,"data-stopovers":i.length>0?i.join(", "):"",children:[l,i.length>0&&(0,_t.jsxs)("div",{className:"stopover-tooltip",children:[(0,_t.jsx)("div",{className:"tooltip-header",children:"Stopovers:"}),i.map((e,t)=>(0,_t.jsx)("div",{className:"tooltip-stopover",children:e},t))]})]}),(0,_t.jsx)("div",{className:"flight-arrow",children:"\u2192"}),(0,_t.jsx)("div",{className:"duration",children:(()=>{const t=e.reduce((e,t)=>e+Number((null===t||void 0===t?void 0:t.duration)||0),0);return"".concat(Math.floor(t/60),"h ").concat((t%60).toString().padStart(2,"0"),"m")})()})]}),(0,_t.jsxs)("div",{className:"arrival-info",children:[(0,_t.jsx)("div",{className:"airport-code",children:null===n||void 0===n||null===(f=n.aa)||void 0===f?void 0:f.code}),(0,_t.jsx)("div",{className:"time",children:null!==n&&void 0!==n&&n.at?new Date(n.at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"date",children:null!==n&&void 0!==n&&n.at?new Date(n.at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"-"})]})]})}})()}),(0,_t.jsx)("div",{className:"flight-card-right",children:(0,_t.jsxs)("div",{className:"fare-options",children:[s.sort((e,t)=>{var n,a,s,i,l,r,o,d,u,h,m,p;const v=(null===e||void 0===e?void 0:e.fd)||{},f=(null===t||void 0===t?void 0:t.fd)||{},g=Number((null===v||void 0===v||null===(n=v.ADULT)||void 0===n||null===(a=n.fC)||void 0===a?void 0:a.TF)||0),x=Number((null===v||void 0===v||null===(s=v.CHILD)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),b=Number((null===(l=(null===v||void 0===v?void 0:v.INFANT)||(null===v||void 0===v?void 0:v.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),y=Number(c.ADULT||0)*g+Number(c.CHILD||0)*x+Number(c.INFANT||0)*b,N=Number((null===f||void 0===f||null===(o=f.ADULT)||void 0===o||null===(d=o.fC)||void 0===d?void 0:d.TF)||0),j=Number((null===f||void 0===f||null===(u=f.CHILD)||void 0===u||null===(h=u.fC)||void 0===h?void 0:h.TF)||0),w=Number((null===(m=(null===f||void 0===f?void 0:f.INFANT)||(null===f||void 0===f?void 0:f.INFT))||void 0===m||null===(p=m.fC)||void 0===p?void 0:p.TF)||0);return y-(Number(c.ADULT||0)*N+Number(c.CHILD||0)*j+Number(c.INFANT||0)*w)}).slice(0,S["".concat(n,"-").concat(t)]?s.length:2).map((i,l)=>{var r,o,d,m,p,v;const f=s.indexOf(i),x=(null===i||void 0===i?void 0:i.fd)||{},b=Number((null===x||void 0===x||null===(r=x.ADULT)||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),y=Number((null===x||void 0===x||null===(d=x.CHILD)||void 0===d||null===(m=d.fC)||void 0===m?void 0:m.TF)||0),N=Number((null===(p=(null===x||void 0===x?void 0:x.INFANT)||(null===x||void 0===x?void 0:x.INFT))||void 0===p||null===(v=p.fC)||void 0===v?void 0:v.TF)||0),j=Number(c.ADULT||0)*b+Number(c.CHILD||0)*y+Number(c.INFANT||0)*N,{cabinLabel:w}=Ne(i,e,a),k=ye(i);0===t&&0===f&&(console.log("Sample fare option structure:",i),console.log("Available fare fields:",{fareIdentifier:null===i||void 0===i?void 0:i.fareIdentifier,fareType:null===i||void 0===i?void 0:i.fareType,fareName:null===i||void 0===i?void 0:i.fareName,fareClass:null===i||void 0===i?void 0:i.fareClass,fareCategory:null===i||void 0===i?void 0:i.fareCategory,id:null===i||void 0===i?void 0:i.id}));let S="Standard";const C=(null===i||void 0===i?void 0:i.fareIdentifier)||(null===i||void 0===i?void 0:i.fareType)||(null===i||void 0===i?void 0:i.fareName)||(null===i||void 0===i?void 0:i.fareClass)||(null===i||void 0===i?void 0:i.fareCategory)||(null===i||void 0===i?void 0:i.id);var I,A,D,E,P,T;(C&&"string"===typeof C&&(S=C.replace(/_/g," ").replace(/-/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")),C&&"Standard"!==C)||(null!==i&&void 0!==i&&null!==(I=i.fareIdentifier)&&void 0!==I&&I.toLowerCase().includes("corporate")?S="Corporate Fare":null!==i&&void 0!==i&&null!==(A=i.fareIdentifier)&&void 0!==A&&A.toLowerCase().includes("coupon")?S="Coupon":null!==i&&void 0!==i&&null!==(D=i.fareIdentifier)&&void 0!==D&&D.toLowerCase().includes("student")?S="Student Fare":null!==i&&void 0!==i&&null!==(E=i.fareIdentifier)&&void 0!==E&&E.toLowerCase().includes("senior")?S="Senior Fare":null!==i&&void 0!==i&&null!==(P=i.fareIdentifier)&&void 0!==P&&P.toLowerCase().includes("military")?S="Military Fare":null!==i&&void 0!==i&&null!==(T=i.fareIdentifier)&&void 0!==T&&T.toLowerCase().includes("government")&&(S="Government Fare"));me["".concat(n,"-").concat(t)];const R=u["".concat(n,"-").concat(t)]===f,F=(null===g||void 0===g?void 0:g.tripType)||"oneway";return 0===t&&0===f&&console.log("Radio button state:",{tripType:F,columnType:n,flightKey:"".concat(n,"-").concat(t),optIdx:f,selectedFareByFlight:u["".concat(n,"-").concat(t)],isFareSelected:R,checked:u["".concat(n,"-").concat(t)]===f,allSelectedFares:u}),(0,_t.jsxs)("div",{className:"fare-option ".concat(R?"fare-selected":""),onClick:()=>{console.log("Fare option clicked:",{tripType:F,columnType:n,index:t,optIdx:f,flightKey:"".concat(n,"-").concat(t),currentSelectedFare:u["".concat(n,"-").concat(t)]}),h(e=>{const a=He(He({},e),{},{["".concat(n,"-").concat(t)]:f});return console.log("Updated selectedFareByFlight:",a),a}),Be("".concat(n,"-").concat(t),e,f)},style:{cursor:"pointer"},children:[(0,_t.jsx)("div",{className:"fare-radio",children:(0,_t.jsx)("input",{type:"radio",name:"fare-".concat(n,"-").concat(t),checked:u["".concat(n,"-").concat(t)]===f,onChange:a=>{a.stopPropagation(),console.log("Radio button clicked:",{tripType:F,columnType:n,index:t,optIdx:f,flightKey:"".concat(n,"-").concat(t),currentSelectedFare:u["".concat(n,"-").concat(t)]}),h(e=>{const a=He(He({},e),{},{["".concat(n,"-").concat(t)]:f});return console.log("Updated selectedFareByFlight:",a),a}),Be("".concat(n,"-").concat(t),e,f)}})}),(0,_t.jsxs)("div",{className:"fare-details",children:[(0,_t.jsxs)("div",{className:"fare-price",children:["\u20b9",j.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,_t.jsxs)("div",{className:"fare-services",children:[(0,_t.jsx)("div",{className:"fare-type",children:S}),w&&(0,_t.jsx)("span",{children:w}),k.includes("Meal included")&&(0,_t.jsx)("span",{children:"Free Meal"}),k.includes("Refundable")&&(0,_t.jsx)("span",{children:"Refundable"})]})]})]},f)}),s.length>2&&(0,_t.jsxs)("button",{className:"more-fares-btn",onClick:()=>{C(e=>He(He({},e),{},{["".concat(n,"-").concat(t)]:!e["".concat(n,"-").concat(t)]}))},children:[S["".concat(n,"-").concat(t)]?"Show less":"+".concat(s.length-2," more fares"),(0,_t.jsx)("span",{className:"dropdown-arrow",children:S["".concat(n,"-").concat(t)]?"\u25b2":"\u25bc"})]})]})})]},"".concat(n,"-").concat(t))},Me=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;A(e),E(!0),F(!0),L("flight-details");try{var n,a,s,i,l,o,c,d,u,h,m,p,v,f,g,x,b,y,N,j,w,k,S,C,I,D,P,R,O,M,B,_,z,U,H,q,W,G,V,K,$,Y;const r=null===e||void 0===e||null===(n=e.totalPriceList)||void 0===n?void 0:n[t];if(!r)return void console.error("Selected fare option not found");const A=He(He({},e),{},{selectedFareIndex:t,selectedFare:r,aircraftInfo:{type:null===e||void 0===e||null===(a=e.sI)||void 0===a||null===(s=a[0])||void 0===s||null===(i=s.fD)||void 0===i||null===(l=i.ac)||void 0===l?void 0:l.type,registration:null===e||void 0===e||null===(o=e.sI)||void 0===o||null===(c=o[0])||void 0===c||null===(d=c.fD)||void 0===d||null===(u=d.ac)||void 0===u?void 0:u.reg,age:"5 years"},terminalInfo:{departure:null===e||void 0===e||null===(h=e.sI)||void 0===h||null===(m=h[0])||void 0===m||null===(p=m.da)||void 0===p?void 0:p.terminal,arrival:null===e||void 0===e||null===(v=e.sI)||void 0===v||null===(f=v[0])||void 0===f||null===(g=f.aa)||void 0===g?void 0:g.terminal},gateInfo:{departure:null===e||void 0===e||null===(x=e.sI)||void 0===x||null===(b=x[0])||void 0===b||null===(y=b.da)||void 0===y?void 0:y.gate,arrival:null===e||void 0===e||null===(N=e.sI)||void 0===N||null===(j=N[0])||void 0===j||null===(w=j.aa)||void 0===w?void 0:w.gate},baggageInfo:{cabin:(null===r||void 0===r||null===(k=r.fd)||void 0===k||null===(S=k.ADULT)||void 0===S||null===(C=S.bI)||void 0===C?void 0:C.cB)||(null===r||void 0===r||null===(I=r.fd)||void 0===I||null===(D=I.ADULT)||void 0===D||null===(P=D.baggage)||void 0===P?void 0:P.cabin),checkin:(null===r||void 0===r||null===(R=r.fd)||void 0===R||null===(O=R.ADULT)||void 0===O||null===(M=O.bI)||void 0===M?void 0:M.iB)||(null===r||void 0===r||null===(B=r.fd)||void 0===B||null===(_=B.ADULT)||void 0===_||null===(z=_.baggage)||void 0===z?void 0:z.checkin),additional:"\u20b9500 per kg"},mealInfo:{included:(null===r||void 0===r?void 0:r.meal)||(null===r||void 0===r?void 0:r.freeMeal)||(null===r||void 0===r||null===(U=r.fd)||void 0===U||null===(H=U.ADULT)||void 0===H?void 0:H.mI)||!1,options:["Vegetarian","Non-Vegetarian","Special Meals"],special:"Available on request"},fareRules:{cancellation:(null===r||void 0===r||null===(q=r.fd)||void 0===q||null===(W=q.ADULT)||void 0===W?void 0:W.cP)||(null===r||void 0===r?void 0:r.cancellationPolicy)||"\u20b91000 + fare difference",change:(null===r||void 0===r||null===(G=r.fd)||void 0===G||null===(V=G.ADULT)||void 0===V?void 0:V.dC)||(null===r||void 0===r?void 0:r.changePolicy)||"\u20b9500 + fare difference",refund:(null!==(K=null===r||void 0===r?void 0:r.refundable)&&void 0!==K?K:null===r||void 0===r||null===($=r.fd)||void 0===$||null===(Y=$.ADULT)||void 0===Y?void 0:Y.rT)?"Full refund":"Non-refundable"}});T(A)}catch(r){console.error("Error fetching flight details:",r)}finally{F(!1)}},Be=(e,t,n)=>{pe(a=>{var s;const i=He({},a),l=(null===g||void 0===g?void 0:g.tripType)||"oneway";console.log("handleFlightSelection called:",{flightKey:e,tripType:l,selectedFareIndex:n,flightId:null===t||void 0===t?void 0:t.id,totalPriceListLength:null===t||void 0===t||null===(s=t.totalPriceList)||void 0===s?void 0:s.length});const r=t.totalPriceList[n];console.log("Selected fare option:",r);const o=ye(r),{cabinLabel:c}=Ne(r,t,t.sI||[]);console.log("Extracted services:",o),console.log("Cabin label:",c);const d=He(He({},r),{},{services:o,cabinClass:c,meal:(null===r||void 0===r?void 0:r.meal)||(null===r||void 0===r?void 0:r.freeMeal)||(null===r||void 0===r?void 0:r.mI),refundable:o.includes("Refundable"),priceId:null===r||void 0===r?void 0:r.id,baggage:((e,t,n,a,s,i)=>{const l=(null===r||void 0===r?void 0:r.fd)||{},o=(null===l||void 0===l?void 0:l.ADULT)||{},c=(null===o||void 0===o?void 0:o.bI)||(null===o||void 0===o?void 0:o.baggage)||(null===r||void 0===r?void 0:r.baggage)||{},d=null!==(e=null!==(t=null!==(n=null===c||void 0===c?void 0:c.cB)&&void 0!==n?n:null===c||void 0===c?void 0:c.cabin)&&void 0!==t?t:null===c||void 0===c?void 0:c.cabinKg)&&void 0!==e?e:null===c||void 0===c?void 0:c.cabin_bag,u=null!==(a=null!==(s=null!==(i=null===c||void 0===c?void 0:c.iB)&&void 0!==i?i:null===c||void 0===c?void 0:c.checkin)&&void 0!==s?s:null===c||void 0===c?void 0:c.checkinKg)&&void 0!==a?a:null===c||void 0===c?void 0:c.check_in_bag;let h="";if("undefined"!==typeof d&&null!==d&&""!==String(d).trim()){const e=/kg|KG|Kg/.test(String(d))?String(d):"".concat(d," kg");h+="Cabin: ".concat(e)}if("undefined"!==typeof u&&null!==u&&""!==String(u).trim()){const e=/kg|KG|Kg/.test(String(u))?String(u):"".concat(u," kg");h+=h?", Check-in: ".concat(e):"Check-in: ".concat(e)}return h||"Check-in: 15 Kg, Cabin: 7 Kg"})()});if(console.log("Enhanced fare details:",d),"round"===l||"multicity"===l){const a=_e(e,l);Object.keys(i).forEach(e=>{_e(e,l)===a&&delete i[e]}),i[e]={flight:t,selectedFareIndex:n,fareDetails:d},console.log("Round/Multi-city selection stored:",{flightKey:e,segmentKey:a,fareDetails:d})}else Object.keys(i).forEach(e=>{delete i[e]}),i[e]={flight:t,selectedFareIndex:n,fareDetails:d},console.log("One-way selection stored:",{flightKey:e,fareDetails:d});return i})},_e=(e,t)=>{if(Us(g)){const a=e.match(/-(\d+)$/);if(a){const e=parseInt(a[1]),s=n[e];if(s&&void 0!==s.tripSegment){if("round"===t)return 0===s.tripSegment?"outbound":"return";if("multicity"===t)return"segment-".concat(s.tripSegment)}}}if("round"===t)return e.includes("outbound")?"outbound":e.includes("return")?"return":e;if("multicity"===t){const t=e.match(/^(segment-\d+)/);return t?t[1]:e}return e},ze=(e,t)=>{const n=Object.entries(e);if(console.log("\ud83d\udd04 Sorting selected flights:",{tripType:t,entries:n.map(e=>{let[t]=e;return t}),segmentKeys:n.map(e=>{let[n]=e;return _e(n,t)})}),"round"===t){const e=n.sort((e,n)=>{let[a]=e,[s]=n;const i=_e(a,t),l=_e(s,t);return console.log("\ud83d\udd04 Round-trip sorting:",{keyA:a,keyB:s,segmentA:i,segmentB:l}),"outbound"===i&&"return"===l?-1:"return"===i&&"outbound"===l?1:0});return console.log("\u2705 Round-trip sorted result:",e.map(e=>{let[t]=e;return t})),e}if("multicity"===t){const e=n.sort((e,n)=>{let[a]=e,[s]=n;const i=_e(a,t),l=_e(s,t);console.log("\ud83d\udd04 Multi-city sorting:",{keyA:a,keyB:s,segmentA:i,segmentB:l});const r=i.match(/segment-(\d+)/),o=l.match(/segment-(\d+)/);if(r&&o){const e=parseInt(r[1]),t=parseInt(o[1]),n=e-t;return console.log("\ud83d\udd04 Multi-city segment comparison:",{numA:e,numB:t,result:n}),n}return 0});return console.log("\u2705 Multi-city sorted result:",e.map(e=>{let[t]=e;return t})),e}return console.log("\u2705 One-way trip, no sorting needed"),n};return(0,_t.jsxs)("div",{children:[(0,_t.jsx)("style",{children:"\n          @keyframes spin {\n            from { transform: rotate(0deg); }\n            to { transform: rotate(360deg); }\n          }\n        "}),we(),(()=>{var e,t;if("oneway"!==(null===g||void 0===g?void 0:g.tripType))return null;if(null===g||void 0===g||null===(e=g.routeInfos)||void 0===e||null===(t=e[0])||void 0===t||!t.travelDate)return null;const n=new Date(g.routeInfos[0].travelDate),a=new Date;a.setHours(0,0,0,0);const s=[];for(let i=0;i<7;i++){const e=new Date(n);e.setDate(e.getDate()+w+i),e>=a&&s.push(e)}return(0,_t.jsx)("div",{className:"flight-calendar-container",children:(0,_t.jsxs)("div",{className:"calendar-navigation-container",children:[(0,_t.jsx)("button",{onClick:()=>Fe("back"),disabled:(()=>{const e=new Date(g.routeInfos[0].travelDate),t=new Date;t.setHours(0,0,0,0);const n=w-1,a=new Date(e);return a.setDate(a.getDate()+n),a<t})(),className:"calendar-nav-button",title:"Previous day",children:"\u2039"}),(0,_t.jsx)("div",{className:"calendar-grid",children:s.map((e,t)=>{const a=(e=>e.toDateString()===n.toDateString())(e),{price:s,error:i,loading:l}=(e=>{const t=e.toISOString().split("T")[0],n=b[t];return n?n.error?{price:null,error:n.error,loading:!1}:{price:n.price,error:null,loading:!1}:{price:null,error:null,loading:!0}})(e);return(0,_t.jsxs)("div",{className:"calendar-date-column ".concat(a?"selected":""),onClick:()=>Te(e),title:"Click to select ".concat(e.toLocaleDateString()),children:[(0,_t.jsxs)("div",{className:"calendar-date-text",children:[e.toLocaleDateString("en-US",{weekday:"short"}),(0,_t.jsx)("br",{}),e.toLocaleDateString("en-US",{month:"short"})," ",e.getDate()]}),l?(0,_t.jsx)("div",{className:"calendar-loading",children:"Loading..."}):i?(0,_t.jsx)("div",{className:"calendar-error",children:i}):s?(0,_t.jsxs)("div",{className:"calendar-fare-text",children:["\u20b9",s.toLocaleString()]}):(0,_t.jsx)("div",{className:"calendar-fetch-fare",children:"Fetch Fare"})]},t)})}),s.length<7&&(0,_t.jsxs)("div",{style:{fontSize:"12px",color:"#6c757d",textAlign:"center",marginTop:"12px",padding:"8px",background:"#f8f9fa",borderRadius:"6px"},children:["Showing ",s.length," available days (past dates are hidden)"]}),(0,_t.jsx)("button",{onClick:()=>Fe("forward"),className:"calendar-nav-button",title:"Next day",children:"\u203a"})]})})})(),!s&&!r&&n.length>0&&(0,_t.jsxs)("div",{className:"sort-options-container",children:[(0,_t.jsxs)("div",{className:"sort-left",children:[(0,_t.jsx)("div",{className:"sort-label",children:"Sort by:"}),(0,_t.jsxs)("div",{className:"sort-buttons",children:[(0,_t.jsx)("button",{className:"sort-button ".concat("price"===M?"active":""),onClick:()=>{console.log("\ud83d\udd04 Sort button clicked: price"),B("price")},children:"Price"}),(0,_t.jsx)("button",{className:"sort-button ".concat("duration"===M?"active":""),onClick:()=>{console.log("\ud83d\udd04 Sort button clicked: duration"),B("duration")},children:"Duration"}),(0,_t.jsx)("button",{className:"sort-button ".concat("departure"===M?"active":""),onClick:()=>{console.log("\ud83d\udd04 Sort button clicked: departure"),B("departure")},children:"Departure"}),(0,_t.jsx)("button",{className:"sort-button ".concat("arrival"===M?"active":""),onClick:()=>{console.log("\ud83d\udd04 Sort button clicked: arrival"),B("arrival")},children:"Arrival"})]})]}),(0,_t.jsx)("div",{className:"sort-right",children:(()=>{const e=(null===g||void 0===g?void 0:g.tripType)||"oneway",t=(null===g||void 0===g?void 0:g.routeInfos)||[],a=Gs(e,t,g,n),s=Object.keys(me).length;return(0,_t.jsxs)("div",{className:"selection-status-indicator",children:[(0,_t.jsx)("span",{className:"status-label",children:"Flight Selection:"}),(0,_t.jsxs)("span",{className:"status-count ".concat(s===a?"complete":"incomplete"),children:[s," of ",a]})]})})()})]}),!s&&(()=>{var e;if(!g||"multicity"!==g.tripType||(null===(e=g.routeInfos)||void 0===e?void 0:e.length)<2)return null;if(Us(g))return null;return 0===g.routeInfos.filter(e=>{var t,n;return e&&(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)&&(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)}).length?(console.warn("\u26a0\ufe0f No valid routes found for multi-city segment switcher"),null):(0,_t.jsx)("div",{className:"multi-city-segment-switcher",children:(0,_t.jsxs)("div",{className:"segment-tabs",children:[g.routeInfos.map((e,t)=>{var n,a,s,i,l,r;if(!e||null===(n=e.fromCityOrAirport)||void 0===n||!n.code||null===(a=e.toCityOrAirport)||void 0===a||!a.code)return console.warn("\u26a0\ufe0f Invalid route data at index:",t,e),null;const o=Bs((null===(s=e.fromCityOrAirport)||void 0===s?void 0:s.code)||"N/A"),c=Bs((null===(i=e.toCityOrAirport)||void 0===i?void 0:i.code)||"N/A"),d=e.travelDate?new Date(e.travelDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",u=_===t;return(0,_t.jsxs)("button",{className:"segment-tab ".concat(u?"active":""),onClick:()=>{console.log("\ud83d\udd04 Switching to multi-city segment:",t),z(t)},children:[(0,_t.jsxs)("div",{className:"segment-route",children:[(0,_t.jsxs)("span",{className:"segment-cities",children:[o," \u2192 ",c]}),(0,_t.jsx)("span",{className:"segment-date",children:d})]}),(0,_t.jsxs)("div",{className:"segment-airports",children:[null===(l=e.fromCityOrAirport)||void 0===l?void 0:l.code," \u2192 ",null===(r=e.toCityOrAirport)||void 0===r?void 0:r.code]})]},t)}).filter(Boolean)," "]})})})(),s&&(0,_t.jsxs)("div",{className:"loading-state-container",children:[g&&we(),(0,_t.jsxs)("div",{className:"loading-content",children:[(0,_t.jsx)("img",{src:"/flight-loading1.gif",alt:"Loading flights",className:"loading-gif"}),(0,_t.jsx)("p",{className:"loading-message",children:"Hold on, Loading flight details..."})]})]}),r&&(0,_t.jsx)("p",{style:{color:"red"},children:r}),s||r||0!==n.length?(0,_t.jsxs)("div",{className:"main-content-container",children:[(()=>{if(!ue)return null;const e=Se(),t=(()=>{const e=ke("airlines"),t={};return e.forEach(e=>{const n=Array.isArray(e.sI)?e.sI:[],a=new Set;n.forEach(e=>{var t,n;null!==e&&void 0!==e&&null!==(t=e.fD)&&void 0!==t&&null!==(n=t.aI)&&void 0!==n&&n.code&&a.add(e.fD.aI.code)}),a.forEach(e=>{t[e]=(t[e]||0)+1})}),t})(),a=Ce(),s=(()=>{const e=ke("stops"),t={};return e.forEach(e=>{const n=Array.isArray(e.sI)?e.sI:[],a=Math.max(0,n.length-1);t[a]=(t[a]||0)+1}),t})(),i=Ie(),l=(()=>{const e=ke("terminals"),t={};return e.forEach(e=>{(Array.isArray(e.sI)?e.sI:[]).forEach(e=>{var n,a;if(null!==e&&void 0!==e&&null!==(n=e.da)&&void 0!==n&&n.terminal){const n=e.da.terminal;t[n]=(t[n]||0)+1}if(null!==e&&void 0!==e&&null!==(a=e.aa)&&void 0!==a&&a.terminal){const n=e.aa.terminal;t[n]=(t[n]||0)+1}})}),t})(),r=Ae("departure"),o=Ae("arrival"),{minPrice:d,maxPrice:u}=Pe();return(0,_t.jsxs)("div",{className:"filters-sidebar",children:[(0,_t.jsxs)("div",{className:"filters-header",children:[(0,_t.jsx)("h3",{children:"Filters"}),(0,_t.jsxs)("div",{className:"filter-results-count",children:[ke().length," flights found"]}),(0,_t.jsx)("button",{className:"toggle-filters-btn",onClick:()=>he(!1),children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Price Range"}),(0,_t.jsxs)("div",{className:"price-slider-container",children:[(0,_t.jsxs)("div",{className:"price-range-display",children:["\u20b9",Y[0].toLocaleString("en-IN")," - \u20b9",Y[1].toLocaleString("en-IN")]}),(0,_t.jsxs)("div",{className:"price-slider",children:[(0,_t.jsx)("input",{type:"range",min:d,max:u,value:Y[0],onChange:e=>X([parseInt(e.target.value),Y[1]]),className:"price-slider-min"}),(0,_t.jsx)("input",{type:"range",min:d,max:u,value:Y[1],onChange:e=>X([Y[0],parseInt(e.target.value)]),className:"price-slider-max"})]}),(0,_t.jsxs)("div",{className:"price-labels",children:[(0,_t.jsxs)("span",{children:["\u20b9",d.toLocaleString("en-IN")]}),(0,_t.jsxs)("span",{children:["\u20b9",u.toLocaleString("en-IN")]})]})]})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Stops"}),(0,_t.jsx)("div",{className:"filter-options",children:a.map(e=>{const t=s[e]||0,n=0===t;return(0,_t.jsxs)("label",{className:"filter-option ".concat(n?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:J.includes(e),disabled:n,onChange:t=>{t.target.checked?Q([...J,e]):Q(J.filter(t=>t!==e))}}),(0,_t.jsxs)("span",{className:"filter-label",children:[0===e?"Non-stop":"".concat(e," ").concat(1===e?"Stop":"Stops"),(0,_t.jsxs)("span",{className:"filter-count",children:["(",t,")"]})]})]},e)})})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Flight Number"}),(0,_t.jsx)("div",{className:"flight-number-input",children:(0,_t.jsx)("input",{type:"text",placeholder:"e.g., 6E 123 or 123",value:Z,onChange:e=>ee(e.target.value)})})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Preferred Airlines"}),(0,_t.jsx)("div",{className:"filter-options",children:e.map(e=>{Hs(e,ge);const a=Ws(e,ge),s=((e,t,n)=>{if(!e||!t||!n)return null;let a=1/0,s=0;return t.forEach(t=>{(Array.isArray(t.sI)?t.sI:[]).some(t=>{var n,a;return(null===t||void 0===t||null===(n=t.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)===e})&&(Array.isArray(t.totalPriceList)?t.totalPriceList:[]).forEach(e=>{var t,i,l,r,o,c;const d=(null===e||void 0===e?void 0:e.fd)||{},u=Number((null===d||void 0===d||null===(t=d.ADULT)||void 0===t||null===(i=t.fC)||void 0===i?void 0:i.TF)||0),h=Number((null===d||void 0===d||null===(l=d.CHILD)||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),m=Number((null===(o=(null===d||void 0===d?void 0:d.INFANT)||(null===d||void 0===d?void 0:d.INFT))||void 0===o||null===(c=o.fC)||void 0===c?void 0:c.TF)||0),p=Number(n.ADULT||0)*u+Number(n.CHILD||0)*h+Number(n.INFANT||0)*m;p>0&&(a=Math.min(a,p),s=Math.max(s,p))})}),a===1/0?null:{min:a,max:s}})(e,n,c),i=t[e]||0,l=0===i;return(0,_t.jsx)("label",{className:"filter-option airline-option ".concat(l?"disabled":""),children:(0,_t.jsxs)("div",{className:"airline-info",children:[(0,_t.jsx)("input",{type:"checkbox",checked:ne.includes(e),disabled:l,onChange:t=>{t.target.checked?se([...ne,e]):se(ne.filter(t=>t!==e))}}),(0,_t.jsxs)("span",{className:"airline-name-title",children:[a||e,(0,_t.jsxs)("span",{className:"flight-count",children:["(",i,")"]})]}),s&&(0,_t.jsx)("div",{className:"airline-prices",children:(0,_t.jsxs)("span",{className:"price-from",children:["\u20b9",s.min.toLocaleString("en-IN")]})})]})},e)})})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Departure Time"}),(0,_t.jsx)("div",{className:"filter-options",children:[{value:"00-06",label:"00:00 - 06:00 (Early Morning)"},{value:"06-12",label:"06:00 - 12:00 (Morning)"},{value:"12-18",label:"12:00 - 18:00 (Afternoon)"},{value:"18-24",label:"18:00 - 24:00 (Evening)"}].map(e=>{const t=r[e.value]||0,n=0===t;return(0,_t.jsxs)("label",{className:"filter-option ".concat(n?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:ie.includes(e.value),disabled:n,onChange:t=>{t.target.checked?le([...ie,e.value]):le(ie.filter(t=>t!==e.value))}}),(0,_t.jsxs)("span",{className:"filter-label",children:[e.label,(0,_t.jsxs)("span",{className:"filter-count",children:["(",t,")"]})]})]},e.value)})})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Arrival Time"}),(0,_t.jsx)("div",{className:"filter-options",children:[{value:"00-06",label:"00:00 - 06:00 (Early Morning)"},{value:"06-12",label:"06:00 - 12:00 (Morning)"},{value:"12-18",label:"12:00 - 18:00 (Afternoon)"},{value:"18-24",label:"18:00 - 24:00 (Evening)"}].map(e=>{const t=o[e.value]||0,n=0===t;return(0,_t.jsxs)("label",{className:"filter-option ".concat(n?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:re.includes(e.value),disabled:n,onChange:t=>{t.target.checked?oe([...re,e.value]):oe(re.filter(t=>t!==e.value))}}),(0,_t.jsxs)("span",{className:"filter-label",children:[e.label,(0,_t.jsxs)("span",{className:"filter-count",children:["(",t,")"]})]})]},e.value)})})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h4",{children:"Terminal"}),(0,_t.jsx)("div",{className:"filter-options",children:i.map(e=>{const t=l[e]||0,n=0===t;return(0,_t.jsxs)("label",{className:"filter-option ".concat(n?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:ce.includes(e),disabled:n,onChange:t=>{t.target.checked?de([...ce,e]):de(ce.filter(t=>t!==e))}}),(0,_t.jsxs)("span",{className:"filter-label",children:[e,(0,_t.jsxs)("span",{className:"filter-count",children:["(",t,")"]})]})]},e)})})]}),(0,_t.jsx)("div",{className:"filter-section",children:(0,_t.jsx)("button",{className:"clear-filters-btn ".concat(De()?"active":""),onClick:Ee,disabled:!De(),children:De()?"Reset All Filters":"No Filters Applied"})})]})})(),!ue&&(0,_t.jsx)("div",{className:"show-filters-container",children:(0,_t.jsx)("button",{className:"show-filters-btn",onClick:()=>he(!0),children:"Show Filters"})}),(0,_t.jsx)("div",{className:"flights-content ".concat(ue?"":"full-width"),children:((e,t,a)=>{console.log("\ud83c\udfaf Current sortBy state:",M);const s=Re(n,M),i=ke(null,s);const l=Us(g);if(console.log("\ud83c\udfaf Rendering flights:",{tripType:null===g||void 0===g?void 0:g.tripType,isInternational:l,totalFlights:n.length,sortedFlights:s.length,filteredFlights:i.length,routeInfos:null===g||void 0===g||null===(e=g.routeInfos)||void 0===e?void 0:e.length,currentSortBy:M}),l&&("round"===(null===g||void 0===g?void 0:g.tripType)||"multicity"===(null===g||void 0===g?void 0:g.tripType)))return Oe(i);if("multicity"===(null===g||void 0===g?void 0:g.tripType)&&(null===g||void 0===g||null===(t=g.routeInfos)||void 0===t?void 0:t.length)>=2){console.log("\ud83d\udd04 Processing multi-city trip:",{routeCount:g.routeInfos.length,activeSegment:_,filteredFlightsCount:i.length});const e=((e,t)=>{var n;if(console.log("\ud83d\udd04 Separating multi-city flights:",{flightCount:e.length,searchData:null===t||void 0===t?void 0:t.tripType,routeInfos:null===t||void 0===t||null===(n=t.routeInfos)||void 0===n?void 0:n.length}),!t||"multicity"!==t.tripType||!t.routeInfos||t.routeInfos.length<2)return console.log("\u274c Invalid search data for multi-city separation"),null;const a=t.routeInfos.map(()=>[]);return e.forEach(e=>{if(void 0!==e.tripSegment)console.log("\ud83d\udccd Using trip segment:",e.tripSegment),e.tripSegment>=0&&e.tripSegment<a.length&&a[e.tripSegment].push(e);else{var n,s;const i=Array.isArray(e.sI)?e.sI:[];if(0===i.length)return;const l=i[0],r=i[i.length-1],o=null===l||void 0===l||null===(n=l.da)||void 0===n?void 0:n.code,c=null===r||void 0===r||null===(s=r.aa)||void 0===s?void 0:s.code;console.log("\ud83d\udd0d Route matching for flight:",{departureCode:o,arrivalCode:c,availableRoutes:t.routeInfos.map((e,t)=>{var n,a;return{index:t,from:null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,to:null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code}})});let d=!1;t.routeInfos.forEach((t,n)=>{var s,i;o===(null===(s=t.fromCityOrAirport)||void 0===s?void 0:s.code)&&c===(null===(i=t.toCityOrAirport)||void 0===i?void 0:i.code)&&(a[n].push(e),d=!0,console.log("\u2705 Flight matched to segment:",n))}),d||(console.log("\u26a0\ufe0f No exact route match found, trying partial matching"),t.routeInfos.forEach((t,n)=>{var s,i;o!==(null===(s=t.fromCityOrAirport)||void 0===s?void 0:s.code)&&c!==(null===(i=t.toCityOrAirport)||void 0===i?void 0:i.code)||0===a[n].length&&(a[n].push(e),console.log("\u2705 Flight partially matched to segment:",n))}))}}),console.log("\u2705 Multi-city separation result:",a.map((e,n)=>{var a,s;return{segment:n,flightCount:e.length,route:t.routeInfos[n]?"".concat(null===(a=t.routeInfos[n].fromCityOrAirport)||void 0===a?void 0:a.code," \u2192 ").concat(null===(s=t.routeInfos[n].toCityOrAirport)||void 0===s?void 0:s.code):"Unknown"}})),a})(i,g);if(e&&e.length>0){const t=Math.min(_,e.length-1);t!==_&&(console.warn("\u26a0\ufe0f Active segment index out of bounds, adjusting:",{original:_,adjusted:t,maxIndex:e.length-1}),z(t));const n=e[t];if(n&&n.length>0){const a=Re(n,M);return console.log("\u2705 Rendering multi-city flights for segment:",{segment:t,flightCount:a.length}),((e,t)=>e&&0!==e.length?(((e,t)=>{var n,a,s,i;if(!t||0===t.length||null===g||void 0===g||!g.routeInfos)return null;if(g.routeInfos[e])return console.log("\ud83d\udccd Using direct route info for segment:",e,g.routeInfos[e]),g.routeInfos[e];const l=t[0],r=Array.isArray(l.sI)?l.sI:[];if(0===r.length)return null;const o=null===(n=r[0])||void 0===n||null===(a=n.da)||void 0===a?void 0:a.code,c=null===(s=r[r.length-1])||void 0===s||null===(i=s.aa)||void 0===i?void 0:i.code;console.log("\ud83d\udd0d Finding route info for segment:",{segmentIndex:e,departureCode:o,arrivalCode:c,availableRoutes:g.routeInfos.map((e,t)=>{var n,a;return{index:t,from:null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,to:null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code}})});g.routeInfos.find(e=>{var t,n;return(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)===o&&(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)===c})?console.log("\u2705 Found matching route for segment:",e):(console.log("\u26a0\ufe0f No exact match found, using route at segment index:",e),g.routeInfos[e])})(_,t),(0,_t.jsx)("div",{className:"multi-city-container",children:(0,_t.jsx)("div",{className:"flights-list",children:t.map((e,t)=>Le(e,t,"segment-".concat(_)))})})):(0,_t.jsx)("div",{className:"multi-city-error",children:(0,_t.jsx)("p",{children:"No flights found for the selected segment."})}))(e,a)}return console.warn("\u26a0\ufe0f No flights found for active segment:",t),(0,_t.jsxs)("div",{className:"multi-city-error",children:[(0,_t.jsxs)("p",{children:["No flights found for segment ",t+1,"."]}),(0,_t.jsx)("p",{children:"Try selecting a different segment or adjust your search criteria."})]})}return console.error("\u274c Failed to separate multi-city flights"),(0,_t.jsxs)("div",{className:"multi-city-error",children:[(0,_t.jsx)("p",{children:"Unable to process multi-city flights."}),(0,_t.jsx)("p",{children:"Please try refreshing the page or adjusting your search."})]})}if("round"===(null===g||void 0===g?void 0:g.tripType)&&(null===g||void 0===g||null===(a=g.routeInfos)||void 0===a?void 0:a.length)>=2){const{outbound:e,return:t}=((e,t)=>{var n;if(console.log("\ud83d\udd04 Separating round trip flights:",{flightCount:e.length,searchData:null===t||void 0===t?void 0:t.tripType,routeInfos:null===t||void 0===t||null===(n=t.routeInfos)||void 0===n?void 0:n.length}),!t||"round"!==t.tripType||!t.routeInfos||t.routeInfos.length<2)return console.log("\u274c Invalid search data for round trip separation"),{outbound:e,return:[]};const a=[],s=[];return e.forEach(e=>{if(void 0!==e.tripSegment)console.log("\ud83d\udccd Using trip segment:",e.tripSegment),0===e.tripSegment?s.push(e):1===e.tripSegment&&a.push(e);else{var n,i,l,r,o,c,d,u,h,m;const p=Array.isArray(e.sI)?e.sI:[];if(0===p.length)return;const v=p[0],f=p[p.length-1],g=null===v||void 0===v||null===(n=v.da)||void 0===n?void 0:n.code,x=null===f||void 0===f||null===(i=f.aa)||void 0===i?void 0:i.code,b=t.routeInfos[0],y=t.routeInfos[1];console.log("\ud83d\udd0d Route matching:",{departureCode:g,arrivalCode:x,outboundRoute:"".concat(null===(l=b.fromCityOrAirport)||void 0===l?void 0:l.code," -> ").concat(null===(r=b.toCityOrAirport)||void 0===r?void 0:r.code),returnRoute:"".concat(null===(o=y.fromCityOrAirport)||void 0===o?void 0:o.code," -> ").concat(null===(c=y.toCityOrAirport)||void 0===c?void 0:c.code)}),g===(null===(d=b.fromCityOrAirport)||void 0===d?void 0:d.code)&&x===(null===(u=b.toCityOrAirport)||void 0===u?void 0:u.code)?a.push(e):g===(null===(h=y.fromCityOrAirport)||void 0===h?void 0:h.code)&&x===(null===(m=y.toCityOrAirport)||void 0===m?void 0:m.code)&&s.push(e)}}),console.log("\u2705 Round trip separation result:",{outbound:a.length,return:s.length}),{outbound:a,return:s}})(i,g);return((e,t,n,a)=>{var s,i,l,r,o,c;if(!e.length||!t.length)return(0,_t.jsxs)("div",{className:"round-trip-error",children:[(0,_t.jsx)("p",{children:"Loading..."}),Oe(n)]});const d=e=>{var t,n,a,s;if(!e||0===e.length||null===g||void 0===g||!g.routeInfos)return null;const i=e[0],l=Array.isArray(i.sI)?i.sI:[];if(0===l.length)return null;const r=null===(t=l[0])||void 0===t||null===(n=t.da)||void 0===n?void 0:n.code,o=null===(a=l[l.length-1])||void 0===a||null===(s=a.aa)||void 0===s?void 0:s.code;return g.routeInfos.find(e=>{var t,n;return(null===(t=e.fromCityOrAirport)||void 0===t?void 0:t.code)===r&&(null===(n=e.toCityOrAirport)||void 0===n?void 0:n.code)===o})||null},u=d(e)||(null===g||void 0===g||null===(s=g.routeInfos)||void 0===s?void 0:s[0]),h=d(t)||(null===g||void 0===g||null===(i=g.routeInfos)||void 0===i?void 0:i[1]);return(0,_t.jsx)("div",{className:"round-trip-container",children:(0,_t.jsxs)("div",{className:"round-trip-columns",children:[(0,_t.jsxs)("div",{className:"flight-column outbound",children:[(0,_t.jsxs)("div",{className:"column-header",children:[(0,_t.jsx)("h3",{children:"Outbound Flights"}),(0,_t.jsxs)("div",{className:"route-inf",children:[(null===u||void 0===u||null===(l=u.fromCityOrAirport)||void 0===l?void 0:l.code)||"N/A"," \u2192 ",(null===u||void 0===u||null===(r=u.toCityOrAirport)||void 0===r?void 0:r.code)||"N/A",(0,_t.jsx)("span",{className:"date-info",children:null!==u&&void 0!==u&&u.travelDate?new Date(u.travelDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""})]})]}),(0,_t.jsx)("div",{className:"flights-list",children:n.map((e,t)=>Le(e,t,"outbound"))})]}),(0,_t.jsxs)("div",{className:"flight-column return",children:[(0,_t.jsxs)("div",{className:"column-header",children:[(0,_t.jsx)("h3",{children:"Return Flights"}),(0,_t.jsxs)("div",{className:"route-inf",children:[(null===h||void 0===h||null===(o=h.fromCityOrAirport)||void 0===o?void 0:o.code)||"N/A"," \u2192 ",(null===h||void 0===h||null===(c=h.toCityOrAirport)||void 0===c?void 0:c.code)||"N/A",(0,_t.jsx)("span",{className:"date-info",children:null!==h&&void 0!==h&&h.travelDate?new Date(h.travelDate).toLocaleDateString("en-US",{month:"short",day:"numeric"}):""})]})]}),(0,_t.jsx)("div",{className:"flights-list",children:a.map((e,t)=>Le(e,t,"return"))})]})]})})})(e,t,Re(e,M),Re(t,M))}return Oe(i)})()})]}):(0,_t.jsx)("p",{children:"No flights found."}),Object.keys(me).length>0&&(()=>{const e=(null===g||void 0===g?void 0:g.tripType)||"oneway";return(0,_t.jsxs)("div",{className:"flight-selection-summary",children:[(0,_t.jsxs)("div",{className:"summary-header",children:[(0,_t.jsx)("h3",{children:"Selected Flights Summary"}),(0,_t.jsx)("div",{className:"selection-status",children:(()=>{const t=(null===g||void 0===g?void 0:g.routeInfos)||[],a=Gs(e,t,g,n),s=Object.keys(me).length;if("round"===e||"multicity"===e){const i=((e,t,a)=>{const s=Us(g);if(s&&("round"===e||"multicity"===e)&&Object.values(a).some(e=>{const t=null===e||void 0===e?void 0:e.flight;return t&&!0===t.isCombo}))return[];if("round"===e){const t=["outbound","return"];return s?t.filter(e=>{const t="outbound"===e?0:1;return!Object.keys(a).some(e=>{const s=a[e],i=null===s||void 0===s?void 0:s.flight;if(i){if(void 0!==i.tripSegment)return i.tripSegment===t;const a=e.match(/-(\d+)$/);if(a){const e=parseInt(a[1]),s=n[e];return s&&s.tripSegment===t}}return!1})}):t.filter(t=>!Object.keys(a).some(n=>_e(n,e)===t))}if("multicity"===e){const i=(null===t||void 0===t?void 0:t.length)||0,l=Array.from({length:i},(e,t)=>"segment-".concat(t));return s?l.filter(e=>{const t=parseInt(e.split("-")[1]);return!Object.keys(a).some(e=>{const s=a[e],i=null===s||void 0===s?void 0:s.flight;if(i){if(void 0!==i.tripSegment)return i.tripSegment===t;const a=e.match(/-(\d+)$/);if(a){const e=parseInt(a[1]),s=n[e];return s&&s.tripSegment===t}}return!1})}):l.filter(t=>!Object.keys(a).some(n=>_e(n,e)===t))}return[]})(e,t,me);if(i.length>0)return(0,_t.jsxs)("div",{className:"missing-segments",children:[(0,_t.jsxs)("span",{className:"count",children:[s," of ",a," flights selected"]}),(0,_t.jsxs)("span",{className:"missing",children:["Missing: ",i.join(", ")]})]})}return"".concat(s," of ").concat(a," flights selected")})()})]}),(0,_t.jsx)("div",{className:"selected-flights-list",children:ze(me,e).map(e=>{var t,n,a,s,i,l,r,o,d,u,h,m,p,v,f,g,x,b;let[y,N]=e;const{flight:j,selectedFareIndex:w,fareDetails:k}=N,S=Array.isArray(j.sI)?j.sI:[],C=(null===k||void 0===k?void 0:k.fd)||{},I=Number((null===C||void 0===C||null===(t=C.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),A=Number((null===C||void 0===C||null===(a=C.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),D=Number((null===(i=(null===C||void 0===C?void 0:C.INFANT)||(null===C||void 0===C?void 0:C.INFT))||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),E=Number(c.ADULT||0)*I+Number(c.CHILD||0)*A+Number(c.INFANT||0)*D;let P="";if(y.includes("outbound"))P="Outbound";else if(y.includes("return"))P="Return";else if(y.includes("segment")){const e=y.split("-")[2];P="Segment ".concat(parseInt(e)+1)}else P="Flight";return(0,_t.jsxs)("div",{className:"selected-flight-item",children:[(0,_t.jsxs)("div",{className:"flight-route-info",children:[(0,_t.jsxs)("div",{className:"route-label",children:[null===(r=S[0])||void 0===r||null===(o=r.fD)||void 0===o||null===(d=o.aI)||void 0===d?void 0:d.code,"-",null===(u=S[0])||void 0===u||null===(h=u.fD)||void 0===h?void 0:h.fN]}),(0,_t.jsxs)("div",{className:"route-details",children:[(0,_t.jsxs)("span",{className:"departure",children:[null===(m=S[0])||void 0===m||null===(p=m.da)||void 0===p?void 0:p.code," \u2192 ",null===(v=S[S.length-1])||void 0===v||null===(f=v.aa)||void 0===f?void 0:f.code]}),(0,_t.jsx)("span",{className:"date",children:null!==(g=S[0])&&void 0!==g&&g.dt?new Date(S[0].dt).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})]}),(0,_t.jsxs)("div",{className:"flight-details",children:[(0,_t.jsx)("div",{className:"airline-info",children:((e,t,n,a)=>{const s=S[0],i=null===s||void 0===s||null===(e=s.fD)||void 0===e||null===(t=e.aI)||void 0===t?void 0:t.code,l=Ws(i,ge)||(null===s||void 0===s||null===(n=s.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.name)||i;return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("img",{src:Hs(i,ge),alt:"".concat(l," logo"),className:"airline-logo-small",onError:e=>{e.target.src=qs(i)}}),(0,_t.jsx)("span",{className:"airline-name",children:l})]})})()}),(0,_t.jsxs)("div",{className:"timing-info",children:[(0,_t.jsx)("span",{className:"departure-time",children:null!==(x=S[0])&&void 0!==x&&x.dt?new Date(S[0].dt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("span",{className:"arrow",children:"\u2192"}),(0,_t.jsx)("span",{className:"arrival-time",children:null!==(b=S[S.length-1])&&void 0!==b&&b.at?new Date(S[S.length-1].at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"})]})]}),(0,_t.jsxs)("div",{className:"fare-info",children:[(0,_t.jsxs)("div",{className:"fare-price",children:["\u20b9",E.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,_t.jsx)("div",{className:"fare-type",children:((null===k||void 0===k?void 0:k.fareIdentifier)||(null===k||void 0===k?void 0:k.fareType)||(null===k||void 0===k?void 0:k.fareName)||"Standard").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})]})]},y)})}),(0,_t.jsxs)("div",{className:"summary-footer",children:[(0,_t.jsxs)("div",{className:"total-fare",children:[(0,_t.jsx)("span",{className:"total-label",children:"Total Fare:"}),(0,_t.jsxs)("span",{className:"total-amount",children:["\u20b9",(()=>{let e=0;return Object.values(me).forEach(t=>{var n,a,s,i,l,r;const{fareDetails:o}=t,d=(null===o||void 0===o?void 0:o.fd)||{},u=Number((null===d||void 0===d||null===(n=d.ADULT)||void 0===n||null===(a=n.fC)||void 0===a?void 0:a.TF)||0),h=Number((null===d||void 0===d||null===(s=d.CHILD)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),m=Number((null===(l=(null===d||void 0===d?void 0:d.INFANT)||(null===d||void 0===d?void 0:d.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0);e+=Number(c.ADULT||0)*u+Number(c.CHILD||0)*h+Number(c.INFANT||0)*m}),e.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})()]})]}),(0,_t.jsx)("button",{className:"proceed-to-booking-btn",disabled:(()=>{const e=(null===g||void 0===g?void 0:g.tripType)||"oneway",t=(null===g||void 0===g?void 0:g.routeInfos)||[],a=Gs(e,t,g,n);return Object.keys(me).length<a})(),onClick:()=>{const e=[];Object.values(me).forEach((t,n)=>{const a=(null===t||void 0===t?void 0:t.fareDetails)||{},s=a.id;s?(e.push(s),console.log("Flight ".concat(n+1," priceId:"),s)):console.error("Price ID not found for flight ".concat(n+1,". Available fields:"),Object.keys(a))}),console.log("Generated priceIds for booking:",e);const t={searchData:g,selectedFlights:me,paxInfo:c,priceIds:e,tripType:(null===g||void 0===g?void 0:g.tripType)||"oneway",routeInfos:(null===g||void 0===g?void 0:g.routeInfos)||[],totalFare:(()=>{let e=0;return Object.values(me).forEach(t=>{const n=t.fareDetails;if(n){var a,s,i,l,r,o;const t=n.fd||{},d=Number((null===t||void 0===t||null===(a=t.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),u=Number((null===t||void 0===t||null===(i=t.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),h=Number((null===(r=(null===t||void 0===t?void 0:t.INFANT)||(null===t||void 0===t?void 0:t.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0);e+=Number(c.ADULT||0)*d+Number(c.CHILD||0)*u+Number(c.INFANT||0)*h}}),e})(),selectedFareDetails:Object.values(me).map(e=>({flight:e.flight,fareDetails:e.fareDetails,selectedFareIndex:e.selectedFareIndex}))};be("/booking",{state:{flightData:t}})},children:(()=>{const e=(null===g||void 0===g?void 0:g.tripType)||"oneway",t=(null===g||void 0===g?void 0:g.routeInfos)||[],a=Gs(e,t,g,n),s=Object.keys(me).length;return s<a?"Select ".concat(a-s," more flight").concat(a-s>1?"s":""):"Proceed to Booking"})()})]})]})})(),D&&I&&(0,_t.jsx)("div",{className:"flight-details-modal",children:(0,_t.jsxs)("div",{className:"flight-details-content",children:[(0,_t.jsxs)("div",{className:"flight-details-header",children:[(0,_t.jsxs)("div",{className:"flight-route-info",children:[(0,_t.jsx)("div",{className:"route-display",children:((e,t,n,a)=>{const s=I.sI||[],i=(null===(e=s[0])||void 0===e||null===(t=e.da)||void 0===t?void 0:t.code)||"N/A",l=(null===(n=s[s.length-1])||void 0===n||null===(a=n.aa)||void 0===a?void 0:a.code)||"N/A";return"".concat(i," \u2192 ").concat(l)})()}),(0,_t.jsx)("div",{className:"flight-date",children:(e=>{const t=null===(e=(I.sI||[])[0])||void 0===e?void 0:e.dt;return t?new Date(t).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"N/A"})()}),(null===P||void 0===P?void 0:P.selectedFare)&&(0,_t.jsxs)("div",{className:"selected-fare-info",children:[(0,_t.jsx)("span",{className:"fare-type-badge",children:((null===(Ge=P.selectedFare)||void 0===Ge?void 0:Ge.fareIdentifier)||(null===(Ve=P.selectedFare)||void 0===Ve?void 0:Ve.fareType)||(null===(Ke=P.selectedFare)||void 0===Ke?void 0:Ke.fareName)||"Standard").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")}),(0,_t.jsxs)("span",{className:"fare-priceing",children:["\u20b9",((e,t,n,a,s,i,l)=>{const r=(null===(e=P.selectedFare)||void 0===e?void 0:e.fd)||{},o=Number((null===r||void 0===r||null===(t=r.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),d=Number((null===r||void 0===r||null===(a=r.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),u=Number((null===(i=(null===r||void 0===r?void 0:r.INFANT)||(null===r||void 0===r?void 0:r.INFT))||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0);return(Number(c.ADULT||0)*o+Number(c.CHILD||0)*d+Number(c.INFANT||0)*u).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})()]})]})]}),(0,_t.jsx)("button",{className:"close-details-btn",onClick:()=>{E(!1),A(null),T(null)},children:"\u2715"})]}),(0,_t.jsxs)("div",{className:"flight-details-tabs",children:[(0,_t.jsx)("button",{className:"tab-button ".concat("flight-details"===O?"active":""),onClick:()=>L("flight-details"),children:"Flight Details"}),(0,_t.jsx)("button",{className:"tab-button ".concat("fare-details"===O?"active":""),onClick:()=>L("fare-details"),children:"Fare Details"}),(0,_t.jsx)("button",{className:"tab-button ".concat("fare-rules"===O?"active":""),onClick:async()=>{L("fare-rules");try{V(""),W(!0);const w=()=>{var e,t,a,s;const i=((null===g||void 0===g?void 0:g.tripType)||"").toLowerCase(),l=Array.isArray(null===g||void 0===g?void 0:g.routeInfos)?g.routeInfos:[],r=Array.isArray(null===P||void 0===P?void 0:P.sI)?P.sI:[],o=null===(e=r[0])||void 0===e||null===(t=e.da)||void 0===t?void 0:t.code,c=null===(a=r[r.length-1])||void 0===a||null===(s=a.aa)||void 0===s?void 0:s.code,d=e=>{var t,n,a,s,i,l,r,o,c,d;return(null===e||void 0===e||null===(t=e.fareDetails)||void 0===t?void 0:t.priceId)||(null===e||void 0===e||null===(n=e.fareDetails)||void 0===n?void 0:n.id)||(null===e||void 0===e||null===(a=e.selectedFare)||void 0===a?void 0:a.id)||(null===e||void 0===e||null===(s=e.selectedFare)||void 0===s?void 0:s.priceId)||(null===e||void 0===e||null===(i=e.flight)||void 0===i||null===(l=i.totalPriceList)||void 0===l||null===(r=l[(null===e||void 0===e?void 0:e.selectedFareIndex)||0])||void 0===r?void 0:r.id)||(null===e||void 0===e||null===(o=e.flight)||void 0===o||null===(c=o.totalPriceList)||void 0===c||null===(d=c[(null===e||void 0===e?void 0:e.selectedFareIndex)||0])||void 0===d?void 0:d.priceId)},u=(e,t)=>{const n=Array.isArray(null===e||void 0===e?void 0:e.totalPriceList)?e.totalPriceList:[],a=n[t]||n[0];return(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.priceId)||null};if(Us(g)&&("round"===i||"multicity"===i)){var h,m,p,v;const e=Object.values(me||{}).map(d).find(Boolean),t=(null===P||void 0===P||null===(h=P.selectedFare)||void 0===h?void 0:h.id)||(null===P||void 0===P||null===(m=P.selectedFare)||void 0===m?void 0:m.priceId)||(Number.isInteger(null===P||void 0===P?void 0:P.selectedFareIndex)?u(P,P.selectedFareIndex):null)||(Array.isArray(null===P||void 0===P?void 0:P.totalPriceList)&&P.totalPriceList.length>0?(null===(p=P.totalPriceList[0])||void 0===p?void 0:p.id)||(null===(v=P.totalPriceList[0])||void 0===v?void 0:v.priceId):null);let a=null;if("multicity"===i&&o&&c){const e=(Array.isArray(n)?n:[]).find(e=>{var t,n,a,s;const i=Array.isArray(null===e||void 0===e?void 0:e.sI)?e.sI:[];if(0===i.length)return!1;const l=null===(t=i[0])||void 0===t||null===(n=t.da)||void 0===n?void 0:n.code,r=null===(a=i[i.length-1])||void 0===a||null===(s=a.aa)||void 0===s?void 0:s.code;return l===o&&r===c});e&&(a=u(e,0))}const s=e||t||a||null;if(s)return console.log("\u2705 Using representative priceId for international combo:",s),[s]}if("oneway"===i||l.length<=1){if(Array.isArray(null===P||void 0===P?void 0:P.totalPriceList)){const e=Number.isInteger(null===P||void 0===P?void 0:P.selectedFareIndex)?P.selectedFareIndex:0,t=u(P,e);return t?[t]:[]}return[]}const f=[];for(let g=0;g<l.length;g++){var x,b;const e=l[g],t=null===e||void 0===e||null===(x=e.fromCityOrAirport)||void 0===x?void 0:x.code,a=null===e||void 0===e||null===(b=e.toCityOrAirport)||void 0===b?void 0:b.code,s=Object.entries(me||{}).find(e=>{var n,s,i,l,r;let[o,c]=e;const d=Array.isArray(null===c||void 0===c||null===(n=c.flight)||void 0===n?void 0:n.sI)?c.flight.sI:[];if(0===d.length)return!1;const u=null===(s=d[0])||void 0===s||null===(i=s.da)||void 0===i?void 0:i.code,h=null===(l=d[d.length-1])||void 0===l||null===(r=l.aa)||void 0===r?void 0:r.code;return u===t&&h===a});if(s){const e=d(s[1]);f.push(e||null);continue}if(o===t&&c===a){const e=Number.isInteger(null===P||void 0===P?void 0:P.selectedFareIndex)?P.selectedFareIndex:0,t=u(P,e);f.push(t||null);continue}const i=u((Array.isArray(n)?n:[]).find(e=>{var n,s,i,l;const r=Array.isArray(null===e||void 0===e?void 0:e.sI)?e.sI:[];if(0===r.length)return!1;const o=null===(n=r[0])||void 0===n||null===(s=n.da)||void 0===s?void 0:s.code,c=null===(i=r[r.length-1])||void 0===i||null===(l=i.aa)||void 0===l?void 0:l.code;return o===t&&c===a}),0);f.push(i||null)}return f.filter(Boolean)};let k=w();if(!Array.isArray(k)||0===k.length){const r=Us(g),p=((null===g||void 0===g?void 0:g.tripType)||"").toLowerCase();if(r&&("round"===p||"multicity"===p)){var e,t,a,s,i,l,o,c,d,u,h,m;const r=(null===P||void 0===P||null===(e=P.selectedFare)||void 0===e?void 0:e.id)||(null===P||void 0===P||null===(t=P.selectedFare)||void 0===t?void 0:t.priceId)||(null===P||void 0===P||null===(a=P.totalPriceList)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.id)||(null===P||void 0===P||null===(i=P.totalPriceList)||void 0===i||null===(l=i[0])||void 0===l?void 0:l.priceId)||(Array.isArray(n)&&n.length>0?(null===(o=n[0])||void 0===o||null===(c=o.totalPriceList)||void 0===c||null===(d=c[0])||void 0===d?void 0:d.id)||(null===(u=n[0])||void 0===u||null===(h=u.totalPriceList)||void 0===h||null===(m=h[0])||void 0===m?void 0:m.priceId):null);r&&(console.warn("\u26a0\ufe0f Using fallback priceId for international fare rules:",r),k=[r])}if(!Array.isArray(k)||0===k.length)throw new Error("Missing priceId for fare rules for this leg")}console.log("\ud83d\udd04 Fetching fare rules with priceIds:",k);const{tfr:S,raw:C}=await(async e=>{try{var t,n;const r=await Ns(e);console.log("\ud83d\udd0e Fare rules raw review payload:",r);let m=null;if(null!==r&&void 0!==r&&null!==(t=r.fareRuleInformation)&&void 0!==t&&t.tfr)m=r.fareRuleInformation.tfr;else if(null!==r&&void 0!==r&&null!==(n=r.fareRules)&&void 0!==n&&n.tfr)m=r.fareRules.tfr;else if(Array.isArray(null===r||void 0===r?void 0:r.items)){var a,s;const e=r.items.find(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fareRuleInformation)||void 0===t?void 0:t.tfr)||(null===e||void 0===e||null===(n=e.fareRules)||void 0===n?void 0:n.tfr)});m=(null===e||void 0===e||null===(a=e.fareRuleInformation)||void 0===a?void 0:a.tfr)||(null===e||void 0===e||null===(s=e.fareRules)||void 0===s?void 0:s.tfr)||null}else if(Array.isArray(null===r||void 0===r?void 0:r.review)){var i,l;const e=r.review.find(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fareRuleInformation)||void 0===t?void 0:t.tfr)||(null===e||void 0===e||null===(n=e.fareRules)||void 0===n?void 0:n.tfr)});m=(null===e||void 0===e||null===(i=e.fareRuleInformation)||void 0===i?void 0:i.tfr)||(null===e||void 0===e||null===(l=e.fareRules)||void 0===l?void 0:l.tfr)||null}else if(Array.isArray(null===r||void 0===r?void 0:r.tripInfos))for(const e of r.tripInfos){var o;if(null!==e&&void 0!==e&&null!==(o=e.fareRuleInformation)&&void 0!==o&&o.tfr){m=e.fareRuleInformation.tfr;break}const t=(Array.isArray(null===e||void 0===e?void 0:e.totalPriceList)?e.totalPriceList:[]).find(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fareRuleInformation)||void 0===t?void 0:t.tfr)||(null===e||void 0===e||null===(n=e.fareRules)||void 0===n?void 0:n.tfr)||(null===e||void 0===e?void 0:e.fareRuleInformation)||(null===e||void 0===e?void 0:e.fareRules)});if(t){var c,d;m=(null===t||void 0===t||null===(c=t.fareRuleInformation)||void 0===c?void 0:c.tfr)||(null===t||void 0===t||null===(d=t.fareRules)||void 0===d?void 0:d.tfr)||(null===t||void 0===t?void 0:t.fareRuleInformation)||(null===t||void 0===t?void 0:t.fareRules);break}const n=(Array.isArray(null===e||void 0===e?void 0:e.sI)?e.sI:[]).find(e=>{var t,n;return(null===e||void 0===e||null===(t=e.fareRuleInformation)||void 0===t?void 0:t.tfr)||(null===e||void 0===e||null===(n=e.fareRules)||void 0===n?void 0:n.tfr)||(null===e||void 0===e?void 0:e.fareRuleInformation)||(null===e||void 0===e?void 0:e.fareRules)});if(n){var u,h;m=(null===n||void 0===n||null===(u=n.fareRuleInformation)||void 0===u?void 0:u.tfr)||(null===n||void 0===n||null===(h=n.fareRules)||void 0===h?void 0:h.tfr)||(null===n||void 0===n?void 0:n.fareRuleInformation)||(null===n||void 0===n?void 0:n.fareRules);break}}return console.log("\u2705 Extracted tfr:",m),{tfr:m,raw:r}}catch(r){var m;throw console.error("\u274c Fare Rules Fetch Error:",(null===(m=r.response)||void 0===m?void 0:m.data)||r.message),r}})(k);let A=S||null;if(!A&&C)try{var p,v,f,x;const e=(null===P||void 0===P||null===(p=P.selectedFare)||void 0===p?void 0:p.id)||(null===P||void 0===P||null===(v=P.selectedFare)||void 0===v?void 0:v.priceId)||k[0],t=Array.isArray(null===P||void 0===P?void 0:P.sI)?P.sI[0]:null,n=Array.isArray(null===P||void 0===P?void 0:P.sI)&&P.sI.length>0?P.sI[P.sI.length-1]:null,a=null===t||void 0===t||null===(f=t.da)||void 0===f?void 0:f.code,s=null===n||void 0===n||null===(x=n.aa)||void 0===x?void 0:x.code,i=Array.isArray(C.tripInfos)?C.tripInfos:[];for(const l of i){const t=Array.isArray(l.totalPriceList)?l.totalPriceList:[];for(const a of t){const t=(null===a||void 0===a?void 0:a.id)||(null===a||void 0===a?void 0:a.priceId),n=(null===a||void 0===a?void 0:a.fareRuleInformation)||(null===a||void 0===a?void 0:a.fareRules)||(null===a||void 0===a?void 0:a.fr)||null;if(n&&(!e||t===e)){A=n.tfr||n.TFR||n;break}}if(A)break;const n=(null===l||void 0===l?void 0:l.fareRuleInformation)||(null===l||void 0===l?void 0:l.fareRules)||null;if(null!==n&&void 0!==n&&n.tfr){A=n.tfr;break}const i=Array.isArray(null===l||void 0===l?void 0:l.sI)?l.sI:[];if(i.length>0){var b,y,N,j;const e=null===(b=i[0])||void 0===b||null===(y=b.da)||void 0===y?void 0:y.code,t=null===(N=i[i.length-1])||void 0===N||null===(j=N.aa)||void 0===j?void 0:j.code,n=a&&s&&e&&t&&a===e&&s===t;for(const a of i){const e=(null===a||void 0===a?void 0:a.fareRuleInformation)||(null===a||void 0===a?void 0:a.fareRules)||(null===a||void 0===a?void 0:a.fr)||null;if(null!==e&&void 0!==e&&e.tfr){A=e.tfr;break}}if(A&&n)break}}}catch(I){}H(A||{})}catch(Ul){var w,k,S,C;const t=null===Ul||void 0===Ul||null===(w=Ul.response)||void 0===w||null===(k=w.data)||void 0===k||null===(S=k.errors)||void 0===S||null===(C=S[0])||void 0===C?void 0:C.message;V(t||(null===Ul||void 0===Ul?void 0:Ul.message)||"Failed to load fare rules"),H(null)}finally{W(!1)}},children:"Fare Rules"}),(0,_t.jsx)("button",{className:"tab-button ".concat("baggage-info"===O?"active":""),onClick:()=>L("baggage-info"),children:"Baggage Information"})]}),(0,_t.jsx)("div",{className:"tab-content",children:R?(0,_t.jsxs)("div",{className:"loading-spinner",children:[(0,_t.jsx)("div",{className:"spinner"}),(0,_t.jsx)("p",{children:"Loading flight details..."})]}):(0,_t.jsxs)(_t.Fragment,{children:["flight-details"===O&&P&&(0,_t.jsx)("div",{className:"flight-details-tab",children:(0,_t.jsx)("div",{className:"flight-segments",children:(P.sI||[]).map((e,t)=>{var n,a,s,l,r,o,c,d,u,h,m,p,v,f,g,x,b,y,N,j,w,k,S,C,I,A,D,E;const T=_s((null===e||void 0===e||null===(n=e.da)||void 0===n?void 0:n.code)||"N/A",ve,null===e||void 0===e?void 0:e.da),R=zs((null===e||void 0===e||null===(a=e.da)||void 0===a?void 0:a.code)||"N/A",ve,null===e||void 0===e?void 0:e.da),F=_s((null===e||void 0===e||null===(s=e.aa)||void 0===s?void 0:s.code)||"N/A",ve,null===e||void 0===e?void 0:e.aa),O=zs((null===e||void 0===e||null===(l=e.aa)||void 0===l?void 0:l.code)||"N/A",ve,null===e||void 0===e?void 0:e.aa);return(0,_t.jsxs)(i.Fragment,{children:[(0,_t.jsxs)("div",{className:"flight-segment",children:[(0,_t.jsx)("div",{className:"segment-header",children:(0,_t.jsxs)("div",{className:"airline-info",children:[(0,_t.jsx)("img",{src:Hs(null===e||void 0===e||null===(r=e.fD)||void 0===r||null===(o=r.aI)||void 0===o?void 0:o.code,ge),alt:"".concat(Ws(null===e||void 0===e||null===(c=e.fD)||void 0===c||null===(d=c.aI)||void 0===d?void 0:d.code,ge)||(null===e||void 0===e||null===(u=e.fD)||void 0===u||null===(h=u.aI)||void 0===h?void 0:h.name)||(null===e||void 0===e||null===(m=e.fD)||void 0===m||null===(p=m.aI)||void 0===p?void 0:p.code)," logo"),className:"segment-airline-logo",onError:t=>{var n,a;t.target.src=qs(null===e||void 0===e||null===(n=e.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)}}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:Ws(null===e||void 0===e||null===(v=e.fD)||void 0===v||null===(f=v.aI)||void 0===f?void 0:f.code,ge)||(null===e||void 0===e||null===(g=e.fD)||void 0===g||null===(x=g.aI)||void 0===x?void 0:x.name)||(null===e||void 0===e||null===(b=e.fD)||void 0===b||null===(y=b.aI)||void 0===y?void 0:y.code)}),(0,_t.jsxs)("div",{className:"flight-number",children:[null===e||void 0===e||null===(N=e.fD)||void 0===N||null===(j=N.aI)||void 0===j?void 0:j.code,"-",null===e||void 0===e||null===(w=e.fD)||void 0===w?void 0:w.fN]})]})]})}),(0,_t.jsxs)("div",{className:"segment-route",children:[(0,_t.jsxs)("div",{className:"departure-details",children:[(0,_t.jsx)("div",{className:"time",children:null!==e&&void 0!==e&&e.dt?new Date(e.dt).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"airport",children:null===e||void 0===e||null===(k=e.da)||void 0===k?void 0:k.code}),(0,_t.jsx)("div",{className:"airport-info",children:T}),R&&(0,_t.jsx)("div",{className:"city-name",children:R}),(0,_t.jsxs)("div",{className:"terminal",children:[" ",null===e||void 0===e||null===(S=e.da)||void 0===S?void 0:S.terminal]}),(0,_t.jsxs)("div",{className:"gate",children:[" ",null===e||void 0===e||null===(C=e.da)||void 0===C?void 0:C.gate]})]}),(0,_t.jsxs)("div",{className:"flight-path",children:[(0,_t.jsxs)("div",{className:"duration",children:[Math.floor(Number((null===e||void 0===e?void 0:e.duration)||0)/60),"h ",(Number((null===e||void 0===e?void 0:e.duration)||0)%60).toString().padStart(2,"0"),"m"]}),(0,_t.jsx)("div",{className:"flight-arrow",children:"\u2192"}),(0,_t.jsx)("div",{className:"aircraft-info",children:null===(I=P.aircraftInfo)||void 0===I?void 0:I.type})]}),(0,_t.jsxs)("div",{className:"arrival-details",children:[(0,_t.jsx)("div",{className:"time",children:null!==e&&void 0!==e&&e.at?new Date(e.at).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit",hour12:!1}):"-"}),(0,_t.jsx)("div",{className:"airport",children:null===e||void 0===e||null===(A=e.aa)||void 0===A?void 0:A.code}),(0,_t.jsx)("div",{className:"airport-info",children:F}),O&&(0,_t.jsx)("div",{className:"city-name",children:O}),(0,_t.jsxs)("div",{className:"terminal",children:[" ",null===e||void 0===e||null===(D=e.aa)||void 0===D?void 0:D.terminal]}),(0,_t.jsxs)("div",{className:"gate",children:[" ",null===e||void 0===e||null===(E=e.aa)||void 0===E?void 0:E.gate]})]})]})]}),t<P.sI.length-1&&((n,a,s,i,l,r)=>{const o=P.sI[t+1],c=new Date(null===e||void 0===e?void 0:e.at),d=new Date(null===o||void 0===o?void 0:o.dt)-c,u=Math.floor(d/36e5),h=Math.floor(d%36e5/6e4),m=(null===e||void 0===e||null===(n=e.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)!==(null===o||void 0===o||null===(s=o.fD)||void 0===s||null===(i=s.aI)||void 0===i?void 0:i.code)||(null===e||void 0===e||null===(l=e.fD)||void 0===l?void 0:l.fN)!==(null===o||void 0===o||null===(r=o.fD)||void 0===r?void 0:r.fN);return(0,_t.jsxs)("div",{className:"layover-info-between",children:[(0,_t.jsxs)("span",{className:"layover-time",children:["Layover Time \u2013 ",u,"h ",h.toString().padStart(2,"0"),"m"]}),m&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("span",{className:"layover-separator",children:"|"}),(0,_t.jsx)("span",{className:"plane-change-text",children:"Requires plane change"})]})]})})()]},t)})})}),"fare-details"===O&&P&&P.selectedFare&&(0,_t.jsx)("div",{className:"fare-details-tab",children:(0,_t.jsxs)("div",{className:"fare-option-detailed selected",children:[(0,_t.jsxs)("div",{className:"fare-header",children:[(0,_t.jsxs)("div",{className:"fare-price",children:["\u20b9",((e,t,n,a,s,i,l)=>{const r=(null===(e=P.selectedFare)||void 0===e?void 0:e.fd)||{},o=Number((null===r||void 0===r||null===(t=r.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),d=Number((null===r||void 0===r||null===(a=r.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),u=Number((null===(i=(null===r||void 0===r?void 0:r.INFANT)||(null===r||void 0===r?void 0:r.INFT))||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0);return(Number(c.ADULT||0)*o+Number(c.CHILD||0)*d+Number(c.INFANT||0)*u).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})()]}),(0,_t.jsx)("div",{className:"fare-type",children:((null===(Ue=P.selectedFare)||void 0===Ue?void 0:Ue.fareIdentifier)||(null===(qe=P.selectedFare)||void 0===qe?void 0:qe.fareType)||(null===(We=P.selectedFare)||void 0===We?void 0:We.fareName)||"Standard").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ")})]}),(0,_t.jsxs)("div",{className:"fare-breakdown",children:[(0,_t.jsxs)("div",{className:"breakdown-item",children:[(0,_t.jsx)("span",{children:"Base Fare:"}),(0,_t.jsxs)("span",{children:["\u20b9",((e,t,n)=>{const a=(null===(e=P.selectedFare)||void 0===e?void 0:e.fd)||{};return Number((null===a||void 0===a||null===(t=a.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.BF)||0).toLocaleString("en-IN")})()]})]}),(0,_t.jsxs)("div",{className:"breakdown-item",children:[(0,_t.jsx)("span",{children:"Taxes & Fees:"}),(0,_t.jsxs)("span",{children:["\u20b9",((e,t,n,a,s)=>{const i=(null===(e=P.selectedFare)||void 0===e?void 0:e.fd)||{};return(Number((null===i||void 0===i||null===(t=i.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0)-Number((null===i||void 0===i||null===(a=i.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.BF)||0)).toLocaleString("en-IN")})()]})]}),(0,_t.jsxs)("div",{className:"breakdown-item total",children:[(0,_t.jsx)("span",{children:"Total:"}),(0,_t.jsxs)("span",{children:["\u20b9",((e,t,n,a,s,i,l)=>{const r=(null===(e=P.selectedFare)||void 0===e?void 0:e.fd)||{},o=Number((null===r||void 0===r||null===(t=r.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),d=Number((null===r||void 0===r||null===(a=r.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),u=Number((null===(i=(null===r||void 0===r?void 0:r.INFANT)||(null===r||void 0===r?void 0:r.INFT))||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0);return(Number(c.ADULT||0)*o+Number(c.CHILD||0)*d+Number(c.INFANT||0)*u).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})})()]})]})]})]})}),"fare-rules"===O&&P&&(0,_t.jsxs)("div",{className:"fare-rules-tab",children:[q&&(0,_t.jsx)("div",{className:"loading-spinner",children:(0,_t.jsx)("div",{className:"spinner"})}),!q&&G&&(0,_t.jsx)("div",{className:"rules-section",children:(0,_t.jsx)("p",{children:G})}),!q&&!G&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("p",{className:"instruction-text",children:"* To view charges, click on the tabs below."}),(0,_t.jsxs)("div",{className:"flight-details-tabs",style:{marginBottom:"12px"},children:[(0,_t.jsx)("button",{className:"tab-button ".concat("CANCELLATION"===K?"active":""),onClick:()=>$("CANCELLATION"),children:"Cancellation"}),(0,_t.jsx)("button",{className:"tab-button ".concat("DATECHANGE"===K?"active":""),onClick:()=>$("DATECHANGE"),children:"Date Change"}),(0,_t.jsx)("button",{className:"tab-button ".concat("NO_SHOW"===K?"active":""),onClick:()=>$("NO_SHOW"),children:"No Show"}),(0,_t.jsx)("button",{className:"tab-button ".concat("SEAT_CHARGEABLE"===K?"active":""),onClick:()=>$("SEAT_CHARGEABLE"),children:"Seat Chargeable"})]}),(0,_t.jsx)("div",{className:"rules-section",children:(()=>{const e=K,t=Array.isArray(null===U||void 0===U?void 0:U[e])?U[e]:[];return 0===t.length?"CANCELLATION"===e?(0,_t.jsx)("p",{children:"Standard cancellation policy applies"}):"DATECHANGE"===e?(0,_t.jsx)("p",{children:"Date changes allowed with fare difference"}):"NO_SHOW"===e?(0,_t.jsx)("p",{children:"Fees As Per Airline Rule + Surcharges"}):"SEAT_CHARGEABLE"===e?(0,_t.jsx)("p",{children:"As Per Airline Policy"}):(0,_t.jsx)("p",{children:"No information available"}):(0,_t.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:t.map((t,n)=>{const a=[];if("DATECHANGE"===e){const e=new Set;if("undefined"!==typeof t.additionalFee&&Number(t.additionalFee)>0&&e.add(Number(t.additionalFee)),t.fcs&&Object.entries(t.fcs).filter(e=>{let[t,n]=e;return Number(n)>0}).forEach(t=>{let[n,a]=t;return e.add(Number(a))}),e.size>0){const n=Array.from(e).sort((e,t)=>t-e).map(e=>"\u20b9".concat(e.toLocaleString("en-IN"))).join(" + ");a.push(n),t.policyInfo&&a.push(t.policyInfo)}else t.policyInfo&&a.push(t.policyInfo)}else t.policyInfo&&a.push(t.policyInfo),"CANCELLATION"===e&&"undefined"!==typeof t.amount&&a.push("Amount: \u20b9".concat(Number(t.amount).toLocaleString("en-IN"))),"undefined"!==typeof t.additionalFee&&a.push("+ \u20b9".concat(Number(t.additionalFee).toLocaleString("en-IN")));const s=a.filter(Boolean).join(" "),i=e=>{const t=Number(e);if(t>=120){const e=Math.floor(t/24);return"".concat(e," day").concat(e>1?"s":"")}return"".concat(t," hr").concat(t>1?"s":"")},l=t.st||t.et?"From ".concat(i(t.st||"0")," to ").concat(i(t.et||"0")):"";return(0,_t.jsx)("li",{style:{marginBottom:"8px"},children:(0,_t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[(0,_t.jsx)("div",{style:{flex:"1 1 auto"},children:s||"-"}),(0,_t.jsx)("div",{style:{flex:"0 0 auto",whiteSpace:"nowrap",color:"#555"},children:l})]})},"".concat(e,"-").concat(n))})})})()}),(0,_t.jsxs)("div",{className:"fare-rules-notes",children:[(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"The airline fee is indicative, which will depend upon the time of cancellation / re-issue as per the airline fare rules."})}),(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"Mentioned fees are Per Pax Per Sector"})}),(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"Apart from airline charges, GST + RAF + applicable charges if any, will be charged."})})]})]})]}),"baggage-info"===O&&P&&(0,_t.jsxs)("div",{className:"baggage-info-tab",children:[(0,_t.jsxs)("div",{className:"baggage-section",children:[(0,_t.jsx)("h4",{children:"Cabin Baggage"}),(0,_t.jsx)("p",{children:(null===(e=P.baggageInfo)||void 0===e?void 0:e.cabin)||"NA"})]}),(0,_t.jsxs)("div",{className:"baggage-section",children:[(0,_t.jsx)("h4",{children:"Check-in Baggage"}),(0,_t.jsx)("p",{children:(null===(t=P.baggageInfo)||void 0===t?void 0:t.checkin)||"NA"})]})]})]})})]})})]});var Ue,qe,We,Ge,Ve,Ke};function Ks(e,t){if(null==e)return{};var n,a,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}const $s=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ys=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Xs={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Js=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Qs=(0,i.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:r="",children:o,iconNode:c}=e,d=Ks(e,Js);return(0,i.createElement)("svg",He(He(He({ref:t},Xs),{},{width:a,height:a,stroke:n,strokeWidth:l?24*Number(s)/Number(a):s,className:Ys("lucide",r)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(e=>{let[t,n]=e;return(0,i.createElement)(t,n)}),...Array.isArray(o)?o:[o]])}),Zs=["className"],ei=(e,t)=>{const n=(0,i.forwardRef)((n,a)=>{let{className:s}=n,l=Ks(n,Zs);return(0,i.createElement)(Qs,He({ref:a,iconNode:t,className:Ys("lucide-".concat((r=$s(e),r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),s)},l));var r});return n.displayName=$s(e),n},ti=ei("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),ni=ei("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ai=ei("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),si=ei("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ii=ei("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),li=ei("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ri=e=>{let{checkin:t,checkout:n,onCheckinChange:a,onCheckoutChange:s,minDate:l,className:r=""}=e;const[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(new Date),[h,m]=(0,i.useState)(!1),[p,v]=(0,i.useState)(null),[f,g]=(0,i.useState)(null),[x,b]=(0,i.useState)(!1),y=(0,i.useRef)(null),N=(0,i.useRef)(null),j=(0,i.useRef)(!1),w=(0,i.useRef)(!1),k=(0,i.useRef)(null),S=(0,i.useRef)(0),C=(0,i.useRef)(h),I=(0,i.useRef)(p);(0,i.useEffect)(()=>{C.current=h},[h]),(0,i.useEffect)(()=>{I.current=p},[p]);const A=new Date;A.setHours(0,0,0,0);const D=l?new Date(l):A,E=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(a)},P=(0,i.useCallback)(()=>{C.current&&(m(!1),v(null),g(null),b(!1),k.current&&(clearTimeout(k.current),k.current=null),w.current=!1)},[]),T=(0,i.useCallback)(e=>{if(!C.current||!I.current)return;b(!0);const t=Date.now();if(t-S.current<16)return;S.current=t;const n=(e=>{for(;e&&!e.dataset.date;)e=e.parentElement;return e&&e.dataset.date?new Date(e.dataset.date):null})(e.target);if(n&&!F(n)){g(n);const e=I.current<n?I.current:n,t=I.current<n?n:I.current;a(E(e)),s(E(t))}},[a,s]);(0,i.useEffect)(()=>{if(n&&(j.current=!1),t&&!n&&!h&&!j.current&&!w.current){const e=new Date(t);e.setDate(e.getDate()+1);const n=E(e);s(n)}h||(w.current=!1)},[t,n,h,s]),(0,i.useEffect)(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&(c(!1),m(!1),v(null),g(null))};return o&&(document.addEventListener("mousedown",e),document.addEventListener("mouseup",P),document.addEventListener("mousemove",T)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",P),document.removeEventListener("mousemove",T)}},[o,P,T]);const R=e=>{if(!e)return"";const t=new Date(e),n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();return"".concat(n,"-").concat(a,"-").concat(s)},F=e=>(e.setHours(0,0,0,0),e<D),O=(()=>{const e=(e=>{const t=e.getFullYear(),n=e.getMonth();return new Date(t,n+1,0).getDate()})(d),t=(e=>{const t=e.getFullYear(),n=e.getMonth();return new Date(t,n,1).getDay()})(d),n=[],a=d.getMonth(),s=d.getFullYear();for(let i=0;i<t;i++)n.push(null);for(let i=1;i<=e;i++)n.push(new Date(s,a,i));return n})();return(0,_t.jsxs)("div",{className:"date-range-picker-container ".concat(r),ref:y,children:[(0,_t.jsxs)("div",{className:"date-range-picker-inputs-wrapper",onClick:()=>{if(c(!0),m(!1),v(null),g(null),b(!1),w.current=!1,t){const e=new Date(t);u(new Date(e.getFullYear(),e.getMonth(),1))}else u(new Date(A.getFullYear(),A.getMonth(),1))},children:[(0,_t.jsxs)("div",{className:"date-range-picker-field-wrapper",children:[(0,_t.jsxs)("div",{className:"date-range-picker-field-label",children:[(0,_t.jsx)(dt,{className:"date-range-picker-field-icon"}),(0,_t.jsx)("span",{children:"Check in"})]}),(0,_t.jsx)("div",{className:"date-range-picker-field-value",children:t?R(t):""})]}),(0,_t.jsx)("div",{className:"date-range-picker-separator"}),(0,_t.jsxs)("div",{className:"date-range-picker-field-wrapper",children:[(0,_t.jsx)("div",{className:"date-range-picker-field-label",children:(0,_t.jsx)("span",{children:"Check out"})}),(0,_t.jsx)("div",{className:"date-range-picker-field-value",children:n?R(n):""})]})]}),o&&(0,_t.jsxs)("div",{className:"date-range-picker-calendar",children:[(0,_t.jsxs)("div",{className:"date-range-picker-calendar-nav",children:[(0,_t.jsx)("button",{type:"button",className:"date-range-picker-nav-button",onClick:()=>{u(new Date(d.getFullYear(),d.getMonth()-1,1))},children:(0,_t.jsx)(pt,{})}),(0,_t.jsxs)("div",{className:"date-range-picker-month-year",children:[["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][d.getMonth()]," ",d.getFullYear()]}),(0,_t.jsx)("button",{type:"button",className:"date-range-picker-nav-button",onClick:()=>{u(new Date(d.getFullYear(),d.getMonth()+1,1))},children:(0,_t.jsx)(vt,{})})]}),(0,_t.jsxs)("div",{className:"date-range-picker-calendar-grid",ref:N,onMouseLeave:P,children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,_t.jsx)("div",{className:"date-range-picker-day-header",children:e},e)),O.map((e,i)=>{if(!e)return(0,_t.jsx)("div",{className:"date-range-picker-day-empty"},"empty-".concat(i));const l=E(e),r=F(e),o=l===t,c=l===n,d=(e=>{if(!t||!n){if(h&&p&&f){const t=p<f?p:f,n=p<f?f:p;return e.setHours(0,0,0,0),t.setHours(0,0,0,0),n.setHours(0,0,0,0),e>t&&e<n}return!1}const a=new Date(t),s=new Date(n);return a.setHours(0,0,0,0),s.setHours(0,0,0,0),e.setHours(0,0,0,0),e>a&&e<s})(e),u=o||c;let y=!1,N=!1,k=!1;if(h&&p&&f){const t=p<f?p:f,n=p<f?f:p,a=new Date(e);a.setHours(0,0,0,0),t.setHours(0,0,0,0),n.setHours(0,0,0,0),y=E(e)===E(t),N=E(e)===E(n),k=a>t&&a<n}return(0,_t.jsx)("div",{"data-date":e.toISOString(),className:"date-range-picker-day \n                    ".concat(u?"selected":""," \n                    ").concat(d||k?"in-range":""," \n                    ").concat(r?"disabled":"","\n                    ").concat(o||y?"checkin":"","\n                    ").concat(c||N?"checkout":"","\n                    ").concat(h?"dragging":"","\n                  "),onMouseDown:i=>((e,i)=>{if(F(e))return;i.preventDefault();const l=E(e);if(b(!1),m(!0),v(e),g(e),w.current=!0,t){const i=new Date(t);i.setHours(0,0,0,0);const r=new Date(e);r.setHours(0,0,0,0);const o=n?new Date(n):null;o&&o.setHours(0,0,0,0),(n&&o&&r.getTime()===o.getTime()||r<=i)&&(j.current=!0,a(l),s(""))}else{j.current=!1,a(l);const t=new Date(e);t.setDate(t.getDate()+1),s(E(t))}})(e,i),onClick:()=>(e=>{if(F(e))return;if(w.current||h&&x)return;const i=E(e),l=new Date(e);if(l.setHours(0,0,0,0),w.current=!0,t){const e=new Date(t);e.setHours(0,0,0,0);const r=n?new Date(n):null;r&&r.setHours(0,0,0,0),n&&r&&l.getTime()===r.getTime()||l<=e?(j.current=!0,a(i),s("")):(j.current=!0,s(i))}else{j.current=!1,a(i);const t=new Date(e);t.setDate(t.getDate()+1),s(E(t))}requestAnimationFrame(()=>{w.current=!1})})(e),children:e.getDate()},l)})]})]})]})},oi=["/hotel-hero/hotel1.jpg","/hotel-hero/hotel4.jpg","/hotel-hero/hotel9.png","/hotel-hero/hotel8.jpg","/hotel-hero/hotel7.jpg","/hotel-hero/hotel10.jpg"],ci=[{id:"goa-escape",name:"Seaside Luxury Retreat",location:"Calangute, Goa",searchQuery:"Calangute, Goa",ratingFilter:"5",checkinOffset:10,nights:3,pricePerNight:"\u20b98,499",originalPrice:"\u20b912,299",discountLabel:"30%",rating:4.8,reviews:1240,perkTag:"Trending Now",perks:["Breakfast & sundowner cocktails","Free airport transfers","Flexible 24-hour cancellation"]},{id:"jaipur-heritage",name:"Palace Heritage Stay",location:"Jaipur, Rajasthan",searchQuery:"Jaipur, Rajasthan",ratingFilter:"4",checkinOffset:14,nights:2,pricePerNight:"\u20b96,299",originalPrice:"\u20b99,899",discountLabel:"Limited Offer",rating:4.6,reviews:940,perkTag:"Guest Favourite",perks:["Guided heritage walk","Complimentary royal thali","Late checkout included"]},{id:"coorg-estate",name:"Coffee Estate Hideaway",location:"Coorg, Karnataka",searchQuery:"Coorg, Karnataka",ratingFilter:"4",checkinOffset:16,nights:3,pricePerNight:"\u20b95,899",originalPrice:"\u20b97,799",discountLabel:"25%",rating:4.5,reviews:560,perkTag:"Nature Escape",perks:["Curated plantation walk","Bonfire & acoustic evenings","Complimentary spice tasting"]},{id:"kerala-backwaters",name:"Backwater Premium Houseboat",location:"Alleppey, Kerala",searchQuery:"Alleppey, Kerala",ratingFilter:"5",checkinOffset:18,nights:1,pricePerNight:"\u20b99,750",originalPrice:"\u20b913,499",discountLabel:"40% Off",rating:4.7,reviews:720,perkTag:"All Inclusive",perks:["Private chef onboard","Sunset cruise & cultural show","Meals & excursions included"]}];function di(){const e=ae(),[t,n]=(0,i.useState)(0),[a,s]=(0,i.useState)(""),[l,r]=(0,i.useState)(""),[o,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(1),[h,m]=(0,i.useState)("IN India"),[p,v]=(0,i.useState)([]),[f,g]=(0,i.useState)(!1),[x,b]=(0,i.useState)(!1),[y,N]=(0,i.useState)([{adults:2,children:0,childAges:[]}]),[j,w]=(0,i.useState)(2),[k,S]=(0,i.useState)(0),C=y.reduce((e,t)=>e+t.adults,0),I=y.reduce((e,t)=>e+t.children,0),[A,D]=(0,i.useState)(""),[E,P]=(0,i.useState)(""),[T,R]=(0,i.useState)(""),F=(0,i.useRef)(null),O=(0,i.useRef)(null),L=(0,i.useRef)(null),M=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=setInterval(()=>{n(e=>(e+1)%oi.length)},5e3);return()=>clearInterval(e)},[]),(0,i.useEffect)(()=>{const e=y.reduce((e,t)=>e+t.adults,0),t=y.reduce((e,t)=>e+t.children,0);w(e),S(t)},[y]);const B=e=>{e.preventDefault(),e.stopPropagation(),b(!x)},_=(e,t,n,a)=>{a.preventDefault(),a.stopPropagation();const s=[...y];s[e]=He(He({},s[e]),{},{[t]:n}),N(s)},z=e=>{e.preventDefault(),e.stopPropagation(),g(!f)};(0,i.useEffect)(()=>{const e=e=>{F.current&&!F.current.contains(e.target)&&O.current&&!O.current.contains(e.target)&&b(!1),L.current&&!L.current.contains(e.target)&&M.current&&!M.current.contains(e.target)&&g(!1)};return(x||f)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x,f]);return(0,_t.jsxs)("div",{className:"hotel-search-container",children:[(0,_t.jsx)("div",{className:"hotel-search-background",style:{backgroundImage:"url(".concat(oi[t],")"),backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",transition:"all 1.5s ease-in-out",filter:"brightness(0.9) contrast(1.1)"},children:(0,_t.jsxs)("div",{className:"hotel-search-content",children:[(0,_t.jsx)("h1",{className:"hotel-search-title",children:"Book your stay with India's largest network of Hotels."}),(0,_t.jsxs)("form",{className:"hotel-search-form",onSubmit:t=>{if(t.preventDefault(),D(""),P(""),R(""),!o.trim())return void D("Please enter a city, state, country, or hotel name");if(!a)return void P("Please select a check-in date");if(!l)return void R("Please select a check-out date");const n=new Date(a);if(new Date(l)<=n)return void R("Check-out date must be after check-in date");const s=new Date;if(s.setHours(0,0,0,0),n.setHours(0,0,0,0),n<s)return void P("Check-in date cannot be in the past");const i={},r=o.trim();if(["hotel","resort","inn","lodge","palace","tower","plaza","suite","villa"].some(e=>r.toLowerCase().includes(e)))i.hotelName=r;else{const e=r.split(",").map(e=>e.trim()).filter(e=>e);e.length>=1&&(i.city=e[0]),e.length>=2&&(i.state=e[1]),e.length>=3&&(i.country=e[2]),1===e.length&&(i.city=e[0])}const c=h.split(" ")[0];e("/hotel-results",{state:{searchParams:i,checkin:a,checkout:l,adults:j,children:k,rooms:d,roomConfigs:y,nationality:c,rating:p.length>0?p:""}})},children:[(0,_t.jsxs)("div",{className:"hotel-search-form-row hotel-search-first-row",children:[(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-city-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"SEARCH BY CITY"}),(0,_t.jsxs)("div",{className:"hotel-search-input-container",children:[(0,_t.jsx)(tt,{className:"hotel-search-location-icon"}),(0,_t.jsx)("input",{type:"text",className:"hotel-search-form-input hotel-search-with-icon",placeholder:"Enter city, state, country, or hotel name (e.g., Mumbai, Taj Hotel, Mumbai Maharashtra India)",value:o,onChange:e=>{c(e.target.value),A&&e.target.value.trim()&&D("")}})]}),A&&(0,_t.jsxs)("div",{className:"hotel-search-error-message",children:[A.includes("Please enter")?(0,_t.jsx)(ti,{size:16,style:{marginRight:"6px"}}):(0,_t.jsx)(ni,{size:16,style:{marginRight:"6px"}}),(0,_t.jsx)("span",{children:A})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-date-range-field",children:[(0,_t.jsxs)("label",{className:"hotel-search-field-label",children:["CHECK IN & CHECK OUT ",(0,_t.jsx)("span",{className:"hotel-search-required-asterisk",children:"*"})]}),(0,_t.jsx)("div",{className:"hotel-search-input-container",children:(0,_t.jsx)(ri,{checkin:a,checkout:l,onCheckinChange:e=>{s(e),E&&e&&P("")},onCheckoutChange:e=>{r(e),T&&e&&R("")},minDate:(new Date).toISOString().split("T")[0],className:"hotel-search-date-range-picker"})}),E&&(0,_t.jsxs)("div",{className:"hotel-search-error-message",style:{left:"0",right:"50%",maxWidth:"calc(50% - 0.75rem)"},children:[(0,_t.jsx)(ni,{size:16,style:{marginRight:"6px"}}),(0,_t.jsx)("span",{children:E})]}),T&&(0,_t.jsxs)("div",{className:"hotel-search-error-message",style:{left:"50%",right:"0",maxWidth:"calc(50% - 0.75rem)"},children:[(0,_t.jsx)(ni,{size:16,style:{marginRight:"6px"}}),(0,_t.jsx)("span",{children:T})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"TOTAL NIGHT(S)"}),(0,_t.jsx)("div",{className:"hotel-search-nights-display",children:(()=>{if(a&&l){const e=new Date(a),t=new Date(l)-e,n=Math.ceil(t/864e5);return n>0?n:0}return 0})()})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-row hotel-search-second-row",children:[(0,_t.jsxs)("div",{className:"hotel-search-more-options-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"MORE OPTIONS"}),(0,_t.jsx)("div",{className:"hotel-search-more-options-container",children:(0,_t.jsxs)("div",{className:"hotel-search-more-options-row",children:[(0,_t.jsx)("div",{className:"hotel-search-form-field hotel-search-small",children:(0,_t.jsxs)("div",{className:"hotel-search-dropdown-container",children:[(0,_t.jsx)(jt,{className:"hotel-search-flag-icon"}),(0,_t.jsxs)("select",{className:"hotel-search-dropdown-select",value:h,onChange:e=>m(e.target.value),children:[(0,_t.jsx)("option",{value:"IN India",children:"India"}),(0,_t.jsx)("option",{value:"US United States",children:"United States"}),(0,_t.jsx)("option",{value:"GB United Kingdom",children:"United Kingdom"}),(0,_t.jsx)("option",{value:"AE UAE",children:"UAE"}),(0,_t.jsx)("option",{value:"SG Singapore",children:"Singapore"}),(0,_t.jsx)("option",{value:"AU Australia",children:"Australia"}),(0,_t.jsx)("option",{value:"CA Canada",children:"Canada"}),(0,_t.jsx)("option",{value:"DE Germany",children:"Germany"}),(0,_t.jsx)("option",{value:"FR France",children:"France"}),(0,_t.jsx)("option",{value:"JP Japan",children:"Japan"}),(0,_t.jsx)("option",{value:"CN China",children:"China"})]})]})}),(0,_t.jsx)("div",{className:"hotel-search-form-field hotel-search-small",children:(0,_t.jsxs)("div",{className:"hotel-search-dropdown-container hotel-search-rating-select-wrapper",style:{position:"relative"},children:[(0,_t.jsx)(ai,{className:"hotel-search-rating-icon",size:16}),(0,_t.jsxs)("div",{ref:M,className:"hotel-search-rating-dropdown-trigger",onClick:z,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),z(e))},role:"button",tabIndex:0,children:[(0,_t.jsx)("span",{className:"hotel-search-rating-display-text",children:0===p.length?"All Ratings":1===p.length?"".concat(p[0]," Star"):"".concat(p.length," Ratings Selected")}),(0,_t.jsx)(si,{size:16,className:"hotel-search-rating-chevron"})]}),f&&(0,_t.jsx)("div",{className:"hotel-search-rating-dropdown-menu",ref:L,onClick:e=>e.stopPropagation(),children:["5","4","3","2","1","Unrated"].map(e=>(0,_t.jsxs)("div",{className:"hotel-search-rating-option",onClick:t=>((e,t)=>{t.preventDefault(),t.stopPropagation(),v(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])})(e,t),children:[(0,_t.jsx)("span",{className:"hotel-search-rating-option-text",children:"Unrated"===e?"Unrated":"".concat(e," Star")}),(0,_t.jsx)("div",{className:"hotel-search-rating-checkbox ".concat(p.includes(e)?"hotel-search-checked":""),children:p.includes(e)&&(0,_t.jsx)(ii,{size:14,className:"hotel-search-rating-check-icon"})})]},e))})]})})]})})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-persons-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"PERSONS & ROOMS"}),(0,_t.jsxs)("div",{ref:O,className:"hotel-search-dropdown-container",onClick:B,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),B(e))},role:"button",tabIndex:0,children:[(0,_t.jsx)(Lt,{className:"hotel-search-persons-icon"}),(0,_t.jsxs)("span",{className:"hotel-search-dropdown-text",children:[d," Room",d>1?"s":""," \u2022 ",C," Adult",C>1?"s":""," \u2022 ",I," Children"]}),(0,_t.jsx)("span",{className:"hotel-search-dropdown-arrow",children:"\u25bc"})]}),x&&(0,_t.jsx)("div",{className:"hotel-search-persons-popup",ref:F,onClick:e=>e.stopPropagation(),children:(0,_t.jsxs)("div",{className:"hotel-search-popup-content",children:[(0,_t.jsx)("div",{className:"hotel-search-popup-header",children:(0,_t.jsxs)("span",{className:"hotel-search-room-count",children:["Rooms ",d]})}),(0,_t.jsx)("div",{className:"hotel-search-rooms-config ".concat(y.length>1?"hotel-search-rooms-scrollable":""),children:y.map((e,t)=>(0,_t.jsxs)("div",{className:"hotel-search-room-config",children:[d>1&&(0,_t.jsxs)("div",{className:"hotel-search-room-header",children:[(0,_t.jsxs)("span",{className:"hotel-search-room-title",children:["Room ",t+1]}),d>1&&(0,_t.jsx)("button",{className:"hotel-search-remove-room-btn",onClick:e=>((e,t)=>{if(t.preventDefault(),t.stopPropagation(),d>1){u(d-1);const t=y.filter((t,n)=>n!==e);N(t)}})(t,e),children:(0,_t.jsx)(li,{size:16})})]}),(0,_t.jsxs)("div",{className:"hotel-search-room-controls",children:[(0,_t.jsxs)("div",{className:"hotel-search-control-group",children:[(0,_t.jsxs)("span",{className:"hotel-search-control-label",children:[e.adults," Adult",e.adults>1?"s":""]}),(0,_t.jsxs)("div",{className:"hotel-search-counter-buttons",children:[(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>_(t,"adults",Math.max(1,e.adults-1),n),disabled:e.adults<=1,children:"-"}),(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>_(t,"adults",Math.min(9,e.adults+1),n),disabled:e.adults>=9,children:"+"})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-control-group",children:[(0,_t.jsxs)("span",{className:"hotel-search-control-label",children:[e.children," Children 0 - 17 Years Old"]}),(0,_t.jsxs)("div",{className:"hotel-search-counter-buttons",children:[(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>_(t,"children",Math.max(0,e.children-1),n),disabled:e.children<=0,children:"-"}),(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>_(t,"children",Math.min(6,e.children+1),n),disabled:e.children>=6,children:"+"})]})]}),e.children>0&&(0,_t.jsxs)("div",{className:"hotel-search-child-ages",children:[(0,_t.jsx)("span",{className:"hotel-search-age-label",children:"Age of Child"}),(0,_t.jsx)("div",{className:"hotel-search-age-inputs",children:Array.from({length:e.children},(n,a)=>(0,_t.jsx)("select",{className:"hotel-search-age-select",value:e.childAges[a]||0,onChange:e=>((e,t,n,a)=>{a.preventDefault(),a.stopPropagation();const s=[...y];s[e].childAges[t]=n,N(s)})(t,a,parseInt(e.target.value),e),children:Array.from({length:18},(e,t)=>(0,_t.jsxs)("option",{value:t,children:[t," years"]},t))},a))})]})]})]},t))}),(0,_t.jsxs)("div",{className:"hotel-search-popup-actions",children:[(0,_t.jsx)("button",{className:"hotel-search-add-room-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),d<5&&(u(d+1),N([...y,{adults:2,children:0,childAges:[]}]))},disabled:d>=5,children:"+ ADD ROOM"}),(0,_t.jsx)("button",{className:"hotel-search-done-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),b(!1)},children:"DONE"})]})]})})]})]}),(0,_t.jsx)("button",{type:"submit",className:"hotel-search-button",children:"SEARCH"})]})]})}),(0,_t.jsxs)("section",{className:"hotel-search-deals",children:[(0,_t.jsxs)("div",{className:"hotel-search-deals__header",children:[(0,_t.jsx)("span",{className:"hotel-search-deals__eyebrow",children:"Top Deals"}),(0,_t.jsx)("h2",{className:"hotel-search-deals__title",children:"Limited-time stays handpicked by travel experts"}),(0,_t.jsx)("p",{className:"hotel-search-deals__subtitle",children:"Exclusive prices with flexible cancellation and curated perks for your next getaway."})]}),(0,_t.jsx)("div",{className:"hotel-search-deals__grid",children:ci.map(e=>(0,_t.jsxs)("article",{className:"hotel-search-deal-card",children:[e.perkTag&&(0,_t.jsx)("span",{className:"hotel-search-deal-card__badge",children:e.perkTag}),(0,_t.jsxs)("div",{className:"hotel-search-deal-card__body",children:[(0,_t.jsxs)("div",{className:"hotel-search-deal-card__heading",children:[(0,_t.jsx)("h3",{className:"hotel-search-deal-card__name",children:e.name}),(0,_t.jsx)("p",{className:"hotel-search-deal-card__location",children:e.location})]}),(0,_t.jsxs)("div",{className:"hotel-search-deal-card__meta",children:[(0,_t.jsxs)("div",{className:"hotel-search-deal-card__rating",children:[(0,_t.jsx)(ai,{size:18,className:"hotel-search-deal-card__rating-icon"}),(0,_t.jsx)("span",{className:"hotel-search-deal-card__rating-score",children:e.rating}),(0,_t.jsxs)("span",{className:"hotel-search-deal-card__rating-reviews",children:["(",e.reviews.toLocaleString()," reviews)"]})]}),(0,_t.jsx)("span",{className:"hotel-search-deal-card__discount",children:e.discountLabel})]}),(0,_t.jsxs)("div",{className:"hotel-search-deal-card__price",children:[(0,_t.jsx)("span",{className:"hotel-search-deal-card__price-current",children:e.pricePerNight}),(0,_t.jsxs)("div",{className:"hotel-search-deal-card__price-detail",children:[(0,_t.jsx)("span",{className:"hotel-search-deal-card__price-label",children:"per night"}),(0,_t.jsx)("span",{className:"hotel-search-deal-card__price-original",children:e.originalPrice})]})]}),(0,_t.jsx)("ul",{className:"hotel-search-deal-card__perks",children:e.perks.map(e=>(0,_t.jsx)("li",{className:"hotel-search-deal-card__perk",children:e},e))})]}),(0,_t.jsx)("button",{type:"button",className:"hotel-search-deal-card__button",onClick:()=>(e=>{if(c(e.searchQuery||e.location),v(e.ratingFilter?[e.ratingFilter]:[]),e.checkinOffset&&e.nights){const t=new Date;t.setDate(t.getDate()+e.checkinOffset);const n=new Date(t);n.setDate(n.getDate()+e.nights),s(t.toISOString().split("T")[0]),r(n.toISOString().split("T")[0])}D(""),P(""),R(""),"undefined"!==typeof window&&window.scrollTo({top:120,behavior:"smooth"})})(e),children:"View Deal"})]},e.id))})]}),(0,_t.jsx)(qt,{})]})}const ui="https://tripjack.com",hi="".concat(ui,"/hms/v1/hotel-searchquery-list"),mi="".concat(ui,"/hms/v1/fetch-static-hotels"),pi="".concat(ui,"/hms/v1/hotelDetail-search"),vi="".concat(ui,"/hms/v1/hotel-cancellation-policy"),fi="".concat(ui,"/hms/v1/hotel-review"),gi="https://tripjack.com",xi=("".concat(gi,"/oms/v1/hotel/book"),"".concat(gi,"/oms/v1/hotel/confirm-book"),"".concat(gi,"/oms/v1/hotel/booking-details"),()=>({"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"})),bi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{if(t.signal&&t.signal.aborted)throw new Error("Request aborted");return await fetch(e,He(He({},t),{},{mode:"cors",credentials:"omit"}))}catch(n){if("AbortError"===n.name||"Request aborted"===n.message)throw n;if("TypeError"===n.name||n.message&&(n.message.includes("CORS")||n.message.includes("Failed to fetch")||n.message.includes("NetworkError"))){const e=new Error("CORS Error: Unable to fetch data. The API server may not allow requests from this origin.");throw e.name="CORSError",e.isCORS=!0,e}throw n}},yi=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{console.log("Fetching hotels for location: ".concat(e));const a=e.toLowerCase(),s=[],i=e=>{const n=e.currentPageHotels.filter(e=>{var t,n,s,i,l,r;const o=((null===(t=e.address)||void 0===t||null===(n=t.city)||void 0===n?void 0:n.name)||e.city||"").toLowerCase(),c=((null===(s=e.address)||void 0===s||null===(i=s.state)||void 0===i?void 0:i.name)||e.state||"").toLowerCase(),d=((null===(l=e.address)||void 0===l||null===(r=l.country)||void 0===r?void 0:r.name)||e.country||"").toLowerCase(),u=(e.name||e.hotelName||"").toLowerCase();return o.includes(a)||c.includes(a)||d.includes(a)||u.includes(a)});s.push(...n),t&&"function"===typeof t&&setTimeout(()=>{try{var a;t({currentPageHotels:n,allFilteredHotels:[...s],pageCount:e.pageCount,hasMore:e.hasMore,totalCount:s.length,totalFetched:e.totalCount||e.totalFetched||(null===(a=e.allHotels)||void 0===a?void 0:a.length)||0})}catch(i){console.error("Error in progress callback:",i)}},0)},l=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=(arguments.length>2&&void 0!==arguments[2]||Number.MAX_SAFE_INTEGER,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);try{const i=[];let l=e,r=0;do{var a,s;if(n&&n.aborted)return console.log("Fetch aborted by user"),{hotels:i,totalCount:i.length,lastNextToken:l,aborted:!0};r++,console.log("Fetching static hotels page ".concat(r,"..."));const e=l?{next:l}:{},o=await bi(mi,{method:"POST",headers:xi(),body:JSON.stringify(e),signal:n});if(!o.ok){const e=await o.text();throw console.error("API Error Response Body:",e),new Error("HTTP error! status: ".concat(o.status,", message: ").concat(e))}const c=await o.json();if(console.log("Page ".concat(r," response structure:"),{hasNext:"next"in c,nextValue:c.next,nextType:typeof c.next,hasHotelOpInfos:!!c.hotelOpInfos,hotelOpInfosLength:(null===(a=c.hotelOpInfos)||void 0===a?void 0:a.length)||0,statusSuccess:null===(s=c.status)||void 0===s?void 0:s.success,status:c.status,allKeys:Object.keys(c)}),n&&n.aborted)return console.log("Fetch aborted by user after response"),{hotels:i,totalCount:i.length,lastNextToken:l,aborted:!0};if(c.errors&&c.errors.length>0)throw console.error("API Error on page ".concat(r,":"),c.errors),new Error("API Error: ".concat(JSON.stringify(c.errors)));if(void 0!==c.next&&null!==c.next&&""!==c.next&&"null"!==c.next?(l=c.next,console.log("Page ".concat(r,": \u2705 NextToken found: ").concat(String(l).substring(0,30),"..."))):null===c.next||"null"===c.next?(l=null,console.log("Page ".concat(r,": \u274c NextToken is explicitly null - search complete"))):void 0===c.next?l?console.log("Page ".concat(r,": \u26a0\ufe0f Response has no 'next' field but we have previous token - CONTINUING (infinite scroll mode)")):(l=null,console.log("Page ".concat(r,": \u26a0\ufe0f No nextToken and no previous token - stopping"))):(l=null,console.log("Page ".concat(r,": \u274c NextToken is invalid/empty - search complete"))),c.status&&c.status.success&&c.hotelOpInfos&&Array.isArray(c.hotelOpInfos)&&c.hotelOpInfos.length>0?(i.push(...c.hotelOpInfos),console.log("Page ".concat(r,": Found ").concat(c.hotelOpInfos.length," hotels. Total: ").concat(i.length,". Has more: ").concat(!!l)),t&&"function"===typeof t&&setTimeout(()=>{try{t({currentPageHotels:c.hotelOpInfos,allHotels:[...i],pageCount:r,hasMore:!!l,totalCount:i.length,totalFetched:i.length})}catch(e){console.error("Error in progress callback:",e)}},0)):(console.log("Page ".concat(r,": No hotels returned. Has more: ").concat(!!l,". Continuing (infinite scroll mode)...")),t&&"function"===typeof t&&l&&setTimeout(()=>{try{t({currentPageHotels:[],allHotels:[...i],pageCount:r,hasMore:!0,totalCount:i.length,totalFetched:i.length})}catch(e){console.error("Error in progress callback:",e)}},0)),!l){console.log("Page ".concat(r,": No nextToken. Search complete."));break}console.log("Page ".concat(r,": \u2705 Continuing to next page (infinite scroll) with token: ").concat(String(l).substring(0,30),"..."))}while(l);return console.log("Total hotels fetched: ".concat(i.length)),{hotels:i,totalCount:i.length,lastNextToken:l,aborted:!1}}catch(i){if("AbortError"===i.name)return console.log("Fetch aborted by user"),{hotels:[],totalCount:0,lastNextToken:null,aborted:!0};if(i.isCORS||"CORSError"===i.name||i.message&&i.message.includes("CORS")){console.error("CORS Error in fetch static hotels:",i);const e=new Error("CORS Error: Unable to fetch hotels. The API server does not allow cross-origin requests. This is a server-side configuration issue.");throw e.name="CORSError",e.isCORS=!0,e}if("TypeError"===i.name&&i.message.includes("Failed to fetch")){console.error("Network/CORS Error in fetch static hotels:",i);const e=new Error("Network Error: Unable to connect to the hotel API. This may be due to CORS restrictions or network issues.");throw e.name="NetworkError",e.isNetwork=!0,e}throw console.error("Fetch static hotels error:",i),i}}(null,i,Number.MAX_SAFE_INTEGER,n);return l.aborted?(console.log("Hotel search was aborted"),s):(console.log("Found ".concat(s.length," hotels for location: ").concat(e)),s)}catch(a){if("AbortError"===a.name)return console.log("Hotel search was aborted"),[];throw console.error("Get hotels by location error:",a),a}},Ni=async(e,t)=>{try{console.log("=== HOTEL SEARCH QUERY START ==="),console.log("Hotel ID:",e),console.log("API Request URL:",hi),console.log("API Request Headers:",{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"});const c={searchQuery:{checkinDate:t.checkinDate||"2025-10-22",checkoutDate:t.checkoutDate||"2025-10-23",roomInfo:t.roomInfo||[{numberOfAdults:2,numberOfChild:0}],searchCriteria:{nationality:t.nationality||"106",currency:t.currency||"INR"},searchPreferences:{ratings:t.ratings||[3,4,5],hids:[e],fsc:!0}},sync:!0};console.log("API Request Body:",JSON.stringify(c,null,2));const d=await fetch(hi,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"},body:JSON.stringify(c)});let u;console.log("API Response Status:",d.status);try{const e=await d.text();u=e?JSON.parse(e):{}}catch(o){if(console.error("Failed to parse response:",o),!d.ok)throw new Error("HTTP error! status: ".concat(d.status,", message: ").concat(o.message));throw o}if(u.status&&!1===u.status.success){var n,a;console.error("API returned error:",u.errors||u.status);if(u.errors&&(u.errors.some(e=>"408"===e.errCode)||403===u.status.httpStatus||403===d.status)){var s,i;const e=(null===(s=u.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.message)||"Access Denied";throw console.error("\u274c Access Denied Error in hotelSearchQuery:",e),new Error("Access Denied: ".concat(e,". Please check your API key and permissions."))}var l,r;if(400===d.status)return console.warn("\u26a0\ufe0f Hotel search returned 400 error, hotel may not be available"),{searchResultId:null,fullResponse:u,hotelImages:[],notAvailable:!0,errorMessage:(null===(l=u.errors)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.message)||"Hotel not available for the selected dates"};throw new Error((null===(n=u.errors)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.message)||"Hotel search query failed")}if(!d.ok)throw console.error("API Error Response Body:",JSON.stringify(u,null,2)),new Error("HTTP error! status: ".concat(d.status,", message: ").concat(JSON.stringify(u)));if(console.log("=== FULL SEARCH QUERY RESPONSE ==="),console.log(JSON.stringify(u,null,2)),u.searchResult&&u.searchResult.his&&u.searchResult.his.length>0){const e=u.searchResult.his[0],t=e.id;return console.log("=== SEARCH RESULT DETAILS ==="),console.log("Hotel Name:",e.name),console.log("Search Result ID:",t),console.log("Hotel has images?",e.img?"Yes (".concat(e.img.length,")"):"No"),e.img&&e.img.length>0&&console.log("Sample image URLs:",e.img.slice(0,3).map(e=>e.url)),{searchResultId:t,fullResponse:u,hotelImages:e.img||[],notAvailable:!1}}return console.error("No hotel found in search results. Full response:",u),{searchResultId:null,fullResponse:u,hotelImages:[],notAvailable:!0,errorMessage:"No hotel found in search results"}}catch(c){throw console.error("Hotel search query error:",c),c}},ji=async e=>{try{console.log("=== HOTEL DETAIL SEARCH REQUEST START ==="),console.log("Search Result ID:",e),console.log("API Request URL:",pi),console.log("API Request Headers:",{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"});const t={id:e};console.log("API Request Body:",JSON.stringify(t,null,2));const n=await fetch(pi,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"},body:JSON.stringify(t)});if(console.log("API Response Status:",n.status),!n.ok){const e=await n.text();throw console.error("API Error Response Body:",e),new Error("HTTP error! status: ".concat(n.status,", message: ").concat(e))}const a=await n.json();console.log("=== FULL HOTEL DETAIL SEARCH RESPONSE ==="),console.log(JSON.stringify(a,null,2));const s=a.hotel||a;return console.log("=== HOTEL DETAIL SEARCH SUMMARY ==="),console.log("Hotel Name:",s.name),console.log("Hotel ID:",s.id),console.log("Hotel Rating:",s.rt),console.log("Number of options:",s.ops?s.ops.length:0),s.ops&&Array.isArray(s.ops)&&s.ops.length>0&&(console.log("=== PRICE EXTRACTION FROM OPTIONS ==="),s.ops.forEach((e,t)=>{e.ris&&Array.isArray(e.ris)&&e.ris.length>0?e.ris.forEach((e,n)=>{console.log("Option ".concat(t,", RIS ").concat(n,":"),{rc:e.rc,tp:e.tp,fp:e.fp,pp:e.pp,adt:e.adt,chd:e.chd})}):console.log("Option ".concat(t," (no ris):"),{tp:e.tp,fp:e.fp,pp:e.pp,ap:e.ap})})),console.log("Hotel has images in detail?",s.img?"Yes (".concat(s.img.length,")"):"No"),s.img&&s.img.length>0&&console.log("Sample image URLs from detail:",s.img.slice(0,3).map(e=>e.url)),a}catch(t){throw console.error("Fetch hotel details error:",t),t}},wi=async(e,t)=>{try{if(console.log("=== HOTEL REVIEW REQUEST START ==="),console.log("Hotel ID:",e),console.log("Option ID:",t),console.log("API Request URL:",fi),console.log("API Request Headers:",{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"}),!e||!t)throw new Error("hotelId and optionId are required for hotel review");const i={hotelId:e,optionId:t};console.log("API Request Body:",JSON.stringify(i,null,2));const l=await fetch(fi,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"},body:JSON.stringify(i)});if(console.log("API Response Status:",l.status),!l.ok){const e=await l.text();throw console.error("API Error Response Body:",e),new Error("HTTP error! status: ".concat(l.status,", message: ").concat(e))}const r=await l.json();var n,a,s;if(r.status&&!1===r.status.success)throw console.error("API returned error:",r.errors||r.status),new Error((null===(n=r.errors)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.message)||"Hotel review failed");if(console.log("=== FULL HOTEL REVIEW API RESPONSE ==="),console.log("Response Status Code:",l.status),console.log("Response OK:",l.ok),console.log("Response Headers:",Object.fromEntries(l.headers.entries())),console.log("\n=== RESPONSE DATA STRUCTURE ==="),console.log("Response Keys:",Object.keys(r)),console.log("Response Type:",typeof r),console.log("\n=== RESPONSE DETAILS ==="),r.bookingId?console.log("\u2705 Booking ID:",r.bookingId):console.warn("\u26a0\ufe0f Booking ID: MISSING"),r.status&&console.log("Status:",r.status),r.hInfo)console.log("Hotel Info Present:",!!r.hInfo),console.log("Hotel Name:",null===(s=r.hInfo)||void 0===s?void 0:s.name);return r.query&&console.log("Query Present:",!!r.query),r.metaInfo&&console.log("Meta Info Present:",!!r.metaInfo),console.log("\n=== COMPLETE JSON RESPONSE ==="),console.log(JSON.stringify(r,null,2)),r.bookingId?(console.log("\u2705 bookingId received:",r.bookingId),console.log("\u2705 Response validation: SUCCESS")):(console.error("\u26a0\ufe0f WARNING: bookingId is missing from hotel review response!"),console.error("Response structure:",Object.keys(r)),console.error("Available fields:",{hasStatus:!!r.status,hasHInfo:!!r.hInfo,hasQuery:!!r.query,hasMetaInfo:!!r.metaInfo,allKeys:Object.keys(r)})),r}catch(i){throw console.error("Review hotel booking error:",i),i}},ki=["hotel","resort","inn","lodge","palace","tower","plaza","suite","villa"],Si=[{code:"IN",label:"India"},{code:"US",label:"United States"},{code:"GB",label:"United Kingdom"},{code:"AE",label:"UAE"},{code:"SG",label:"Singapore"},{code:"AU",label:"Australia"},{code:"CA",label:"Canada"},{code:"DE",label:"Germany"},{code:"FR",label:"France"},{code:"JP",label:"Japan"},{code:"CN",label:"China"}],Ci=e=>{if(!e)return"";if(e.hotelName)return e.hotelName;const t=[];return e.city&&t.push(e.city),e.state&&t.push(e.state),e.country&&t.push(e.country),t.join(", ")},Ii=(e,t,n,a)=>Array.isArray(e)&&e.length>0?e.map(e=>{var t,n,a,s;return{adults:null!==(t=null!==(n=e.adults)&&void 0!==n?n:e.numberOfAdults)&&void 0!==t?t:1,children:null!==(a=null!==(s=e.children)&&void 0!==s?s:e.numberOfChild)&&void 0!==a?a:0,childAges:Array.isArray(e.childAges)?[...e.childAges]:Array.isArray(e.childrenAges)?[...e.childrenAges]:[]}}):((e,t,n)=>{const a=[];let s=t,i=n;for(let l=0;l<e;l+=1){const t=e-l,n=Math.max(1,Math.ceil(s/t)),r=i>0?Math.ceil(i/t):0;a.push({adults:n,children:r,childAges:Array(r).fill(5)}),s=Math.max(0,s-n),i=Math.max(0,i-r)}return a})(Math.max(1,t||1),Math.max(1,n||2),Math.max(0,a||0)),Ai=e=>{const t=Si.find(t=>t.code===e);return t?"".concat(t.code," ").concat(t.label):e?"".concat(e," ").concat(e):"IN India"};function Di(){const e=te(),t=ae(),n=e.state||{},a=Math.max(1,parseInt(n.adults,10)||2),s=Math.max(0,parseInt(n.children,10)||0),l=Math.max(1,parseInt(n.rooms,10)||1),r=Ii(n.roomConfigs,l,a,s),[o,c]=(0,i.useState)(n.searchParams||null),[d,u]=(0,i.useState)(n.checkin||""),[h,m]=(0,i.useState)(n.checkout||""),[p,v]=(0,i.useState)(a),[f,g]=(0,i.useState)(s),[x,b]=(0,i.useState)(l),[y,N]=(0,i.useState)(r),[j,w]=(0,i.useState)(n.nationality||"IN"),[k,S]=(0,i.useState)(void 0!==n.rating?n.rating:[]),[C,I]=(0,i.useState)(!1),[A,D]=(0,i.useState)(Ci(n.searchParams)),[E,P]=(0,i.useState)(n.checkin||""),[T,R]=(0,i.useState)(n.checkout||""),[F,O]=(0,i.useState)(r),[L,M]=(0,i.useState)(r.length),[B,_]=(0,i.useState)(r.reduce((e,t)=>e+(t.adults||0),0)),[z,U]=(0,i.useState)(r.reduce((e,t)=>e+(t.children||0),0)),[H,q]=(0,i.useState)(Ai(n.nationality||"IN")),[W,G]=(0,i.useState)([]),[V,K]=(0,i.useState)(""),[$,Y]=(0,i.useState)(!1),[X,J]=(0,i.useState)(!1),[Q,Z]=(0,i.useState)(""),[ee,ne]=(0,i.useState)([]),[se,ie]=(0,i.useState)(!0),[le,re]=(0,i.useState)(""),[oe,ce]=(0,i.useState)("info"),[de,ue]=(0,i.useState)("relevance"),[he,me]=(0,i.useState)(0),[pe,ve]=(0,i.useState)(0),[fe,ge]=(0,i.useState)(!1),[xe,be]=(0,i.useState)(new Map),[ye,Ne]=(0,i.useState)(new Set),[je,we]=(0,i.useState)([]),[ke,Se]=(0,i.useState)([]),[Ce,Ie]=(0,i.useState)(!1),[Ae,De]=(0,i.useState)([]),[Ee,Pe]=(0,i.useState)(!1),Te=(0,i.useRef)(null),Re=(0,i.useRef)(!1),Fe=(0,i.useRef)(new Map),Oe=(0,i.useRef)(new Set),Le=(0,i.useRef)(null),Me=(0,i.useRef)(null),Be=(0,i.useRef)(null),_e=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(Array.isArray(k))k.length>0?we(k):we([]);else if("string"===typeof k)if(""===k.trim())we([]);else{const e=parseInt(k);isNaN(e)?we([]):we([k.toString()])}else we([])},[k]),(0,i.useEffect)(()=>{D(Ci(o)),P(d||""),R(h||""),O(Ii(y,x||1,p||1,f||0)),q(Ai(j||"IN")),G([]),K("")},[o,d,h,p,f,x,j,k,y]),(0,i.useEffect)(()=>{const e=F.reduce((e,t)=>e+(t.adults||0),0),t=F.reduce((e,t)=>e+(t.children||0),0);_(Math.max(0,e)),U(Math.max(0,t)),M(Math.max(1,F.length||1))},[F]),(0,i.useEffect)(()=>{const e=e=>{X&&Le.current&&!Le.current.contains(e.target)&&Me.current&&!Me.current.contains(e.target)&&J(!1),$&&Be.current&&!Be.current.contains(e.target)&&_e.current&&!_e.current.contains(e.target)&&Y(!1)};return(X||$)&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[X,$]),(0,i.useEffect)(()=>{if(o)return Ue(),()=>{Te.current&&(console.log("Component unmounting - aborting search..."),Te.current.abort(),Te.current=null)};t("/hotels")},[]);const ze=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";re(e),ce(t),"success"!==t&&"error"!==t||setTimeout(()=>{re("")},5e3)},Ue=async e=>{const t=e||o;if(!t)return ze("\u26a0\ufe0f Search details missing. Please modify your search.","error"),void ie(!1);Te.current&&Te.current.abort(),Te.current=new AbortController;const n=Te.current.signal;ie(!0),ge(!1),me(0),ve(0),ne([]),be(new Map),Ne(new Set);try{let e="";e=null!==t&&void 0!==t&&t.city?t.city:null!==t&&void 0!==t&&t.state?t.state:null!==t&&void 0!==t&&t.country?t.country:"India",console.log("Searching for location:",e);const a=e=>{n.aborted||(console.log("Progress: Page ".concat(e.pageCount,", Found ").concat(e.totalCount," matching hotels (").concat(e.totalFetched," total fetched). HasMore: ").concat(e.hasMore)),ne(e.allFilteredHotels),me(e.pageCount),ve(e.totalFetched),!Re.current&&e.allFilteredHotels&&e.allFilteredHotels.length>0&&(Re.current=!0,ie(!1)))},s=await yi(e,a,n);if(n.aborted)return console.log("Search was aborted"),void ge(!1);console.log("Search complete! Total hotels:",s.length),ne(s),ie(!1),setTimeout(()=>{ge(!0),console.log("\u2705 Search fully complete - price fetching can now start")},1e3),s.length>0?ze("\u2705 Search complete! Found ".concat(s.length,' hotels for "').concat(e,'"!'),"success"):ze('\u26a0\ufe0f No hotels found for "'.concat(e,'"'),"error")}catch(s){var a;if("AbortError"===s.name||null!==(a=Te.current)&&void 0!==a&&a.signal.aborted)return void console.log("Search aborted by user");console.error("Search error:",s),s.message&&(s.message.includes("400")||s.message.includes("Bad Request"))?(console.error("\u274c 400 Bad Request during search: ".concat(s.message)),ze("\u26a0\ufe0f Unable to fetch hotels. Please try again or check your search criteria.","error")):ze("\u274c Error: ".concat(s.message),"error"),ie(!1),0===ee.length&&ne([])}},He=e=>{const t=e.id||e.hotelId||e.unicaId;return Ae.includes(t)},qe=(()=>{if(!d||!h)return 1;try{const e=new Date(d),t=new Date(h),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})(),We=(()=>{let e=[...ee];if(Q.trim()){const t=Q.toLowerCase().trim();e=e.filter(e=>(e.name||e.hotelName||"").toLowerCase().includes(t))}return je.length>0&&(e=e.filter(e=>{const t=e.rt||e.rating||e.starRating||0,n=Math.floor(t);return je.some(a=>{if("Unrated"===a||"unrated"===a)return 0===t||!e.rt;const s=parseInt(a);return!isNaN(s)&&n===s})})),ke.length>0&&(e=e.filter(e=>{const t=(e.pt||e.propertyType||e.type||"").toString().toLowerCase();return ke.some(e=>{const n=e.toLowerCase();return"Bed & Breakfast"===e?t.includes("bed")&&t.includes("breakfast"):t.includes(n)})})),Ce&&(e=e.filter(()=>Math.random()>.3)),Ee&&(e=e.filter(e=>He(e))),"name"===de?e.sort((e,t)=>{const n=(e.name||e.hotelName||"").toLowerCase(),a=(t.name||t.hotelName||"").toLowerCase();return n.localeCompare(a)}):"rating"===de?e.sort((e,t)=>{const n=e.rt||e.rating||e.starRating||0;return(t.rt||t.rating||t.starRating||0)-n}):"price"===de&&e.sort((e,t)=>{var n,a;const s=e.id||e.hotelId||e.unicaId,i=t.id||t.hotelId||t.unicaId;return((null===(n=xe.get(s))||void 0===n?void 0:n.price)||0)-((null===(a=xe.get(i))||void 0===a?void 0:a.price)||0)}),e})(),Ge=(()=>{const e=[];if(d&&h)try{const t=new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"short",year:"numeric"}),n=new Date(d),a=new Date(h);e.push("".concat(t.format(n)," - ").concat(t.format(a)," (").concat(qe," Night").concat(1!==qe?"s":"",")"))}catch(n){e.push("".concat(d," - ").concat(h))}else d&&e.push("Check-in ".concat(d));const t=[];if(x&&t.push("".concat(x," Room").concat(1!==x?"s":"")),(p||0===p)&&t.push("".concat(p||0," Adult").concat(1!==(p||0)?"s":"")),f&&t.push("".concat(f," Child").concat(1!==f?"ren":"")),t.length>0&&e.push(t.join(" \u2022 ")),j&&e.push("Nationality: ".concat((e=>{const t=Si.find(t=>t.code===e);return t?t.label:e||"India"})(j))),Array.isArray(je)&&je.length>0){const t=Array.from(new Set(je)).map(e=>{if("Unrated"===e||"unrated"===e)return"Unrated";const t=parseInt(e,10);return Number.isNaN(t)?e:"".concat(t,"\u2605")});e.push("Rating: ".concat(t.join(", ")))}return e.join(" | ")})();(0,i.useEffect)(()=>{Fe.current=xe},[xe]),(0,i.useEffect)(()=>{Oe.current=ye},[ye]),(0,i.useEffect)(()=>{Fe.current=xe,Oe.current=ye},[]);const Ve=e=>{var t;if(e.ad){var n,a,s;const t=[];e.ad.adr&&t.push(String(e.ad.adr)),e.ad.postalCode&&t.push(String(e.ad.postalCode));const i=(null===(n=e.ad.city)||void 0===n?void 0:n.name)||e.ad.ctn;i&&t.push(String(i)),null!==(a=e.ad.state)&&void 0!==a&&a.name&&t.push(String(e.ad.state.name));const l=(null===(s=e.ad.country)||void 0===s?void 0:s.name)||e.ad.cn;if(l&&t.push(String(l)),t.length>0)return t.join(", ")}if(null!==(t=e.address)&&void 0!==t&&t.adr){var i,l,r;const t=[];t.push(String(e.address.adr)),e.address.postalCode&&t.push(String(e.address.postalCode));const n=(null===(i=e.address.city)||void 0===i?void 0:i.name)||e.address.city||e.city;var o,c;if(n&&t.push(String(n)),null!==(l=e.address.state)&&void 0!==l&&l.name||e.address.state)t.push(String((null===(o=e.address.state)||void 0===o?void 0:o.name)||e.address.state));if(null!==(r=e.address.country)&&void 0!==r&&r.name||e.address.country)t.push(String((null===(c=e.address.country)||void 0===c?void 0:c.name)||e.address.country));if(t.length>0)return t.join(", ")}if("string"===typeof e.address&&e.address.trim())return e.address.trim();if(e.address&&"object"===typeof e.address){var d,u,h;const t=[];e.address.street?t.push(e.address.street):e.address.line1?t.push(e.address.line1):e.address.area&&t.push(e.address.area);const n=(null===(d=e.address.city)||void 0===d?void 0:d.name)||e.address.city||e.city||"";var m,p;if(n&&t.push(n),e.address.postalCode&&t.push(e.address.postalCode),null!==(u=e.address.state)&&void 0!==u&&u.name||e.address.state)t.push(String((null===(m=e.address.state)||void 0===m?void 0:m.name)||e.address.state));if(null!==(h=e.address.country)&&void 0!==h&&h.name||e.address.country)t.push(String((null===(p=e.address.country)||void 0===p?void 0:p.name)||e.address.country));if(t.length>0)return t.join(", ")}const v=[];return e.city&&v.push(e.city),e.state&&v.push(e.state),e.postalCode&&v.push(e.postalCode),e.country&&v.push(e.country),v.length>0?v.join(", "):"Address not available"},Ke=e=>{var t,n;const a=(null===(t=e.hrar)||void 0===t||null===(n=t.response)||void 0===n?void 0:n.response)||e.reviews||{},s=a.score||e.userRating||0;let i="Excellent";return s>=90?i="Excellent":s>=80?i="Very Good":s>=70?i="Good":s>=60?i="Fair":s>0&&(i="Poor"),{score:s,reviewCount:a.reviews_count||e.reviewCount||0,description:i}},$e=(0,i.useMemo)(()=>(()=>{const e={};return["Hotel","Apartment","Resort","Bed & Breakfast","Aparthotel"].forEach(t=>{e[t]=0,ee.forEach(n=>{const a=(n.pt||n.propertyType||n.type||"").toString(),s=t.toLowerCase(),i=a.toLowerCase();"Bed & Breakfast"===t?i.includes("bed")&&i.includes("breakfast")&&e[t]++:i.includes(s)&&e[t]++})}),e})(),[ee]),Ye=e=>{const t=e.id||e.hotelId||e.unicaId;t&&De(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t])},Xe=()=>ee.filter(e=>{const t=e.id||e.hotelId||e.unicaId;return Ae.includes(t)}),Je=e=>{e.preventDefault(),e.stopPropagation(),J(!1),Y(e=>!e)},Qe=e=>{e.preventDefault(),e.stopPropagation(),Y(!1),J(e=>!e)},Ze=(e,t,n,a)=>{a.preventDefault(),a.stopPropagation(),O(a=>a.map((a,s)=>{if(s!==e)return a;const i={adults:a.adults||1,children:a.children||0,childAges:Array.isArray(a.childAges)?[...a.childAges]:[]};if("adults"===t)i.adults=Math.max(1,Math.min(9,n));else if("children"===t){const e=Math.max(0,Math.min(6,n));if(i.children=e,i.childAges.length>e)i.childAges=i.childAges.slice(0,e);else if(i.childAges.length<e){const t=e-i.childAges.length;i.childAges=[...i.childAges,...Array(t).fill(5)]}}return i}))};return(0,_t.jsx)("div",{className:"hotel-results-page",children:(0,_t.jsxs)("div",{className:"results-main-container",children:[(0,_t.jsxs)("div",{className:"filters-sidebar",children:[(0,_t.jsxs)("div",{className:"search-hotel-input",children:[(0,_t.jsx)(Rt,{className:"search-icon"}),(0,_t.jsx)("input",{type:"text",placeholder:"Search by Hotel name",value:Q,onChange:e=>Z(e.target.value)})]}),(0,_t.jsxs)("button",{className:"filter-button ".concat(Ee?"active":""),onClick:()=>Pe(!Ee),children:["View My Favourites",(0,_t.jsx)(kt,{className:"filter-icon heart-icon"}),Ae.length>0&&(0,_t.jsxs)("span",{className:"favorite-count",children:["(",Ae.length,")"]})]}),(0,_t.jsxs)("button",{className:"filter-button ".concat(Ce?"active":""),onClick:()=>Ie(!Ce),children:["Free Cancellation Available",(0,_t.jsx)(dt,{className:"filter-icon"})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h3",{className:"filter-title",children:"Star Rating"}),(0,_t.jsx)("div",{className:"checkbox-list",children:[5,4,3,2,1].map(e=>(0,_t.jsxs)("label",{className:"checkbox-item",children:[(0,_t.jsx)("span",{className:"star-rating-filter",children:[...Array(e)].map((t,n)=>(0,_t.jsx)(Ft,{style:{color:je.includes(e.toString())?"#427ad4":"#9ca3af",fontSize:"14px",marginRight:"2px"}},n))}),(0,_t.jsx)("input",{type:"checkbox",checked:je.includes(e.toString()),onChange:t=>{t.target.checked?we([...je,e.toString()]):we(je.filter(t=>t!==e.toString()))}})]},e))})]}),(0,_t.jsxs)("div",{className:"filter-section",children:[(0,_t.jsx)("h3",{className:"filter-title",children:"Property Type"}),(0,_t.jsx)("div",{className:"checkbox-list",children:["Hotel","Apartment","Resort","Bed & Breakfast","Aparthotel"].map(e=>{const t=$e[e]||0;return(0,_t.jsxs)("label",{className:"checkbox-item",children:[(0,_t.jsxs)("span",{children:[e," (",t,")"]}),(0,_t.jsx)("input",{type:"checkbox",checked:ke.includes(e),onChange:t=>{t.target.checked?Se([...ke,e]):Se(ke.filter(t=>t!==e))}})]},e)})})]})]}),(0,_t.jsxs)("div",{className:"main-content-area",children:[(0,_t.jsxs)("div",{className:"results-header-content",children:[(0,_t.jsxs)("div",{className:"results-header-left",children:[(0,_t.jsxs)("h2",{className:"results-found-text",children:["Found ",We.length," hotels for ",(()=>{if(!o)return"BENGALURU";const e=[];return o.city&&e.push(o.city.toUpperCase()),o.state&&e.push(o.state),o.country&&e.push(o.country),e.join(", ")||"BENGALURU"})()]}),Ge&&(0,_t.jsx)("div",{className:"results-search-summary",children:Ge})]}),(0,_t.jsxs)("button",{type:"button",className:"btn-modify-search ".concat(C?"active":""),onClick:()=>{C?(I(!1),Y(!1),J(!1),K(""),D(Ci(o)),P(d||""),R(h||""),O(Ii(y,x||1,p||1,f||0)),q(Ai(j||"IN")),G([])):I(!0)},children:[(0,_t.jsx)("span",{children:"Modify Search"}),(0,_t.jsx)(mt,{className:"modify-search-chevron ".concat(C?"open":"")})]})]}),C&&(0,_t.jsx)("div",{className:"modify-search-container",children:(0,_t.jsxs)("form",{className:"hotel-search-form modify-search-form",onSubmit:e=>{e.preventDefault(),K("");const n=A.trim();if(!n)return void K("Please enter a city, state, country, or hotel name.");if(!E)return void K("Please select a check-in date.");if(!T)return void K("Please select a check-out date.");const a=new Date(E),s=new Date(T),i=new Date;if(i.setHours(0,0,0,0),a.setHours(0,0,0,0),s.setHours(0,0,0,0),s<=a)return void K("Check-out date must be after check-in date.");if(a<i)return void K("Check-in date cannot be in the past.");const l=F.map(e=>({adults:Math.max(1,e.adults||1),children:Math.max(0,e.children||0),childAges:Array.isArray(e.childAges)?e.childAges.slice(0,Math.max(0,e.children||0)):[]})),r=l.length,o=l.reduce((e,t)=>e+t.adults,0),d=l.reduce((e,t)=>e+t.children,0),h=(e=>{const t=(e||"").trim();if(!t)return{};const n=t.toLowerCase();if(ki.some(e=>n.includes(e)))return{hotelName:t};const a=t.split(",").map(e=>e.trim()).filter(Boolean),s={};return a.length>=1&&(s.city=a[0]),a.length>=2&&(s.state=a[1]),a.length>=3&&(s.country=a[2]),1===a.length&&(s.city=a[0]),s})(n),p=(H||"IN India").split(" ")[0],f=W.length>0?[...W]:[];Re.current=!1,c(h),u(E),m(T),v(o),g(d),b(r),N(l),w(p),S(f);t("/hotel-results",{replace:!0,state:{searchParams:h,checkin:E,checkout:T,adults:o,children:d,rooms:r,roomConfigs:l,nationality:p,rating:f}}),I(!1),Y(!1),J(!1),ze("\ud83d\udd04 Updating search...","info"),Ue(h)},children:[(0,_t.jsxs)("div",{className:"hotel-search-form-row hotel-search-first-row",children:[(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-city-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"SEARCH BY CITY"}),(0,_t.jsxs)("div",{className:"hotel-search-input-container",children:[(0,_t.jsx)(tt,{className:"hotel-search-location-icon"}),(0,_t.jsx)("input",{type:"text",className:"hotel-search-form-input hotel-search-with-icon",placeholder:"Enter city, state, country, or hotel name (e.g., Mumbai, Taj Hotel, Mumbai Maharashtra India)",value:A,onChange:e=>{D(e.target.value),V&&e.target.value.trim()&&K("")}})]}),V&&(0,_t.jsxs)("div",{className:"hotel-search-error-message",children:[V.includes("Please enter")?(0,_t.jsx)(ti,{size:16,style:{marginRight:"6px"}}):(0,_t.jsx)(ni,{size:16,style:{marginRight:"6px"}}),(0,_t.jsx)("span",{children:V})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-date-range-field",children:[(0,_t.jsxs)("label",{className:"hotel-search-field-label",children:["CHECK IN & CHECK OUT ",(0,_t.jsx)("span",{className:"hotel-search-required-asterisk",children:"*"})]}),(0,_t.jsx)("div",{className:"hotel-search-input-container",children:(0,_t.jsx)(ri,{checkin:E,checkout:T,onCheckinChange:e=>{P(e),V&&e&&K("")},onCheckoutChange:e=>{R(e),V&&e&&K("")},minDate:(new Date).toISOString().split("T")[0],className:"hotel-search-date-range-picker"})})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"TOTAL NIGHT(S)"}),(0,_t.jsx)("div",{className:"hotel-search-nights-display",children:(()=>{if(E&&T){const e=new Date(E),t=new Date(T)-e,n=Math.ceil(t/864e5);return n>0?n:0}return 0})()})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-row hotel-search-second-row",children:[(0,_t.jsxs)("div",{className:"hotel-search-more-options-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"MORE OPTIONS"}),(0,_t.jsx)("div",{className:"hotel-search-more-options-container",children:(0,_t.jsxs)("div",{className:"hotel-search-more-options-row",children:[(0,_t.jsx)("div",{className:"hotel-search-form-field hotel-search-small",children:(0,_t.jsxs)("div",{className:"hotel-search-dropdown-container",children:[(0,_t.jsx)(jt,{className:"hotel-search-flag-icon"}),(0,_t.jsx)("select",{className:"hotel-search-dropdown-select",value:H,onChange:e=>q(e.target.value),children:Si.map(e=>(0,_t.jsx)("option",{value:"".concat(e.code," ").concat(e.label),children:e.label},e.code))})]})}),(0,_t.jsx)("div",{className:"hotel-search-form-field hotel-search-small",children:(0,_t.jsxs)("div",{className:"hotel-search-dropdown-container hotel-search-rating-select-wrapper",style:{position:"relative"},children:[(0,_t.jsx)(ai,{className:"hotel-search-rating-icon",size:16}),(0,_t.jsxs)("div",{ref:_e,className:"hotel-search-rating-dropdown-trigger",onClick:Je,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Je(e))},role:"button",tabIndex:0,children:[(0,_t.jsx)("span",{className:"hotel-search-rating-display-text",children:0===W.length?"All Ratings":1===W.length?"".concat(W[0]," Star"):"".concat(W.length," Ratings Selected")}),(0,_t.jsx)(si,{size:16,className:"hotel-search-rating-chevron"})]}),$&&(0,_t.jsx)("div",{className:"hotel-search-rating-dropdown-menu",ref:Be,onClick:e=>e.stopPropagation(),children:["5","4","3","2","1","Unrated"].map(e=>(0,_t.jsxs)("div",{className:"hotel-search-rating-option",onClick:t=>{return n=e,(a=t)&&(a.preventDefault(),a.stopPropagation()),void G(e=>e.includes(n)?e.filter(e=>e!==n):[...e,n]);var n,a},children:[(0,_t.jsx)("span",{className:"hotel-search-rating-option-text",children:"Unrated"===e?"Unrated":"".concat(e," Star")}),(0,_t.jsx)("div",{className:"hotel-search-rating-checkbox ".concat(W.includes(e)?"hotel-search-checked":""),children:W.includes(e)&&(0,_t.jsx)(ii,{size:14,className:"hotel-search-rating-check-icon"})})]},e))})]})})]})})]}),(0,_t.jsxs)("div",{className:"hotel-search-form-field hotel-search-persons-field",children:[(0,_t.jsx)("label",{className:"hotel-search-field-label",children:"PERSONS & ROOMS"}),(0,_t.jsxs)("div",{ref:Me,className:"hotel-search-dropdown-container",onClick:Qe,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),Qe(e))},role:"button",tabIndex:0,children:[(0,_t.jsx)(Lt,{className:"hotel-search-persons-icon"}),(0,_t.jsxs)("span",{className:"hotel-search-dropdown-text",children:[L," Room",L>1?"s":""," \u2022 ",B," Adult",1!==B?"s":""," \u2022 ",z," Children"]}),(0,_t.jsx)("span",{className:"hotel-search-dropdown-arrow",children:"\u25bc"})]}),X&&(0,_t.jsx)("div",{className:"hotel-search-persons-popup",ref:Le,onClick:e=>e.stopPropagation(),children:(0,_t.jsxs)("div",{className:"hotel-search-popup-content",children:[(0,_t.jsx)("div",{className:"hotel-search-popup-header",children:(0,_t.jsxs)("span",{className:"hotel-search-room-count",children:["Rooms ",L]})}),(0,_t.jsx)("div",{className:"hotel-search-rooms-config",children:F.map((e,t)=>(0,_t.jsxs)("div",{className:"hotel-search-room-config",children:[F.length>1&&(0,_t.jsxs)("div",{className:"hotel-search-room-header",children:[(0,_t.jsxs)("span",{className:"hotel-search-room-title",children:["Room ",t+1]}),(0,_t.jsx)("button",{className:"hotel-search-remove-room-btn",onClick:e=>((e,t)=>{t.preventDefault(),t.stopPropagation(),F.length<=1||O(t=>t.filter((t,n)=>n!==e))})(t,e),children:(0,_t.jsx)(li,{size:16})})]}),(0,_t.jsxs)("div",{className:"hotel-search-room-controls",children:[(0,_t.jsxs)("div",{className:"hotel-search-control-group",children:[(0,_t.jsxs)("span",{className:"hotel-search-control-label",children:[e.adults," Adult",e.adults>1?"s":""]}),(0,_t.jsxs)("div",{className:"hotel-search-counter-buttons",children:[(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>Ze(t,"adults",Math.max(1,(e.adults||1)-1),n),disabled:(e.adults||1)<=1,children:"-"}),(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>Ze(t,"adults",Math.min(9,(e.adults||1)+1),n),disabled:(e.adults||1)>=9,children:"+"})]})]}),(0,_t.jsxs)("div",{className:"hotel-search-control-group",children:[(0,_t.jsxs)("span",{className:"hotel-search-control-label",children:[e.children," Children 0 - 17 Years Old"]}),(0,_t.jsxs)("div",{className:"hotel-search-counter-buttons",children:[(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>Ze(t,"children",Math.max(0,(e.children||0)-1),n),disabled:(e.children||0)<=0,children:"-"}),(0,_t.jsx)("button",{className:"hotel-search-counter-btn",onClick:n=>Ze(t,"children",Math.min(6,(e.children||0)+1),n),disabled:(e.children||0)>=6,children:"+"})]})]}),e.children>0&&(0,_t.jsxs)("div",{className:"hotel-search-child-ages",children:[(0,_t.jsx)("span",{className:"hotel-search-age-label",children:"Age of Child"}),(0,_t.jsx)("div",{className:"hotel-search-age-inputs",children:Array.from({length:e.children},(n,a)=>(0,_t.jsx)("select",{className:"hotel-search-age-select",value:e.childAges&&e.childAges[a]||0,onChange:e=>((e,t,n,a)=>{a.preventDefault(),a.stopPropagation(),O(a=>a.map((a,s)=>{if(s!==e)return a;const i=Array.isArray(a.childAges)?[...a.childAges]:[];return i[t]=n,{adults:a.adults||1,children:a.children||0,childAges:i}}))})(t,a,parseInt(e.target.value,10),e),children:Array.from({length:18},(e,t)=>(0,_t.jsxs)("option",{value:t,children:[t," years"]},t))},a))})]})]})]},t))}),(0,_t.jsxs)("div",{className:"hotel-search-popup-actions",children:[(0,_t.jsx)("button",{className:"hotel-search-add-room-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),F.length>=9||O(e=>[...e,{adults:2,children:0,childAges:[]}])},disabled:F.length>=9,children:"+ ADD ROOM"}),(0,_t.jsx)("button",{className:"hotel-search-done-btn",onClick:e=>{e.preventDefault(),e.stopPropagation(),J(!1)},children:"DONE"})]})]})})]})]}),(0,_t.jsx)("div",{className:"modify-search-actions-row",children:(0,_t.jsx)("button",{type:"submit",className:"hotel-search-button",children:"UPDATE"})})]})}),(0,_t.jsx)("div",{className:"hotels-list",children:Ee?(0,_t.jsx)(_t.Fragment,{children:0===Xe().length?(0,_t.jsxs)("div",{className:"no-results",children:[(0,_t.jsx)("div",{className:"no-results-icon",children:(0,_t.jsx)(kt,{style:{fontSize:"64px",color:"#ef4444"}})}),(0,_t.jsx)("h3",{children:"No favorites yet"}),(0,_t.jsx)("p",{children:"Click the heart icon on any hotel to add it to your favorites"}),(0,_t.jsx)("button",{onClick:()=>Pe(!1),className:"btn-new-search",children:"View All Hotels"})]}):Xe().map((e,n)=>{var a,s,i,l,r;const c=e.name||e.hotelName||"Unknown Hotel",u=e.id||e.hotelId||e.unicaId||"N/A",m=e.rt||e.rating||e.starRating||0,v=Ve(e),g=Ke(e);let b=null;e.img&&Array.isArray(e.img)&&e.img.length>0?b=(null===(a=e.img[0])||void 0===a?void 0:a.url)||e.img[0]:null!==(s=e.heroImage)&&void 0!==s&&s.url?b=e.heroImage.url:null!==(i=e.image)&&void 0!==i&&i.url?b=e.image.url:e.images&&e.images.length>0&&(b=e.images[0].url||e.images[0]);const N=u,w=e.id||e.hotelId||e.unicaId;let k=xe.get(N);!k&&w&&w!==N&&(k=xe.get(w));const S=ye.has(N)||w&&ye.has(w),C=(null===(l=k)||void 0===l?void 0:l.totalPrice)||(null!==(r=k)&&void 0!==r&&r.price?k.price*qe:null);return(0,_t.jsxs)("div",{className:"hotel-card",children:[(0,_t.jsxs)("div",{className:"hotel-image-wrapper",children:[b?(0,_t.jsx)("img",{src:b,alt:c,className:"hotel-image",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,_t.jsx)("div",{className:"hotel-image-placeholder",style:{display:b?"none":"flex"},children:(0,_t.jsx)(ot,{style:{fontSize:"64px",color:"#9ca3af"}})}),(0,_t.jsx)("button",{className:"favorite-btn ".concat(He(e)?"favorited":""),onClick:t=>{t.stopPropagation(),Ye(e)},children:He(e)?(0,_t.jsx)(kt,{}):(0,_t.jsx)(Bt,{})})]}),(0,_t.jsxs)("div",{className:"hotel-info",children:[(0,_t.jsx)("h3",{className:"hotel-name",children:c}),(0,_t.jsx)("div",{className:"hotel-address-line",children:v}),m>0&&(0,_t.jsx)("div",{className:"star-rating",children:[...Array(5)].map((e,t)=>(0,_t.jsx)(Ft,{className:"star ".concat(t<Math.floor(m)?"filled":"empty"),style:{color:t<Math.floor(m)?"#427ad4":"#ddd"}},t))}),g.score>0&&(0,_t.jsxs)("div",{className:"user-rating",children:[(0,_t.jsx)("span",{className:"rating-description",children:g.description}),(0,_t.jsx)("div",{className:"rating-score-circle",children:g.score}),(0,_t.jsxs)("span",{className:"review-count",children:["(",g.reviewCount," Reviews)"]})]})]}),(0,_t.jsxs)("div",{className:"hotel-price-action",children:[(0,_t.jsxs)("div",{className:"price-section",children:[(0,_t.jsx)("div",{className:"price-label",children:"Starts From"}),S?(0,_t.jsx)("div",{className:"price-loading",children:"Loading..."}):C?(0,_t.jsxs)("div",{className:"price-amount",children:["\u20b9 ",C.toLocaleString("en-IN")]}):(0,_t.jsx)("div",{className:"price-amount",children:"Contact for Price"}),(0,_t.jsx)("div",{className:"price-details",children:"ROOM ONLY"}),(0,_t.jsxs)("div",{className:"price-details",children:[qe," Night(s)"]})]}),(0,_t.jsx)("button",{className:"btn-select-room",onClick:()=>{var n,a;const s=u,i=e.id||e.hotelId||e.unicaId;let l=xe.get(s);!l&&i&&i!==s&&(l=xe.get(i));const r=(null===(n=l)||void 0===n?void 0:n.totalPrice)||(null!==(a=l)&&void 0!==a&&a.price?l.price*qe:null);t("/hotels/detail/".concat(u),{state:{hotelId:u,hotelData:e,priceData:l,totalPrice:r,nightsCount:qe,searchParams:o,checkin:d,checkout:h,adults:p,children:f,rooms:x,roomConfigs:y,nationality:j,rating:m}})},children:"SELECT ROOM"})]})]},"".concat(u,"-").concat(n))})}):(0,_t.jsxs)(_t.Fragment,{children:[0===We.length&&!se&&(0,_t.jsxs)("div",{className:"no-results",children:[(0,_t.jsx)("div",{className:"no-results-icon",children:(0,_t.jsx)(ot,{style:{fontSize:"64px",color:"#9ca3af"}})}),(0,_t.jsx)("h3",{children:"No hotels found"}),(0,_t.jsx)("p",{children:"Try adjusting your filters or search criteria"}),(0,_t.jsx)("button",{onClick:()=>t("/hotels"),className:"btn-new-search",children:"New Search"})]}),We.map((e,n)=>{var a,s,i,l,r;const c=e.name||e.hotelName||"Unknown Hotel",u=e.id||e.hotelId||e.unicaId||"N/A",m=e.rt||e.rating||e.starRating||0,v=Ve(e),g=Ke(e);let b=null;e.img&&Array.isArray(e.img)&&e.img.length>0?b=(null===(a=e.img[0])||void 0===a?void 0:a.url)||e.img[0]:null!==(s=e.heroImage)&&void 0!==s&&s.url?b=e.heroImage.url:null!==(i=e.image)&&void 0!==i&&i.url?b=e.image.url:e.images&&e.images.length>0&&(b=e.images[0].url||e.images[0]);const N=u,w=e.id||e.hotelId||e.unicaId;let k=xe.get(N);!k&&w&&w!==N&&(k=xe.get(w));const S=ye.has(N)||w&&ye.has(w),C=(null===(l=k)||void 0===l?void 0:l.totalPrice)||(null!==(r=k)&&void 0!==r&&r.price?k.price*qe:null);return(0,_t.jsxs)("div",{className:"hotel-card",children:[(0,_t.jsxs)("div",{className:"hotel-image-wrapper",children:[b?(0,_t.jsx)("img",{src:b,alt:c,className:"hotel-image",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.display="flex"}}):null,(0,_t.jsx)("div",{className:"hotel-image-placeholder",style:{display:b?"none":"flex"},children:(0,_t.jsx)(ot,{style:{fontSize:"64px",color:"#9ca3af"}})}),(0,_t.jsx)("button",{className:"favorite-btn ".concat(He(e)?"favorited":""),onClick:t=>{t.stopPropagation(),Ye(e)},children:He(e)?(0,_t.jsx)(kt,{}):(0,_t.jsx)(Bt,{})})]}),(0,_t.jsxs)("div",{className:"hotel-info",children:[(0,_t.jsx)("h3",{className:"hotel-name",children:c}),(0,_t.jsx)("div",{className:"hotel-address-line",children:v}),m>0&&(0,_t.jsxs)("div",{className:"star-rating",children:[[...Array(5)].map((e,t)=>(0,_t.jsx)(Ft,{className:"star ".concat(t<Math.floor(m)?"filled":"empty"),style:{color:t<Math.floor(m)?"#427ad4":"#ddd"}},t)),m%1!==0&&(0,_t.jsx)(Ft,{className:"star half-filled",style:{color:"#427ad4",clipPath:"inset(0 50% 0 0)"}})]}),g.score>0&&(0,_t.jsxs)("div",{className:"user-rating",children:[(0,_t.jsx)("span",{className:"rating-description",children:g.description}),(0,_t.jsx)("div",{className:"rating-score-circle",children:g.score}),(0,_t.jsxs)("span",{className:"review-count",children:["(",g.reviewCount," Reviews)"]})]})]}),(0,_t.jsxs)("div",{className:"hotel-price-action",children:[(0,_t.jsxs)("div",{className:"price-section",children:[(0,_t.jsx)("div",{className:"price-label",children:"Starts From"}),S?(0,_t.jsx)("div",{className:"price-loading",children:"Loading..."}):C?(0,_t.jsxs)("div",{className:"price-amount",children:["\u20b9 ",C.toLocaleString("en-IN")]}):(0,_t.jsx)("div",{className:"price-amount",children:"Contact for Price"}),(0,_t.jsx)("div",{className:"price-details",children:"ROOM ONLY"}),(0,_t.jsxs)("div",{className:"price-details",children:[qe," Night(s)"]})]}),(0,_t.jsx)("button",{className:"btn-select-room",onClick:()=>{var n,a;const s=u,i=e.id||e.hotelId||e.unicaId;let l=xe.get(s);!l&&i&&i!==s&&(l=xe.get(i));const r=(null===(n=l)||void 0===n?void 0:n.totalPrice)||(null!==(a=l)&&void 0!==a&&a.price?l.price*qe:null);t("/hotels/detail/".concat(u),{state:{hotelId:u,hotelData:e,priceData:l,totalPrice:r,nightsCount:qe,searchParams:o,checkin:d,checkout:h,adults:p,children:f,rooms:x,roomConfigs:y,nationality:j,rating:m}})},children:"SELECT ROOM"})]})]},"".concat(u,"-").concat(n))})]})})]})]})})}const Ei=ei("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Pi=ei("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Ti=ei("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ri=ei("bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]),Fi=ei("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Oi=ei("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]),Li=(new Map,new Map,e=>{if(!e||!Array.isArray(e))return[];const t=e.filter(e=>{if(!e)return!1;const t=e.url||e.imageUrl||e.src||e.link||e.path;return!(!t||"string"!==typeof t)&&!!(t.startsWith("http")||t.startsWith("data:")||t.startsWith("/"))}).map(e=>He({url:e.url||e.imageUrl||e.src||e.link||e.path,sz:e.sz||e.size||e.dimension||"L"},e)),n={XL:4,L:3,M:2,S:1,XS:0};return t.sort((e,t)=>{const a=n[e.sz]||0;return(n[t.sz]||0)-a})});function Mi(){var e,t,n,a,s,l;const r=te(),o=ae(),{hotelId:c}=function(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}(),[d,u]=(0,i.useState)(null),[h,m]=(0,i.useState)(null),[p,v]=(0,i.useState)(!0),[f,g]=(0,i.useState)("Initializing..."),[x,b]=(0,i.useState)(null),[y,N]=(0,i.useState)(""),[j,w]=(0,i.useState)(0),[k,S]=(0,i.useState)(!1),[C,I]=(0,i.useState)(null),[A,D]=(0,i.useState)("rooms"),[E,P]=(0,i.useState)(!1),[T,R]=(0,i.useState)(0),[F,O]=(0,i.useState)(null),[L,M]=(0,i.useState)("INR"),[B,_]=(0,i.useState)(null),[z,U]=(0,i.useState)([]),[H,q]=(0,i.useState)(!1),[W,G]=(0,i.useState)(!1),[V,K]=(0,i.useState)(!1),$=(0,i.useRef)(null),[Y,X]=(0,i.useState)({open:!1,index:-1,tab:"tabular"}),[J,Z]=(0,i.useState)(!1),[ee,ne]=(0,i.useState)(""),[se,ie]=(0,i.useState)(null),[le,re]=(0,i.useState)(!1),[oe,ce]=(0,i.useState)(null),[de,ue]=(0,i.useState)(new Set),[he,me]=(0,i.useState)(!1),pe=e=>{if(!e)return 0;if(null!==e&&void 0!==e&&e.ris&&Array.isArray(e.ris)&&e.ris.length>0)for(const h of e.ris){var t,n;if(null!==(null===h||void 0===h||null===(t=h.tfcs)||void 0===t?void 0:t.TF)&&void 0!==(null===h||void 0===h||null===(n=h.tfcs)||void 0===n?void 0:n.TF)){const e=Number(h.tfcs.TF);if(Number.isFinite(e)&&e>0)return e}if(null!==(null===h||void 0===h?void 0:h.tp)&&void 0!==(null===h||void 0===h?void 0:h.tp)){const e=Number(h.tp);if(Number.isFinite(e)&&e>0)return e}const e=[null===h||void 0===h?void 0:h.fp,null===h||void 0===h?void 0:h.pp,null===h||void 0===h?void 0:h.ap,null===h||void 0===h?void 0:h.price,null===h||void 0===h?void 0:h.totalPrice,null===h||void 0===h?void 0:h.amount];for(let t of e){if(null===t||void 0===t)continue;const e=Number(t);if(Number.isFinite(e)&&e>0)return e}}if(null!==(null===e||void 0===e?void 0:e.tp)&&void 0!==(null===e||void 0===e?void 0:e.tp)){const t=Number(e.tp);if(Number.isFinite(t)&&t>0)return t}const a=[null===e||void 0===e?void 0:e.fp,null===e||void 0===e?void 0:e.pp,null===e||void 0===e?void 0:e.ap,null===e||void 0===e?void 0:e.price,null===e||void 0===e?void 0:e.totalPrice,null===e||void 0===e?void 0:e.amount,null===e||void 0===e?void 0:e.finalAmount,null===e||void 0===e?void 0:e.total,null===e||void 0===e?void 0:e.finalPrice,null===e||void 0===e?void 0:e.netAmount,null===e||void 0===e?void 0:e.grossAmount];var s,i,l,r,o,c,d,u;null!==e&&void 0!==e&&e.pricing&&a.push(null===(s=e.pricing)||void 0===s?void 0:s.total,null===(i=e.pricing)||void 0===i?void 0:i.final,null===(l=e.pricing)||void 0===l?void 0:l.amount,null===(r=e.pricing)||void 0===r?void 0:r.price);null!==e&&void 0!==e&&e.priceInfo&&a.push(null===(o=e.priceInfo)||void 0===o?void 0:o.total,null===(c=e.priceInfo)||void 0===c?void 0:c.final,null===(d=e.priceInfo)||void 0===d?void 0:d.amount,null===(u=e.priceInfo)||void 0===u?void 0:u.price);for(let h of a){if(null===h||void 0===h)continue;const e=Number(h);if(Number.isFinite(e)&&e>0)return e}return 0},ve=(()=>{try{const e=new Date(null===C||void 0===C?void 0:C.checkin),t=new Date(null===C||void 0===C?void 0:C.checkout),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})(),fe=(e,t)=>{if(!t)return 0;const n=pe(t);if(!e||n<=0)return 0;if(!0===e.inra)return n;const a=new Date,s=Array.isArray(e.pd)?e.pd.slice():[];if(0===s.length)return 0;const i=e=>{if(!e)return null;const t=new Date(e);if(!isNaN(t))return t;const n=String(e).replace(" ","T"),a=new Date(n);return isNaN(a)?null:a};s.sort((e,t)=>{var n,a;return((null===(n=i(e.fdt))||void 0===n?void 0:n.getTime())||0)-((null===(a=i(t.fdt))||void 0===a?void 0:a.getTime())||0)});let l=null;for(const p of s){const e=i(p.fdt),t=i(p.tdt);if(e&&t&&a>=e&&a<t){l=p;break}}if(!l){const e=i(s[0].fdt);if(e&&a<e)return 0;l=s[s.length-1]}const r=ve>0?n/ve:n,o=[],c=Number(l.am),d=Number(l.pp),u=Number(l.rn);Number.isFinite(c)&&c>0&&o.push(c),Number.isFinite(d)&&d>0&&o.push(d/100*n),Number.isFinite(u)&&u>0&&o.push(u*r);const h=o.length?Math.max(...o):0,m=Math.round(100*(h+Number.EPSILON))/100;return Math.min(Math.max(0,m),n)},ge=(e,t)=>{if(!e||!t)return 0;const n=pe(e);if(!(n>0))return 0;const a=ve>0?n/ve:n,s=Number(t.am),i=Number(t.pp),l=Number(t.rn),r=[];Number.isFinite(s)&&s>0&&r.push(s),Number.isFinite(i)&&i>0&&r.push(i/100*n),Number.isFinite(l)&&l>0&&r.push(l*a);const o=r.length?Math.max(...r):0,c=Math.round(100*(o+Number.EPSILON))/100;return Math.min(Math.max(0,c),n)},xe=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{var a,s,i,l,u,h,m,p,v,f,g;re(!0),null!==n&&ce(n);const x=(null===d||void 0===d?void 0:d.hotel)||d||{},b=B||x.id||x.hotelId||c||(null===(a=r.state)||void 0===a?void 0:a.hotelId)||(null===(s=r.state)||void 0===s||null===(i=s.hotel)||void 0===i?void 0:i.hotelId)||(null===(l=r.state)||void 0===l||null===(u=l.hotel)||void 0===u?void 0:u.id)||null,N=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.optionId)||(null===e||void 0===e?void 0:e.opId)||(null===e||void 0===e?void 0:e.oid)||(null===(h=r.state)||void 0===h?void 0:h.optionId)||(null===(m=r.state)||void 0===m||null===(p=m.room)||void 0===p?void 0:p.optionId)||null;if(!b)throw console.error("\u274c Missing hotelId for review:",{searchResultId:B,hotelId:x.id,hotelData:d}),new Error("Hotel ID is required to proceed with booking. Please try again.");if(!N)throw console.error("\u274c Missing optionId for review:",{selectedRoom:e,roomId:null===e||void 0===e?void 0:e.id,optionId:null===e||void 0===e?void 0:e.optionId}),new Error("Room option ID is required to proceed with booking. Please select a room.");const j=await wi(b,N),w=null===j||void 0===j?void 0:j.bookingId;if(!w)throw console.error("\u274c CRITICAL ERROR: bookingId is missing from hotel review response!"),new Error("Booking ID is required to proceed with booking. Please try again.");console.log("\u2705 Hotel review successful!"),console.log("\u2705 BookingId generated:",w),console.log("\u2705 This bookingId is unique for hotelId:",b,"and optionId:",N),console.log("=== NAVIGATING TO BOOKING PAGE ==="),o("/hotels/booking",{state:{hotel:{id:x.id,name:x.name,image:x.img&&(null===(v=x.img[0])||void 0===v?void 0:v.url)||y,hotelId:b},room:{name:(null===e||void 0===e||null===(f=e.ris)||void 0===f||null===(g=f[0])||void 0===g?void 0:g.rc)||"Room",optionId:N,roomData:e},search:{checkin:null===C||void 0===C?void 0:C.checkin,checkout:null===C||void 0===C?void 0:C.checkout,adults:null===C||void 0===C?void 0:C.adults,children:null===C||void 0===C?void 0:C.children,rooms:null===C||void 0===C?void 0:C.rooms},price:t,reviewData:j,bookingId:w,hotelId:b,optionId:N}})}catch(x){var b,N,j,w,k,S,I,A,D,E,P;console.error("\u274c Error reviewing hotel booking:",x),console.error("Error details:",{message:x.message,stack:x.stack,name:x.name});const a=(null===d||void 0===d?void 0:d.hotel)||d||{},s=B||a.id||a.hotelId||c||(null===(b=r.state)||void 0===b?void 0:b.hotelId)||(null===(N=r.state)||void 0===N||null===(j=N.hotel)||void 0===j?void 0:j.hotelId)||(null===(w=r.state)||void 0===w||null===(k=w.hotel)||void 0===k?void 0:k.id)||null,i=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.optionId)||(null===e||void 0===e?void 0:e.opId)||(null===e||void 0===e?void 0:e.oid)||(null===(S=r.state)||void 0===S?void 0:S.optionId)||(null===(I=r.state)||void 0===I||null===(A=I.room)||void 0===A?void 0:A.optionId)||null;o("/hotels/booking",{state:{hotel:{id:a.id,name:a.name,image:a.img&&(null===(D=a.img[0])||void 0===D?void 0:D.url)||y,hotelId:s},room:{name:(null===e||void 0===e||null===(E=e.ris)||void 0===E||null===(P=E[0])||void 0===P?void 0:P.rc)||"Room",optionId:i,roomData:e},search:{checkin:null===C||void 0===C?void 0:C.checkin,checkout:null===C||void 0===C?void 0:C.checkout,adults:null===C||void 0===C?void 0:C.adults,children:null===C||void 0===C?void 0:C.children,rooms:null===C||void 0===C?void 0:C.rooms},price:t,error:x.message,hotelId:s,optionId:i,hotelData:d}})}finally{re(!1),null!==n&&ce(null)}};(0,i.useEffect)(()=>{(async()=>{try{var e,t,n,a,s,i,l;let A=c||(null===(e=r.state)||void 0===e?void 0:e.hotelId);if(!A&&null!==(t=r.state)&&void 0!==t&&t.hotelData&&(A=r.state.hotelData.id||r.state.hotelData.hotelId||r.state.hotelData.unicaId),!A)throw new Error("Hotel ID is required");if(A=String(A).trim(),!A)throw new Error("Invalid hotel ID: empty or whitespace only");console.log("Starting hotel booking flow for hotel ID:",A);const{checkin:D,checkout:E,roomConfigs:P,nationality:T,rating:R,adults:F,children:O,rooms:L,hotelData:B,priceData:z,totalPrice:H,nightsCount:q}=r.state||{};if(B){console.log("\u2705 Using passed hotel data for instant display");const e={hotel:{id:B.id||B.hotelId||B.unicaId,name:B.name||B.hotelName,rt:B.rt||B.rating||B.starRating,img:B.img||B.images||B.photos||[],ad:B.address||B.ad||{},fl:B.facilities||B.fl||[],des:B.description||B.des||"",cnt:B.contact||B.cnt||{},gl:B.location||B.gl||{},hrar:B.hrar||B.reviews||null},hrar:B.hrar||B.reviews||null};u(e);const t=Li(e.hotel.img||[]);var o;if(t.length>0)N((null===(o=t[0])||void 0===o?void 0:o.url)||"");v(!1);const n=e=>{if(!e)return null;const t=new Date(e),n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)},a=e=>{if(!e)return null;if(e instanceof Date)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t;const n=String(e).match(/^(\d{2})[-\/](\d{2})[-\/](\d{4})$/);return n?new Date(parseInt(n[3],10),parseInt(n[2],10)-1,parseInt(n[1],10)):null},s=new Date,i=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1),l=new Date(s.getFullYear(),s.getMonth(),s.getDate()+2);let r=a(D)||i,c=a(E)||l;c<=r&&(c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1)),I({checkin:n(r),checkout:n(c),roomConfigs:P,nationality:T,rating:R,adults:F,children:O,rooms:L})}else try{const e="quickHotel:".concat(A),t=sessionStorage.getItem(e);if(t){var h;const e=JSON.parse(t),n={hotel:{id:e.id,name:e.name,rt:e.rating,img:(e.images||[]).map(e=>({url:e.url}))}};u(n);const a=n.hotel.img||[];a.length>0&&N((null===(h=a[0])||void 0===h?void 0:h.url)||""),v(!1)}}catch(S){}B||d||v(!0),b(null);const W=e=>{if(!e)return null;const t=new Date(e),n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)},G=e=>{if(!e)return null;if(e instanceof Date)return e;const t=new Date(e);if(!isNaN(t.getTime()))return t;const n=String(e).match(/^(\d{2})[-\/](\d{2})[-\/](\d{4})$/);return n?new Date(parseInt(n[3],10),parseInt(n[2],10)-1,parseInt(n[1],10)):null},V=new Date,$=new Date(V.getFullYear(),V.getMonth(),V.getDate()+1),Y=new Date(V.getFullYear(),V.getMonth(),V.getDate()+2);let X=G(D)||$,J=G(E)||Y;J<=X&&(J=new Date(X.getFullYear(),X.getMonth(),X.getDate()+1)),C||I({checkin:W(X),checkout:W(J),roomConfigs:P,nationality:T,rating:R,adults:F,children:O,rooms:L});const Q={};Q.checkinDate=W(X),Q.checkoutDate=W(J),P&&P.length>0&&(Q.roomInfo=P.map(e=>({numberOfAdults:e.adults||2,numberOfChild:e.children||0,childrenAges:e.childAges||[]})));const Z={IN:"106",US:"231",GB:"229",AE:"228",SG:"197",AU:"14",CA:"40",DE:"82",FR:"76",JP:"110",CN:"47"};if(T?/^\d+$/.test(String(T))?Q.nationality=String(T):Q.nationality=Z[T]||"106":Q.nationality="106",Q.currency="INR",R){const e=parseInt(R);Q.ratings=[e]}console.log("Dynamic API search params:",Q),g("Step 1: Getting search result ID..."),console.log("Step 1: Calling hotel search query endpoint");const ee=await Ni(A,Q);if(!ee.searchResultId){if(ee.notAvailable){var p,f,y;const e=ee.fullResponse,t=(null===e||void 0===e||null===(p=e.searchResult)||void 0===p||null===(f=p.his)||void 0===f?void 0:f[0])||(null===e||void 0===e||null===(y=e.hotels)||void 0===y?void 0:y[0]);t&&u({hotel:t});const n=ee.errorMessage||"This hotel is not available for the selected dates.";return b(n),K(!0),void v(!1)}return console.error("No search result ID received from API - will try to fetch anyway"),b("Unable to get hotel availability. Please try again."),void v(!1)}m(ee.fullResponse),_(ee.searchResultId);const te=ee.fullResponse,ne=(null===te||void 0===te||null===(n=te.searchResult)||void 0===n||null===(a=n.his)||void 0===a?void 0:a[0])||(null===te||void 0===te||null===(s=te.hotels)||void 0===s?void 0:s[0]),ae=(null===ne||void 0===ne?void 0:ne.fl)||[],se=(null===ne||void 0===ne?void 0:ne.hrar)||null;console.log("\ud83d\udccb Extracted from search query:",{hasFacilities:ae.length>0,facilitiesCount:ae.length,hasReviews:!!se,reviewsStructure:se?Object.keys(se):null}),g("Fetching available room options...");const ie=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;for(let n=1;n<=t;n++)try{console.log("Attempt ".concat(n," of ").concat(t," to fetch hotel details"));const a=new Promise((e,t)=>setTimeout(()=>t(new Error("Request timeout")),6e4));return await Promise.race([ji(e),a])}catch(x){if(console.warn("Attempt ".concat(n," failed:"),x.message),n===t)throw x;await new Promise(e=>setTimeout(e,2e3*n))}};let le;try{le=await ie(ee.searchResultId)}catch(x){var j;if(console.error("Failed to fetch room options:",x),te&&null!==(j=te.searchResult)&&void 0!==j&&j.his&&te.searchResult.his.length>0){const e=te.searchResult.his[0];u(t=>{var n,a,s,i;return{hotel:He(He(He({},null===t||void 0===t?void 0:t.hotel),e),{},{img:(null===t||void 0===t||null===(n=t.hotel)||void 0===n?void 0:n.img)||e.img||[],ops:(null===t||void 0===t||null===(a=t.hotel)||void 0===a?void 0:a.ops)||[],fl:(null===t||void 0===t||null===(s=t.hotel)||void 0===s?void 0:s.fl)||e.fl||[],hrar:(null===t||void 0===t||null===(i=t.hotel)||void 0===i?void 0:i.hrar)||e.hrar||null})}})}return void v(!1)}if(le&&le.hotel){var w;const e=He(He({},le),{},{hotel:He(He({},le.hotel),{},{fl:le.hotel.fl||ae||[],hrar:le.hotel.hrar||se||le.hrar||null}),hrar:le.hrar||se||null});console.log("\ud83d\udccb Merged hotel data:",{facilitiesFromDetail:!!le.hotel.fl,facilitiesFromSearch:ae.length>0,finalFacilitiesCount:(null===(w=e.hotel.fl)||void 0===w?void 0:w.length)||0,reviewsFromDetail:!(!le.hotel.hrar&&!le.hrar),reviewsFromSearch:!!se,finalHasReviews:!!e.hotel.hrar}),u(e);const t=Li(le.hotel.img||[]);var k;if(t.length>0)N((null===(k=t[0])||void 0===k?void 0:k.url)||"");const n=Array.isArray(le.hotel.ops)?le.hotel.ops:[];if(n.length>0){const e=(()=>{try{const e=new Date(null===C||void 0===C?void 0:C.checkin),t=new Date(null===C||void 0===C?void 0:C.checkout),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})();console.log("\ud83d\udcb0 Initial price calculation: ".concat(n.length," options, ").concat(e," nights"));let t=Number.POSITIVE_INFINITY;const a=[];n.forEach((n,s)=>{const i=pe(n);if(i>0&&e>0){const n=i/e;a.push(n),i<t&&(t=i),console.log("\ud83d\udcb0 Option ".concat(s,": Total=\u20b9").concat(i,", PerNight=\u20b9").concat(n))}else console.warn("\u26a0\ufe0f Option ".concat(s,": Invalid price (total=").concat(i,", nights=").concat(e,")"))}),isFinite(t)&&t>0?console.log("\u2705 Initial minimum total price: \u20b9".concat(t)):console.warn("\u26a0\ufe0f No valid initial prices found"),U(a);const s=le.hotel.cur||"INR";M(s)}}else{const e=He(He({},le),{},{hotel:le.hotel?He(He({},le.hotel),{},{fl:le.hotel.fl||ae||[],hrar:le.hotel.hrar||se||le.hrar||null}):le.hotel,hrar:le.hrar||se||null});u(e)}const re=(null===(i=le)||void 0===i||null===(l=i.hotel)||void 0===l?void 0:l.ops)||[];if(console.log("Room options received:",re.length),console.log("Sample room option structure:",re.length>0?re[0]:"No options"),0===re.length)console.warn("\u26a0\ufe0f No room options found in hotel details response - will check again with real-time fetch");else{const e=re.filter(e=>{const t=pe(e),n=t>0&&Number.isFinite(t);return n||console.log("Invalid option found:",{fp:null===e||void 0===e?void 0:e.fp,ap:null===e||void 0===e?void 0:e.ap,pp:null===e||void 0===e?void 0:e.pp,tp:null===e||void 0===e?void 0:e.tp,calculatedTotal:t}),n});console.log("Valid options: ".concat(e.length," out of ").concat(re.length," total options")),e.length>0?(console.log("\u2705 Hotel has valid room options - NOT sold out"),K(!1),b(null)):console.warn("\u26a0\ufe0f Room options found but all have invalid/zero prices - will check again with real-time fetch")}v(!1),g("")}catch(A){console.error("Error fetching hotel details:",A),b(A.message||"Failed to load hotel details"),v(!1),g("")}})()},[c,r.state]),(0,i.useEffect)(()=>{if(E){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top="-".concat(e,"px"),document.body.style.width="100%",document.body.style.overflow="hidden"}else{const e=document.body.style.top;if(document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow="",e){const t=parseInt(e.replace(/-/g,""))||0;window.scrollTo(0,t)}}return()=>{document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflow=""}},[E]),(0,i.useEffect)(()=>{if(!E)return;const e=$.current;if(!e)return;const t=e.querySelector(".lb-thumb.active");t&&"function"===typeof t.scrollIntoView&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[T,E]),(0,i.useEffect)(()=>{if(!B||!d)return;let e=null,t=!1;const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)console.log("\u23f8\ufe0f Price fetch already in progress, skipping...");else try{var n;t=!0,e&&!W&&q(!0),console.log("\ud83d\udd04 ".concat(e?"Initial":"Periodic"," fetch: Getting real-time prices for room options..."));const s=await ji(B),i=(null===s||void 0===s||null===(n=s.hotel)||void 0===n?void 0:n.ops)||[];if(i.length>0){console.log("\u2705 Real-time options received:",i.length);const t=i.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)});if(console.log("\u2705 Real-time: ".concat(t.length," valid options out of ").concat(i.length," total")),0===t.length)return console.warn("\u26a0\ufe0f Hotel is sold out - all room options have invalid prices after real-time fetch"),K(!0),b("This hotel is sold out for the selected dates."),void(e&&q(!1));console.log("\u2705 Real-time: Hotel has valid options - NOT sold out"),K(!1),b(null),null!==s&&void 0!==s&&s.hotel&&u(e=>{var t,n;const a=He(He(He({},s.hotel),null===e||void 0===e?void 0:e.hotel),{},{ops:i,fl:(null===e||void 0===e||null===(t=e.hotel)||void 0===t?void 0:t.fl)||s.hotel.fl||[],hrar:(null===e||void 0===e||null===(n=e.hotel)||void 0===n?void 0:n.hrar)||s.hotel.hrar||(null===e||void 0===e?void 0:e.hrar)||s.hrar||null});return He(He({},s),{},{hotel:a,hrar:(null===e||void 0===e?void 0:e.hrar)||s.hrar||a.hrar||null})});const n=(()=>{try{const e=new Date(null===C||void 0===C?void 0:C.checkin),t=new Date(null===C||void 0===C?void 0:C.checkout),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})(),a=i.map((e,t)=>{const a=pe(e),s=a>0&&n>0?a/n:0;return s>0?s:0});U(a);const l=a.filter(e=>e>0);if(l.length>0){const t=Math.min(...l);O(t),console.log("\ud83d\udcb0 Real-time room prices updated (per-night):",a),console.log("\ud83d\udcb0 Minimum per-night price:",t),e&&G(!0)}}else{var a;console.warn("\u26a0\ufe0f No room options returned from real-time price check");const t=(null===d||void 0===d||null===(a=d.hotel)||void 0===a?void 0:a.ops)||(null===d||void 0===d?void 0:d.ops)||[];if(0!==t.length||p){if(t.length>0){t.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)}).length>0&&(console.log("\u2705 Using current data - hotel has valid options"),K(!1),b(null),e&&G(!0))}}else{d&&Object.keys(d).length>0&&(console.warn("No options in any data - marking as sold out"),K(!0),b("This hotel is sold out for the selected dates."))}}}catch(x){var s;console.error("\u274c Error fetching real-time room prices:",x);const n=(null===d||void 0===d||null===(s=d.hotel)||void 0===s?void 0:s.ops)||(null===d||void 0===d?void 0:d.ops)||[];if(n.length>0){n.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)}).length>0&&(console.log("\u2705 Error occurred but hotel has valid options - keeping available status"),K(!1),b(null),e&&!W&&G(!0))}}finally{t=!1,e&&q(!1)}};JSON.stringify({checkin:null===C||void 0===C?void 0:C.checkin,checkout:null===C||void 0===C?void 0:C.checkout,adults:null===C||void 0===C?void 0:C.adults,children:null===C||void 0===C?void 0:C.children,rooms:null===C||void 0===C?void 0:C.rooms});e&&clearTimeout(e),e=setTimeout(()=>{W||n(!0)},200);const a=setInterval(()=>{B&&d&&!p&&W&&!t&&(console.log("\ud83d\udd04 Periodic real-time price refresh (silent)..."),n(!1))},45e3);return()=>{e&&clearTimeout(e),clearInterval(a)}},[B,d,null===C||void 0===C?void 0:C.checkin,null===C||void 0===C?void 0:C.checkout,null===C||void 0===C?void 0:C.adults,null===C||void 0===C?void 0:C.children,null===C||void 0===C?void 0:C.rooms,p,W]),(0,i.useEffect)(()=>{if(p||H)console.log("\u23f3 Waiting for data to load...");else if(d){var e;const t=(null===d||void 0===d||null===(e=d.hotel)||void 0===e?void 0:e.ops)||(null===d||void 0===d?void 0:d.ops)||[];if(0===t.length)return void console.log("No room options yet, waiting for real-time fetch...");const n=t.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)});if(console.log("Checking sold out status: ".concat(n.length," valid options out of ").concat(t.length," total")),0===n.length){const e=setTimeout(()=>{var e;const t=((null===d||void 0===d||null===(e=d.hotel)||void 0===e?void 0:e.ops)||(null===d||void 0===d?void 0:d.ops)||[]).filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)});0!==t.length||p||H?t.length>0&&(console.log("\u2705 Found valid options on re-check - keeping available"),K(!1),b(null)):(console.warn("\u26a0\ufe0f Confirmed: Setting sold out - no valid room options available"),K(!0),b("This hotel is sold out for the selected dates."))},2e3);return()=>clearTimeout(e)}console.log("\u2705 Hotel has valid options - clearing sold out status"),K(!1),b(null)}},[d,p,H]);const be=(null===d||void 0===d?void 0:d.hotel)||d||{},ye=be.name||"Hotel",Ne=Li(be.img||[]),je=be.rt||0,we=be.ad||{},ke=be.gl||{},Se=be.ops||[],Ce=(be.pt,(0,i.useMemo)(()=>{if(!Se||0===Se.length)return{};const e={};return Se.forEach((t,n)=>{var a;const s=(null===(a=t.ris)||void 0===a?void 0:a[0])||{},i=s.rc||"Room";let l=pe(t);if((!l||l<=0)&&z&&void 0!==z[n]&&z[n]>0){const e=(()=>{try{const e=new Date(null===C||void 0===C?void 0:C.checkin),t=new Date(null===C||void 0===C?void 0:C.checkout),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})();l=z[n]*e}!l||l<=0||!Number.isFinite(l)||(e[i]||(e[i]=[]),e[i].push({option:t,index:n,price:Number(l),room:s}))}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>e.price-t.price)}),e},[Se,z,null===C||void 0===C?void 0:C.checkin,null===C||void 0===C?void 0:C.checkout]),(null===(e=be.hrar)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.response)||{}),Ie=(be.checkInTime,be.checkOutTime,be.fl||[]),Ae=(0,i.useMemo)(()=>{const e=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim();return e?/[.!?]$/.test(e)?e:"".concat(e,"."):""},t=t=>{if(!t||"object"!==typeof t)return"";const n={headline:t=>e(String(t)),location:t=>e(String(t)),amenities:t=>e(String(t)),rooms:t=>e(String(t)),dining:t=>e(String(t)),business_amenities:t=>e(String(t)),onsite_payments:t=>e("Accepted payments: ".concat(t)),spoken_languages:t=>{const n=Array.isArray(t)?t.join(", "):String(t);return e("Languages spoken: ".concat(n))},attractions:t=>e(String(t))},a=new Set,s=s=>{if(a.has(s))return"";a.add(s);const i=t[s];if(null===i||void 0===i||""===i)return"";const l=n[s];if(l)return l(i);let r;if(r=Array.isArray(i)?i.join(", "):"object"===typeof i?Object.values(i).filter(e=>null!==e&&void 0!==e&&""!==e).join(", "):String(i),!r)return"";const o=s.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return e("".concat(o,": ").concat(r))},i=["headline","location","amenities","rooms","dining","business_amenities","onsite_payments","spoken_languages","attractions"].map(s).filter(Boolean);return Object.keys(t).forEach(e=>{const t=s(e);t&&i.push(t)}),i.join(" ")},n=be.des;if(!n)return"";if("string"===typeof n){const e=n.trim();if(!e)return"";try{const n=t(JSON.parse(e));if(n)return n}catch(a){return e}return e}return t(n)||""},[be.des]),De=be.cnt||{},Ee=x&&d;return p&&!d?(0,_t.jsx)("div",{className:"hotel-detail-container",children:(0,_t.jsxs)("div",{className:"loading-spinning",children:[(0,_t.jsx)("div",{className:"spinning"}),(0,_t.jsx)("p",{children:f}),(0,_t.jsx)("p",{className:"loading-subtitle",children:"Please wait while we fetch hotel information..."})]})}):x&&!d?(0,_t.jsx)("div",{className:"hotel-detail-container",children:(0,_t.jsxs)("div",{className:"error-message-info",children:[(0,_t.jsxs)("h2",{children:[(0,_t.jsx)(ni,{size:24,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),"Error"]}),(0,_t.jsx)("p",{children:x}),(0,_t.jsxs)("button",{onClick:()=>o(-1),className:"btn-back",children:[(0,_t.jsx)(Ei,{size:20})," Go Back"]})]})}):d?(0,_t.jsxs)("div",{className:"hotel-detail-container",children:[(0,_t.jsxs)("div",{className:"detail-content",children:[(Ee||V&&!p&&!H)&&(0,_t.jsx)("div",{className:"warning-banner",children:(0,_t.jsxs)("div",{className:"warning-content",children:[(0,_t.jsx)("span",{className:"warning-icon",children:(0,_t.jsx)(ni,{size:20})}),(0,_t.jsx)("span",{className:"warning-text",children:!V||p||H?x:"This hotel is sold out for the selected dates."})]})}),(0,_t.jsxs)("div",{className:"main-content-layout",children:[(0,_t.jsxs)("div",{className:"left-content-column",children:[Ne.length>0&&(0,_t.jsxs)("div",{className:"image-gallery-section",children:[!k&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"image-grid image-grid-top",children:[(0,_t.jsx)("div",{className:"grid-item grid-hero",onClick:()=>{R(0),P(!0)},children:(0,_t.jsx)("img",{src:y||(null===(n=Ne[0])||void 0===n?void 0:n.url)||"",alt:ye,className:"grid-image",onError:e=>{e.target.style.display="none"}})}),[Ne[1],Ne[2]].filter(Boolean).map((e,t)=>(0,_t.jsx)("div",{className:"grid-item grid-medium grid-medium-".concat(t),onClick:()=>{R(t+1),P(!0)},children:(0,_t.jsx)("img",{src:e.url,alt:"".concat(ye," ").concat(t+2),className:"grid-image",onError:e=>{e.target.style.display="none"}})},"mid-".concat(t)))]}),(0,_t.jsx)("div",{className:"thumbs-row",children:Ne.slice(3,8).map((e,t)=>{const n=t+3,a=4===t&&Ne.length>8,s=Math.max(Ne.length-8,0);return(0,_t.jsxs)("div",{className:"thumb-item",onClick:()=>{R(n),P(!0)},children:[(0,_t.jsx)("img",{src:null===e||void 0===e?void 0:e.url,alt:"".concat(ye," ").concat(n+1),className:"grid-image",onError:e=>{e.target.style.display="none"}}),a&&s>0&&(0,_t.jsx)("div",{className:"photos-overlay",onClick:e=>{e.stopPropagation(),R(8),P(!0)},style:{cursor:"pointer"},children:(0,_t.jsxs)("span",{className:"photos-overlay-text",children:[s,"+ Photos"]})})]},"thumb-".concat(t))})})]}),k&&(0,_t.jsx)("div",{className:"all-images-grid",children:Ne.map((e,t)=>(0,_t.jsx)("div",{className:"all-grid-item",onClick:()=>{R(t),P(!0)},style:{cursor:"pointer"},children:(0,_t.jsx)("img",{src:e.url,alt:"".concat(ye," view ").concat(t+1),className:"grid-image",onError:e=>{e.target.style.display="none"}})},t))})]}),(0,_t.jsxs)("div",{className:"hotel-overview-section",children:[(0,_t.jsx)("h3",{className:"overview-title",children:"Overview"}),(0,_t.jsx)("p",{className:"overview-description",children:he?(0,_t.jsxs)(_t.Fragment,{children:[Ae||"Experience an abundance of unparalleled facilities and features at ".concat(ye,". Maintain seamless communication using the complimentary Wi-Fi at hotel. At the hotel, utilize the best services and amenities."),(0,_t.jsxs)("span",{className:"read-more-link",onClick:()=>me(!1),style:{cursor:"pointer",color:"#3b82f6",textDecoration:"underline"},children:[" ","read less"]})]}):(0,_t.jsx)(_t.Fragment,{children:Ae?(0,_t.jsxs)(_t.Fragment,{children:[Ae.length>150?"".concat(Ae.substring(0,150),"..."):Ae,Ae.length>150&&(0,_t.jsxs)("span",{className:"read-more-link",onClick:()=>me(!0),style:{cursor:"pointer",color:"#3b82f6",textDecoration:"underline"},children:[" ","read more"]})]}):(0,_t.jsxs)(_t.Fragment,{children:["Experience an abundance of unparalleled facilities and features at ",ye,". Maintain seamless communication using the complimentary Wi-Fi at hotel. At the hotel, utilize",(0,_t.jsxs)("span",{className:"read-more-link",onClick:()=>me(!0),style:{cursor:"pointer",color:"#3b82f6",textDecoration:"underline"},children:[" ","read more"]})]})})})]})]}),(0,_t.jsxs)("div",{className:"right-content-column",children:[(0,_t.jsxs)("div",{className:"hotel-booking-header",children:[(0,_t.jsx)("h1",{className:"hotel-name-booking",children:ye}),(0,_t.jsx)("div",{className:"address-section",children:(0,_t.jsxs)("span",{children:[we.adr&&"".concat(we.adr,", "),we.adr2&&"".concat(we.adr2,", "),we.ctn&&"".concat(we.ctn,", "),we.cn||"",we.postalCode&&" - ".concat(we.postalCode)]})}),(0,_t.jsx)("div",{className:"hotel-location-info",children:we.ctn&&"".concat(we.ctn," Hotel Standard Standard Check-i...")}),(0,_t.jsx)("div",{className:"hotel-rating",children:(0,_t.jsx)("div",{className:"star-rating",children:[...Array(5)].map((e,t)=>(0,_t.jsx)(Ft,{className:"star-icon ".concat(t<je?"filled":"empty")},t))})})]}),(0,_t.jsx)("div",{className:"hotel-pricing-section",children:(()=>{const e=Se.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)}).length>0;if((p||H&&!W)&&!e)return(0,_t.jsx)("div",{style:{textAlign:"center",padding:"20px"},children:(0,_t.jsx)("div",{style:{color:"#6b7280",fontSize:"16px",marginBottom:"8px"},children:"Loading prices..."})});if(e){var t,n,a;const e=Se.map(e=>pe(e)).filter(e=>e>0),s=e.length>0?Math.min(...e):0;return s<=0?null:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"starting-price",children:(0,_t.jsxs)("span",{className:"price-display",children:["\u20b9",s.toFixed(2)]})}),(0,_t.jsx)("div",{className:"room-type-display",children:(0,_t.jsx)("span",{className:"room-type-text",children:(null===(t=Se[0])||void 0===t||null===(n=t.ris)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.rc)||"Standard Room"})}),((e,t,n,a)=>{const s=(null===(e=Se[0])||void 0===e?void 0:e.mb)||(null===(t=Se[0])||void 0===t||null===(n=t.ris)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.mb);return s&&s.toLowerCase().includes("breakfast")?(0,_t.jsx)("div",{className:"amenities-included",children:"BREAKFAST"}):(0,_t.jsx)("div",{className:"amenities-included",children:"ROOM ONLY"})})()]})}return!V||e||p||H?null:(0,_t.jsxs)("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"#fef2f2",borderRadius:"8px",border:"1px solid #fecaca"},children:[(0,_t.jsx)("div",{style:{marginBottom:"8px",display:"flex",justifyContent:"center"},children:(0,_t.jsx)(Pi,{size:32,color:"#991b1b"})}),(0,_t.jsx)("div",{style:{color:"#991b1b",fontWeight:"600",fontSize:"18px",marginBottom:"4px"},children:"Sold Out"}),(0,_t.jsx)("div",{style:{color:"#6b7280",fontSize:"14px"},children:"Not available for selected dates"})]})})()}),(0,_t.jsxs)("div",{className:"check-availability-section",children:[(0,_t.jsx)("h3",{className:"availability-title",children:"Check availability"}),(0,_t.jsxs)("div",{className:"availability-details",children:[(0,_t.jsxs)("div",{className:"date-information",children:[(0,_t.jsxs)("div",{className:"check-in-date",children:[(0,_t.jsx)("span",{className:"date-label",children:"Check in"}),(0,_t.jsx)("span",{className:"date-value-info",children:null!==C&&void 0!==C&&C.checkin?new Date(C.checkin).toLocaleDateString("en-GB").replace(/\//g,"-"):"22-10-2025"})]}),(0,_t.jsxs)("div",{className:"check-out-date",children:[(0,_t.jsx)("span",{className:"date-label",children:"Check out"}),(0,_t.jsx)("span",{className:"date-value-info",children:null!==C&&void 0!==C&&C.checkout?new Date(C.checkout).toLocaleDateString("en-GB").replace(/\//g,"-"):"23-10-2025"})]})]}),(0,_t.jsxs)("div",{className:"nights-stay",children:[(0,_t.jsx)("span",{children:"Total Night(s): "}),(0,_t.jsx)("span",{className:"nights-number",children:null!==C&&void 0!==C&&C.checkin&&null!==C&&void 0!==C&&C.checkout?Math.ceil((new Date(C.checkout)-new Date(C.checkin))/864e5):1})]})]})]}),(0,_t.jsxs)("div",{className:"persons-room-section",children:[(0,_t.jsxs)("div",{className:"persons-info",children:[(0,_t.jsx)(Ti,{className:"person-icon",size:18}),(0,_t.jsx)("span",{className:"persons-text",children:"Persons and Room"})]}),(0,_t.jsxs)("div",{className:"room-guest-details",children:[(null===C||void 0===C?void 0:C.rooms)||1," Room"," ",(null===C||void 0===C?void 0:C.adults)||2," Adults"]})]}),(()=>{const e=Se.filter(e=>{const t=pe(e);return t>0&&Number.isFinite(t)}),t=e.length>0,n=!t&&V&&!p&&!H,a=p||H&&!W;return(0,_t.jsx)("button",{className:"book-room-button",disabled:n||a||!t||le,onClick:async()=>{var s;if(n||a||!t)return;let i=null;if(j>=0&&j<Se.length){const e=Se[j],t=pe(e);t>0&&Number.isFinite(t)&&(i=e,console.log("Using user-selected room at index:",j,"with optionId:",i.id))}if(!i&&e.length>0&&(i=e[0],console.log("Using first valid room with optionId:",i.id)),!i)return void console.error("No valid room available for booking");const l=(null===(s=i)||void 0===s?void 0:s.tp)||0,r=Se.findIndex(e=>e.id===i.id);await xe(i,l,r>=0?r:null)},style:n?{backgroundColor:"#991b1b",cursor:"not-allowed",opacity:.7}:{},children:!le||null!==oe&&oe!==Se.findIndex(t=>{var n;return t.id===(null===(n=e[0])||void 0===n?void 0:n.id)})?a?"Loading Prices...":n?"SOLD OUT":"BOOK THIS ROOM":"Reviewing..."})})()]})]}),(0,_t.jsxs)("div",{className:"tab-container",children:[(0,_t.jsxs)("div",{className:"tab-header",children:[(0,_t.jsxs)("button",{className:"tab-button ".concat("rooms"===A?"active":""),onClick:()=>D("rooms"),children:[(0,_t.jsx)(Ri,{size:18})," Rooms"]}),(0,_t.jsxs)("button",{className:"tab-button ".concat("facilities"===A?"active":""),onClick:()=>D("facilities"),children:[(0,_t.jsx)(ut,{})," Facilities"]}),(0,_t.jsx)("button",{className:"tab-button ".concat("location"===A?"active":""),onClick:()=>D("location"),children:"Location"}),(0,_t.jsxs)("button",{className:"tab-button ".concat("reviews"===A?"active":""),onClick:()=>D("reviews"),children:[(0,_t.jsx)(Ft,{})," Reviews"]})]}),(0,_t.jsxs)("div",{className:"tab-content",children:["rooms"===A&&(0,_t.jsxs)("div",{className:"tab-panel rooms-panel",children:[(()=>{const e=Se.length>0&&Se.some(e=>{const t=pe(e);return t>0&&Number.isFinite(t)});return(p||H&&!W)&&!e?(0,_t.jsx)("div",{className:"no-data-message",children:(0,_t.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px"},children:[(0,_t.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"center"},children:(0,_t.jsx)(Fi,{size:48,color:"#6b7280"})}),(0,_t.jsx)("h2",{style:{color:"#6b7280",marginBottom:"12px",fontSize:"24px"},children:"Loading Room Options"}),(0,_t.jsx)("p",{style:{color:"#9ca3af",fontSize:"16px",marginBottom:"8px"},children:"Fetching real-time hotel prices..."})]})}):!V||e||p||H?null:(0,_t.jsx)("div",{className:"no-data-message sold-out-message",children:(0,_t.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px"},children:[(0,_t.jsx)("div",{style:{marginBottom:"16px",display:"flex",justifyContent:"center"},children:(0,_t.jsx)(Pi,{size:48,color:"#991b1b"})}),(0,_t.jsx)("h2",{style:{color:"#991b1b",marginBottom:"12px",fontSize:"24px"},children:"Sold Out"}),(0,_t.jsx)("p",{style:{color:"#6b7280",fontSize:"16px",marginBottom:"8px"},children:"This hotel is not available for the selected dates."}),(0,_t.jsx)("p",{style:{color:"#9ca3af",fontSize:"14px"},children:"Please try selecting different check-in or check-out dates."})]})})})(),(()=>{const e=Se.length>0&&Se.some(e=>{const t=pe(e);return t>0&&Number.isFinite(t)});return!V&&e&&Se.length>0?(0,_t.jsxs)("div",{className:"rooms-table-container",children:[(0,_t.jsx)("div",{className:"rooms-table-header",children:(0,_t.jsxs)("h2",{className:"section-title",children:[(0,_t.jsx)(Mt,{className:"section-icon"}),"Available Room Options"]})}),(0,_t.jsxs)("div",{className:"rooms-table",children:[(0,_t.jsxs)("div",{className:"table-header",children:[(0,_t.jsx)("div",{className:"col-room-type",children:"Room Type"}),(0,_t.jsx)("div",{className:"col-room-options",children:"Room Options"}),(0,_t.jsx)("div",{className:"col-description",children:"Description"}),(0,_t.jsx)("div",{className:"col-cancellation",children:"Cancellation Policy"}),(0,_t.jsx)("div",{className:"col-price",children:"Price"})]}),Se.map((e,t)=>{var n,a,s,i;const l=(null===(n=e.ris)||void 0===n?void 0:n[0])||{},r=l.rc||"Room",o=(be.cur||(null===C||void 0===C||C.currency),(null===(a=l.img)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.url)||(null===(i=Ne[0])||void 0===i?void 0:i.url)||"");let c=pe(e);if((!c||c<=0)&&z&&void 0!==z[t]&&z[t]>0){const e=(()=>{try{const e=new Date(null===C||void 0===C?void 0:C.checkin),t=new Date(null===C||void 0===C?void 0:C.checkout),n=Math.ceil((t-e)/864e5);return Math.max(1,n||1)}catch(e){return 1}})();c=z[t]*e}return!c||c<=0||!Number.isFinite(c)?null:(0,_t.jsxs)("div",{className:"table-row ".concat(j===t?"selected":""),onClick:()=>w(t),children:[(0,_t.jsxs)("div",{className:"col-room-type",children:[(0,_t.jsx)("div",{className:"room-type-name",children:r}),(0,_t.jsxs)("div",{className:"room-image",children:[o?(0,_t.jsx)("img",{src:o,alt:r,className:"room-thumbnail",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}):null,(0,_t.jsxs)("div",{className:"no-image-placeholder",style:{display:o?"none":"block"},children:[(0,_t.jsx)("div",{className:"placeholder-icon",children:(0,_t.jsx)(Oi,{size:32})}),(0,_t.jsx)("div",{className:"placeholder-text",children:"No images available"}),(0,_t.jsx)("button",{className:"placeholder-btn",children:"No images available"})]}),o&&(0,_t.jsx)("button",{className:"view-images-btn",onClick:e=>{e.stopPropagation(),R(0),P(!0)},children:"View room images"})]})]}),(0,_t.jsxs)("div",{className:"col-room-options",children:[(0,_t.jsx)("div",{className:"meal-plan",children:l.mb||"Room Only"}),(0,_t.jsx)("div",{className:"pan-status",children:"PAN not Required"})]}),(0,_t.jsxs)("div",{className:"col-description",children:[(0,_t.jsx)("div",{className:"room-title",children:r}),(0,_t.jsxs)("div",{className:"amenities",children:[l.mb&&l.mb.toLowerCase().includes("breakfast")&&(0,_t.jsx)("div",{className:"amenity-item",children:">> Free breakfast"}),(0,_t.jsx)("div",{className:"amenity-item",children:">> Free self parking"}),(0,_t.jsx)("div",{className:"amenity-item",children:">> Free valet parking"}),(0,_t.jsx)("div",{className:"amenity-item",children:">> Free WiFi"})]}),(0,_t.jsx)("a",{href:"#",className:"room-facilities-link",children:"Room Facilities"})]}),(0,_t.jsx)("div",{className:"col-cancellation",children:(0,_t.jsxs)("div",{className:"cancellation-policy",children:[(0,_t.jsx)("span",{children:"No Free Cancellation / Non-Refundable"}),(0,_t.jsx)("span",{className:"info-icon",onClick:n=>{n.stopPropagation(),X({open:!0,index:t,tab:"tabular"});try{Z(!0),ne(""),ie(null);const t=(null===e||void 0===e?void 0:e.id)||(null===e||void 0===e?void 0:e.opId)||(null===e||void 0===e?void 0:e.optionId)||(null===e||void 0===e?void 0:e.oid);B&&t?(async(e,t)=>{try{if(!e||!t)throw new Error("id and optionId are required");const c={id:e,optionId:t},d=await fetch(vi,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",apikey:"21127868722029ee-7c84-4b6c-9fd1-78e3c67f84ad",tripjack:"true"},body:JSON.stringify(c)});let u;try{const e=await d.text();u=e?JSON.parse(e):{}}catch(o){if(console.error("Failed to parse response:",o),!d.ok)throw new Error("HTTP ".concat(d.status,": ").concat(o.message));throw o}if(u.status&&!1===u.status.success){var n,a;if(u.errors&&(u.errors.some(e=>"408"===e.errCode)||403===u.status.httpStatus||403===d.status)){var s,i;const e=(null===(s=u.errors)||void 0===s||null===(i=s[0])||void 0===i?void 0:i.message)||"Access Denied";throw console.error("\u274c Access Denied Error detected:",e),console.error("Full error response:",JSON.stringify(u,null,2)),new Error("Access Denied: ".concat(e,". Please check your API key and permissions."))}throw new Error((null===(n=u.errors)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.message)||"Failed to get cancellation policy")}if(!d.ok){var l,r;const e=(null===(l=u.errors)||void 0===l||null===(r=l[0])||void 0===r?void 0:r.message)||"HTTP ".concat(d.status,": Failed to get cancellation policy");throw new Error(e)}return u}catch(x){throw console.error("getCancellationPolicy error:",x),x}})(B,t).then(e=>{ie((null===e||void 0===e?void 0:e.cancellationPolicy)||null)}).catch(e=>ne(e.message||"Failed to load policy")).finally(()=>Z(!1)):(Z(!1),ne("Cancellation policy unavailable for this option."))}catch(a){}},style:{cursor:"pointer"},children:(0,_t.jsx)(ti,{size:18})})]})}),(0,_t.jsxs)("div",{className:"col-price",children:[(0,_t.jsxs)("div",{className:"price-main",children:["\u20b9",Number(c).toFixed(2)]}),(0,_t.jsxs)("div",{className:"price-details",children:["for 1 Night(s) For ",l.adt||1," adult"," ",l.chd||0," child"]}),(0,_t.jsx)("a",{href:"#",className:"add-to-quote",children:"Add to Quote"}),(0,_t.jsxs)("div",{className:"room-actions",children:[(0,_t.jsx)("button",{className:"btn-book-now-table",disabled:oe===t,onClick:async e=>{if(e.stopPropagation(),oe===t)return;const n=Se[t],a=Number(c)||(null===n||void 0===n?void 0:n.tp)||0;await xe(n,a,t)},children:oe===t?"Reviewing...":"BOOK NOW"}),(0,_t.jsxs)("button",{className:"btn-more-options",onClick:e=>{e.stopPropagation()},children:["More Options ",(0,_t.jsx)("span",{children:"\u25bc"})]})]})]})]},t)})]})]}):null})()]}),"facilities"===A&&(0,_t.jsxs)("div",{className:"tab-panel facilities-panel",children:[(0,_t.jsxs)("h2",{className:"section-title",children:[(0,_t.jsx)(ut,{className:"section-icon"}),"Hotel Facilities & Amenities"]}),Ie.length>0?(0,_t.jsx)("div",{className:"facilities-grid",children:Ie.map((e,t)=>(0,_t.jsxs)("div",{className:"facility-item",children:[(0,_t.jsx)(ut,{className:"facility-icon"}),(0,_t.jsx)("span",{children:e.name||e})]},t))}):(0,_t.jsx)("div",{className:"no-data-message",children:(0,_t.jsx)("p",{children:"No facilities information available."})}),Ae&&(0,_t.jsxs)("div",{className:"description-section",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"About This Property"}),(0,_t.jsx)("p",{className:"hotel-description",children:Ae})]}),De&&Object.keys(De).length>0&&(0,_t.jsxs)("div",{className:"contact-section",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"Contact Information"}),(0,_t.jsxs)("div",{className:"contact-details",children:[De.phn&&(0,_t.jsxs)("div",{className:"contact-item",children:[(0,_t.jsx)(At,{className:"contact-icon"}),(0,_t.jsx)("span",{children:De.phn})]}),De.em&&(0,_t.jsxs)("div",{className:"contact-item",children:[(0,_t.jsx)(yt,{className:"contact-icon"}),(0,_t.jsx)("span",{children:De.em})]})]})]})]}),"location"===A&&(0,_t.jsxs)("div",{className:"tab-panel location-panel",children:[(0,_t.jsx)("h2",{className:"section-title",children:"Location & Address"}),(0,_t.jsxs)("div",{className:"location-details",children:[(0,_t.jsxs)("div",{className:"address-card",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"Full Address"}),(0,_t.jsxs)("p",{className:"address-text",children:[we.adr&&(0,_t.jsxs)("span",{children:[we.adr,(0,_t.jsx)("br",{})]}),we.adr2&&(0,_t.jsxs)("span",{children:[we.adr2,(0,_t.jsx)("br",{})]}),we.ctn&&(0,_t.jsxs)("span",{children:[we.ctn,", "]}),we.stateName&&(0,_t.jsxs)("span",{children:[we.stateName,", "]}),we.cn&&(0,_t.jsx)("span",{children:we.cn}),we.postalCode&&(0,_t.jsxs)("span",{children:[(0,_t.jsx)("br",{}),"Postal Code: ",we.postalCode]})]})]}),ke&&(ke.lt||ke.ln)&&(0,_t.jsxs)("div",{className:"coordinates-card",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"Coordinates"}),(0,_t.jsxs)("p",{className:"coordinates-text",children:[(0,_t.jsx)("strong",{children:"Latitude:"})," ",ke.lt||"N/A",(0,_t.jsx)("br",{}),(0,_t.jsx)("strong",{children:"Longitude:"})," ",ke.ln||"N/A"]}),ke.lt&&ke.ln&&(0,_t.jsx)("a",{href:"https://www.google.com/maps?q=".concat(ke.lt,",").concat(ke.ln),target:"_blank",rel:"noopener noreferrer",className:"map-link",children:"View on Google Maps"})]})]})]}),"reviews"===A&&(0,_t.jsxs)("div",{className:"tab-panel reviews-panel",children:[(0,_t.jsxs)("h2",{className:"section-title",children:[(0,_t.jsx)(Ft,{className:"section-icon"}),"Guest Reviews"]}),Ce.score?(0,_t.jsxs)("div",{className:"reviews-content",children:[(0,_t.jsx)("div",{className:"review-summary-card",children:(0,_t.jsxs)("div",{className:"review-score-large",children:[(0,_t.jsx)("div",{className:"score-circle-large",children:Ce.score}),(0,_t.jsxs)("div",{className:"score-info",children:[(0,_t.jsx)("div",{className:"score-description-large",children:Ce.score_description}),(0,_t.jsxs)("div",{className:"review-count-large",children:["Based on ",Ce.reviews_count," reviews"]})]})]})}),Ce.category_list&&Ce.category_list.length>0&&(0,_t.jsxs)("div",{className:"category-scores-section",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"Rating Breakdown"}),(0,_t.jsx)("div",{className:"category-scores-grid",children:Ce.category_list.map((e,t)=>(0,_t.jsxs)("div",{className:"category-score-item",children:[(0,_t.jsx)("span",{className:"category-name",children:e.category_name}),(0,_t.jsxs)("div",{className:"score-bar-container",children:[(0,_t.jsx)("div",{className:"score-bar",children:(0,_t.jsx)("div",{className:"score-fill",style:{width:"".concat(e.score,"%")}})}),(0,_t.jsx)("span",{className:"score-value",children:e.score})]})]},t))})]}),Ce.reviews&&Ce.reviews.length>0&&(0,_t.jsxs)("div",{className:"individual-reviews-section",children:[(0,_t.jsx)("h3",{className:"subsection-title",children:"Recent Reviews"}),(0,_t.jsx)("div",{className:"reviews-list",children:Ce.reviews.map((e,t)=>(0,_t.jsxs)("div",{className:"review-item",children:[(0,_t.jsxs)("div",{className:"review-header",children:[(0,_t.jsx)("span",{className:"reviewer-name",children:e.author||"Anonymous"}),(0,_t.jsx)("span",{className:"review-date",children:e.date||""})]}),(0,_t.jsx)("div",{className:"review-text",children:e.text||e.content})]},t))})]})]}):(0,_t.jsx)("div",{className:"no-data-message",children:(0,_t.jsx)("p",{children:"No reviews available for this hotel yet."})})]})]})]}),(0,_t.jsxs)("div",{className:"action-section",children:[(0,_t.jsx)("button",{className:"btn-book-now",disabled:le&&(oe===j||null===oe),onClick:async()=>{const e=Se[j],t=(null===e||void 0===e?void 0:e.tp)||0;await xe(e,t,j)},children:!le||oe!==j&&null!==oe?"Book Selected Room - \u20b9".concat((null===(a=Se[j])||void 0===a||null===(s=a.tp)||void 0===s?void 0:s.toFixed(2))||0):"Reviewing Booking..."}),(0,_t.jsx)("button",{className:"btn-secondary",onClick:()=>o(-1),children:"Cancel"})]})]}),E&&Ne.length>0&&(0,_t.jsx)("div",{className:"lightbox-overlay",onClick:e=>{e.target.classList.contains("lightbox-overlay")&&P(!1)},children:(0,_t.jsxs)("div",{className:"lightbox-container",children:[(0,_t.jsxs)("div",{className:"lightbox-header",children:[(0,_t.jsxs)("div",{className:"lightbox-title",children:[(0,_t.jsx)("span",{className:"lightbox-hotel",children:ye}),(0,_t.jsx)("span",{className:"lightbox-stars",children:[...Array(5)].map((e,t)=>(0,_t.jsx)(Ft,{className:"lb-star ".concat(t<je?"filled":"")},t))})]}),(0,_t.jsx)("button",{className:"lightbox-close",onClick:()=>P(!1),"aria-label":"Close",children:"\xd7"})]}),(0,_t.jsx)("button",{className:"lb-nav prev",onClick:()=>R((T-1+Ne.length)%Ne.length),children:"\u276e"}),(0,_t.jsx)("button",{className:"lb-nav next",onClick:()=>R((T+1)%Ne.length),children:"\u276f"}),(0,_t.jsx)("div",{className:"lightbox-main",children:(0,_t.jsx)("img",{src:null===(l=Ne[T])||void 0===l?void 0:l.url,alt:"".concat(ye," ").concat(T+1),className:"lightbox-image"})}),(0,_t.jsxs)("div",{className:"lightbox-counter",children:[T+1," / ",Ne.length]}),(0,_t.jsx)("div",{className:"lightbox-thumbs",ref:$,children:Ne.map((e,t)=>(0,_t.jsx)("button",{className:"lb-thumb ".concat(t===T?"active":""),onClick:()=>R(t),children:(0,_t.jsx)("img",{src:e.url,alt:"".concat(ye," thumb ").concat(t+1)})},t))})]})}),Y.open&&(0,_t.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>X({open:!1,index:-1,tab:"tabular"}),children:(0,_t.jsxs)("div",{style:{width:"min(760px, 95vw)",background:"white",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.25)",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 18px",borderBottom:"1px solid #e5e7eb"},children:[(0,_t.jsx)("div",{style:{fontWeight:700,fontSize:16},children:"Cancellation Policy"}),(0,_t.jsx)("button",{onClick:()=>X({open:!1,index:-1,tab:"tabular"}),style:{background:"transparent",border:"none",fontSize:20,cursor:"pointer"},children:"\xd7"})]}),(0,_t.jsxs)("div",{style:{padding:"12px 18px"},children:[(0,_t.jsxs)("div",{style:{display:"flex",gap:16,borderBottom:"1px solid #e5e7eb",marginBottom:12},children:[(0,_t.jsx)("button",{onClick:()=>X(e=>He(He({},e),{},{tab:"tabular"})),style:{background:"transparent",border:"none",padding:"10px 6px",cursor:"pointer",color:"tabular"===Y.tab?"#ef4444":"#374151",borderBottom:"tabular"===Y.tab?"2px solid #ef4444":"2px solid transparent",fontWeight:700},children:"TABULAR"}),(0,_t.jsx)("button",{onClick:()=>X(e=>He(He({},e),{},{tab:"normal"})),style:{background:"transparent",border:"none",padding:"10px 6px",cursor:"pointer",color:"normal"===Y.tab?"#ef4444":"#374151",borderBottom:"normal"===Y.tab?"2px solid #ef4444":"2px solid transparent",fontWeight:700},children:"NORMAL"})]}),(e=>{const t=Se[Y.index]||{},n=(null===t||void 0===t||null===(e=t.ris)||void 0===e?void 0:e[0])||{},a=se||{},s=Array.isArray(a.pd)?a.pd:[],i=!0===a.ifra?"Refundable booking with penalties as per slabs below.":!0===a.inra?"No refund allowed for this option.":"No free cancellation / Non-refundable unless otherwise specified.",l=e=>e?new Date(e).toLocaleDateString("en-GB").replace(/\//g,"-"):"",r=null!==C&&void 0!==C&&C.checkin?l(C.checkin):"",o=null!==C&&void 0!==C&&C.checkout?l(C.checkout):"";return"tabular"===Y.tab?(0,_t.jsxs)("div",{style:{overflowX:"auto"},children:[J&&(0,_t.jsx)("div",{style:{padding:"8px 0"},children:"Loading policy\u2026"}),ee&&(0,_t.jsx)("div",{style:{padding:"8px 0",color:"#991b1b"},children:ee}),!J&&!ee&&se&&(0,_t.jsxs)("div",{style:{marginBottom:10,padding:"8px 10px",background:"#fff7ed",border:"1px solid #fed7aa",borderRadius:8,color:"#9a3412"},children:["Live cancellation charge if you cancel now:"," ",(0,_t.jsxs)("strong",{children:["\u20b9",fe(a,t).toLocaleString("en-IN")]})]}),(0,_t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,_t.jsx)("thead",{children:(0,_t.jsxs)("tr",{style:{background:"#f9fafb"},children:[(0,_t.jsx)("th",{style:{textAlign:"left",padding:"10px 8px",border:"1px solid #e5e7eb"},children:"Cancellation on or After"}),(0,_t.jsx)("th",{style:{textAlign:"left",padding:"10px 8px",border:"1px solid #e5e7eb"},children:"Cancellation on or Before"}),(0,_t.jsx)("th",{style:{textAlign:"left",padding:"10px 8px",border:"1px solid #e5e7eb"},children:"Cancellation Charges/Comments"})]})}),(0,_t.jsx)("tbody",{children:s.length>0?s.map((e,n)=>(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{style:{padding:"10px 8px",border:"1px solid #e5e7eb"},children:l(e.fdt)}),(0,_t.jsx)("td",{style:{padding:"10px 8px",border:"1px solid #e5e7eb"},children:l(e.tdt)}),(0,_t.jsxs)("td",{style:{padding:"10px 8px",border:"1px solid #e5e7eb"},children:["\u20b9",ge(t,e).toLocaleString("en-IN")]})]},n)):(0,_t.jsx)("tr",{children:(0,_t.jsx)("td",{style:{padding:"10px 8px",border:"1px solid #e5e7eb"},colSpan:3,children:"No detailed slabs available for this option."})})})]}),(0,_t.jsx)("div",{style:{marginTop:12,color:"#374151",fontSize:14},children:i})]}):(0,_t.jsxs)("div",{style:{color:"#374151",fontSize:14,display:"grid",gap:10},children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("strong",{children:"Room:"})," ",(null===n||void 0===n?void 0:n.rc)||"Room"]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("strong",{children:"Dates:"})," ",r," to ",o]}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("strong",{children:"Policy:"})," ",i]}),(0,_t.jsx)("div",{children:i})]})})()]})]})})]}):(0,_t.jsx)("div",{className:"hotel-detail-container",children:(0,_t.jsxs)("div",{className:"error-message-info",children:[(0,_t.jsx)("h2",{children:"No Data Available"}),(0,_t.jsxs)("button",{onClick:()=>o(-1),className:"btn-back",children:[(0,_t.jsx)(Ei,{size:20})," Go Back"]})]})})}const Bi=()=>{const e=ae(),[t,n]=(0,i.useState)({from:"",to:"",travelDate:""}),[a,s]=(0,i.useState)({}),[l,r]=(0,i.useState)([]),[o,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),p=[{name:"Delhi",state:"Delhi",country:"India"},{name:"Mumbai",state:"Maharashtra",country:"India"},{name:"Bangalore",state:"Karnataka",country:"India"},{name:"Chennai",state:"Tamil Nadu",country:"India"},{name:"Kolkata",state:"West Bengal",country:"India"},{name:"Hyderabad",state:"Telangana",country:"India"},{name:"Pune",state:"Maharashtra",country:"India"},{name:"Ahmedabad",state:"Gujarat",country:"India"},{name:"Jaipur",state:"Rajasthan",country:"India"},{name:"Kanpur",state:"Uttar Pradesh",country:"India"},{name:"Lucknow",state:"Uttar Pradesh",country:"India"},{name:"Nagpur",state:"Maharashtra",country:"India"},{name:"Indore",state:"Madhya Pradesh",country:"India"},{name:"Bhopal",state:"Madhya Pradesh",country:"India"},{name:"Visakhapatnam",state:"Andhra Pradesh",country:"India"},{name:"Patna",state:"Bihar",country:"India"},{name:"Vadodara",state:"Gujarat",country:"India"},{name:"Ludhiana",state:"Punjab",country:"India"},{name:"Agra",state:"Uttar Pradesh",country:"India"},{name:"Nashik",state:"Maharashtra",country:"India"}],v=e=>{const{name:i,value:l}=e.target;if(n(He(He({},t),{},{[i]:l})),a[i]&&s(He(He({},a),{},{[i]:""})),"from"===i)if(l.length>=2){const e=p.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.state.toLowerCase().includes(l.toLowerCase()));r(e.slice(0,5)),u(!0)}else r([]),u(!1);else if("to"===i)if(l.length>=2){const e=p.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.state.toLowerCase().includes(l.toLowerCase()));c(e.slice(0,5)),m(!0)}else c([]),m(!1)},f=(e,a)=>{const s="".concat(e.name,", ").concat(e.state);n(He(He({},t),{},{[a]:s})),"from"===a?(u(!1),r([])):(m(!1),c([]))},g=(e=>{if(!e)return"";const t=new Date(e),n=t.getDate(),a=t.toLocaleDateString("en-US",{month:"short"}),s=t.getFullYear().toString().slice(-2),i=t.toLocaleDateString("en-US",{weekday:"long"});return{day:n,monthYear:"".concat(a,"'").concat(s),dayName:i}})(t.travelDate);return(0,_t.jsxs)("div",{className:"bus-booking-container",children:[(0,_t.jsx)("div",{className:"bus-booking-background",children:(0,_t.jsx)("div",{className:"bus-booking-overlay"})}),(0,_t.jsx)("div",{className:"bus-booking-content",children:(0,_t.jsxs)("div",{className:"bus-booking-card",children:[(0,_t.jsx)("div",{className:"bus-booking-title",children:"Bus Ticket Booking"}),(0,_t.jsxs)("form",{onSubmit:n=>{if(n.preventDefault(),!(()=>{const e={};if(t.from.trim()||(e.from="Please select departure city"),t.to.trim()||(e.to="Please select destination city"),t.from&&t.to&&t.from===t.to&&(e.to="Departure and destination cannot be the same"),t.travelDate){const n=new Date(t.travelDate),a=new Date;a.setHours(0,0,0,0),n<a&&(e.travelDate="Travel date cannot be in the past")}else e.travelDate="Please select travel date";return s(e),0===Object.keys(e).length})())return;const a={from:t.from,to:t.to,travelDate:t.travelDate,searchType:"bus"};localStorage.setItem("busSearchData",JSON.stringify(a));if(!localStorage.getItem("user"))return sessionStorage.setItem("redirectAfterLogin","/bus-results"),void window.dispatchEvent(new CustomEvent("showLoginModal"));e("/bus-results")},className:"bus-booking-form",children:[(0,_t.jsxs)("div",{className:"bus-booking-form-row",children:[(0,_t.jsxs)("div",{className:"bus-booking-input-group",children:[(0,_t.jsx)("label",{className:"bus-booking-field-label",children:"From"}),(0,_t.jsxs)("div",{className:"bus-booking-input-container",children:[(0,_t.jsx)("input",{type:"text",name:"from",value:t.from,onChange:v,placeholder:"Enter departure city",className:"bus-booking-input",autoComplete:"off"}),d&&l.length>0&&(0,_t.jsx)("div",{className:"bus-booking-suggestions",children:l.map((e,t)=>(0,_t.jsxs)("div",{className:"bus-booking-suggestion-item",onClick:()=>f(e,"from"),children:[(0,_t.jsxs)("div",{className:"bus-booking-city-name",children:[e.name,", ",e.state]}),(0,_t.jsx)("div",{className:"bus-booking-city-country",children:e.country})]},t))})]}),a.from&&(0,_t.jsx)("div",{className:"bus-booking-error-msg-alert",children:a.from})]}),(0,_t.jsx)("button",{type:"button",className:"bus-booking-swap-btn",onClick:()=>{n(He(He({},t),{},{from:t.to,to:t.from}))},title:"Swap cities",children:(0,_t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"})})}),(0,_t.jsxs)("div",{className:"bus-booking-input-group",children:[(0,_t.jsx)("label",{className:"bus-booking-field-label",children:"To"}),(0,_t.jsxs)("div",{className:"bus-booking-input-container",children:[(0,_t.jsx)("input",{type:"text",name:"to",value:t.to,onChange:v,placeholder:"Enter destination city",className:"bus-booking-input",autoComplete:"off"}),h&&o.length>0&&(0,_t.jsx)("div",{className:"bus-booking-suggestions",children:o.map((e,t)=>(0,_t.jsxs)("div",{className:"bus-booking-suggestion-item",onClick:()=>f(e,"to"),children:[(0,_t.jsxs)("div",{className:"bus-booking-city-name",children:[e.name,", ",e.state]}),(0,_t.jsx)("div",{className:"bus-booking-city-country",children:e.country})]},t))})]}),a.to&&(0,_t.jsx)("div",{className:"bus-booking-error-msg-alert",children:a.to})]}),(0,_t.jsxs)("div",{className:"bus-booking-input-group",children:[(0,_t.jsx)("label",{className:"bus-booking-field-label",children:"Travel Date"}),(0,_t.jsxs)("div",{className:"bus-booking-date-container",onClick:()=>{const e=document.getElementById("bus-travel-date");e&&(e.showPicker?e.showPicker():(e.focus(),e.click()))},children:[(0,_t.jsx)("input",{type:"date",id:"bus-travel-date",name:"travelDate",value:t.travelDate,onChange:v,min:(new Date).toISOString().split("T")[0],className:"bus-booking-date-input"}),(0,_t.jsx)("div",{className:"bus-booking-date-display",children:t.travelDate?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"bus-booking-date-day",children:g.day}),(0,_t.jsx)("div",{className:"bus-booking-date-month",children:g.monthYear}),(0,_t.jsx)("div",{className:"bus-booking-date-weekday",children:g.dayName})]}):(0,_t.jsx)("div",{className:"bus-booking-date-placeholder",children:"Select Date"})}),(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",className:"bus-booking-date-icon",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})]}),a.travelDate&&(0,_t.jsx)("div",{className:"bus-booking-error-msg-alert",children:a.travelDate})]})]}),(0,_t.jsx)("button",{type:"submit",className:"bus-booking-search-btn",children:"SEARCH"})]})]})})]})},_i=()=>{const[e,t]=(0,i.useState)("airport"),[n,a]=(0,i.useState)({from:"",to:"",pickupDate:"",pickupTime:"",travellers:1}),s=e=>{const{name:t,value:n}=e.target;a(e=>He(He({},e),{},{[t]:n}))},l=e=>{a(t=>He(He({},t),{},{travellers:Math.max(1,t.travellers+e)}))};return(0,_t.jsx)("div",{className:"cab-transfer-page",children:(0,_t.jsx)("div",{className:"cab-hero-section",children:(0,_t.jsxs)("div",{className:"cab-hero-wrapper",children:[(0,_t.jsx)("h1",{className:"cab-main-heading",children:"Hassle-free Cab Transfers Across the World"}),(0,_t.jsxs)("form",{className:"cab-booking-form",onSubmit:e=>{e.preventDefault(),console.log("Cab search submitted:",n)},children:[(0,_t.jsxs)("div",{className:"cab-transfer-tabs",children:[(0,_t.jsx)("button",{type:"button",className:"cab-tab-button ".concat("airport"===e?"active":""),onClick:()=>t("airport"),children:"Airport Transfers"}),(0,_t.jsx)("button",{type:"button",className:"cab-tab-button ".concat("oneway"===e?"active":""),onClick:()=>t("oneway"),children:"One way"})]}),(0,_t.jsxs)("div",{className:"cab-search-fields",children:[(0,_t.jsxs)("div",{className:"cab-input-group",children:[(0,_t.jsx)("label",{className:"cab-field-label",children:"From"}),(0,_t.jsxs)("div",{className:"cab-input-wrapper",children:[(0,_t.jsx)("div",{className:"cab-input-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"from",placeholder:"Where from?",value:n.from,onChange:s,className:"cab-text-input"})]})]}),(0,_t.jsxs)("div",{className:"cab-input-group",children:[(0,_t.jsx)("label",{className:"cab-field-label",children:"To"}),(0,_t.jsxs)("div",{className:"cab-input-wrapper",children:[(0,_t.jsx)("div",{className:"cab-input-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})})}),(0,_t.jsx)("input",{type:"text",name:"to",placeholder:"Where to?",value:n.to,onChange:s,className:"cab-text-input"})]})]}),(0,_t.jsxs)("div",{className:"cab-input-group",children:[(0,_t.jsx)("label",{className:"cab-field-label",children:"Pick up Date"}),(0,_t.jsxs)("div",{className:"cab-input-wrapper",children:[(0,_t.jsx)("div",{className:"cab-input-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})}),(0,_t.jsx)("input",{type:"date",name:"pickupDate",placeholder:"Select Date",value:n.pickupDate,onChange:s,className:"cab-text-input"})]})]}),(0,_t.jsxs)("div",{className:"cab-input-group",children:[(0,_t.jsx)("label",{className:"cab-field-label",children:"Pick up Time"}),(0,_t.jsxs)("div",{className:"cab-input-wrapper",children:[(0,_t.jsx)("div",{className:"cab-input-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"})})}),(0,_t.jsx)("input",{type:"time",name:"pickupTime",placeholder:"Select Time",value:n.pickupTime,onChange:s,className:"cab-text-input"})]})]}),(0,_t.jsxs)("div",{className:"cab-input-group",children:[(0,_t.jsx)("label",{className:"cab-field-label",children:"Traveller"}),(0,_t.jsxs)("div",{className:"cab-input-wrapper",children:[(0,_t.jsx)("div",{className:"cab-input-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:(0,_t.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01.99L12 13l-1.5-2c-.47-.62-1.21-.99-2.01-.99H6.46c-.8 0-1.54.37-2.01.99L2 17.5V22h16z"})})}),(0,_t.jsxs)("div",{className:"cab-traveller-counter",children:[(0,_t.jsx)("button",{type:"button",className:"cab-counter-btn",onClick:()=>l(-1),disabled:n.travellers<=1,children:"-"}),(0,_t.jsx)("span",{className:"cab-traveller-count",children:n.travellers}),(0,_t.jsx)("button",{type:"button",className:"cab-counter-btn",onClick:()=>l(1),children:"+"})]})]})]}),(0,_t.jsx)("button",{type:"submit",className:"cab-search-btn",children:"Search"})]})]})]})})})},zi=()=>{const[e,t]=(0,i.useState)({name:"",email:"",mobile:"",travellers:"",preferredCountry:"",termsAccepted:!1}),n=(e,n)=>{t(t=>He(He({},t),{},{[e]:n}))};return(0,_t.jsx)("div",{className:"application-wrapper",children:(0,_t.jsxs)("div",{className:"application-card",children:[(0,_t.jsx)("h1",{className:"application-header",children:"Apply for a Visa : On Time"}),(0,_t.jsxs)("form",{className:"application-form",onSubmit:n=>{if(n.preventDefault(),!e.name.trim())return void alert("Please enter your name");if(!e.email.trim())return void alert("Please enter your registered email");if(!e.mobile.trim())return void alert("Please enter your registered mobile number");if(!e.travellers)return void alert("Please enter number of travellers");if(!e.preferredCountry.trim())return void alert("Please enter your preferred country");if(!e.termsAccepted)return void alert("Please accept the terms and conditions");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email))return void alert("Please enter a valid email address");/^[0-9]{10}$/.test(e.mobile)?e.travellers<1?alert("Number of travellers must be at least 1"):(console.log("Form submitted:",e),alert("Visa application submitted successfully!"),t({name:"",email:"",mobile:"",travellers:"",preferredCountry:"",termsAccepted:!1})):alert("Please enter a valid 10-digit mobile number")},children:[(0,_t.jsxs)("div",{className:"inputs-container",children:[(0,_t.jsxs)("div",{className:"input-wrapper",children:[(0,_t.jsxs)("label",{className:"input-title",children:["NAME ",(0,_t.jsx)("span",{className:"required",children:"*"})]}),(0,_t.jsx)("input",{type:"text",placeholder:"Enter your full name",value:e.name,onChange:e=>n("name",e.target.value),className:"text-field",required:!0})]}),(0,_t.jsxs)("div",{className:"input-wrapper",children:[(0,_t.jsxs)("label",{className:"input-title",children:["REGISTERED EMAIL ID ",(0,_t.jsx)("span",{className:"required",children:"*"})]}),(0,_t.jsx)("input",{type:"email",placeholder:"Enter your registered email",value:e.email,onChange:e=>n("email",e.target.value),className:"text-field",required:!0})]}),(0,_t.jsxs)("div",{className:"input-wrapper",children:[(0,_t.jsxs)("label",{className:"input-title",children:["REGISTERED MOBILE NUMBER ",(0,_t.jsx)("span",{className:"required",children:"*"})]}),(0,_t.jsx)("input",{type:"tel",placeholder:"Enter your 10-digit mobile number",value:e.mobile,onChange:e=>n("mobile",e.target.value),className:"text-field",maxLength:"10",required:!0})]}),(0,_t.jsxs)("div",{className:"input-wrapper",children:[(0,_t.jsxs)("label",{className:"input-title",children:["NUMBER OF TRAVELLERS ",(0,_t.jsx)("span",{className:"required",children:"*"})]}),(0,_t.jsx)("input",{type:"number",placeholder:"Enter number of travellers",value:e.travellers,onChange:e=>n("travellers",e.target.value),className:"text-field",min:"1",required:!0})]}),(0,_t.jsxs)("div",{className:"input-wrapper",children:[(0,_t.jsxs)("label",{className:"input-title",children:["PREFERRED COUNTRY TO APPLY VISA ",(0,_t.jsx)("span",{className:"required",children:"*"})]}),(0,_t.jsx)("input",{type:"text",placeholder:"Enter your preferred country",value:e.preferredCountry,onChange:e=>n("preferredCountry",e.target.value),className:"text-field",required:!0})]}),(0,_t.jsx)("div",{className:"input-wrapper checkbox-wrapper",children:(0,_t.jsxs)("label",{className:"checkbox-labels",children:[(0,_t.jsx)("input",{type:"checkbox",checked:e.termsAccepted,onChange:e=>n("termsAccepted",e.target.checked),required:!0}),(0,_t.jsxs)("span",{className:"checkbox-text",children:["I accept the By completing and submitting this form you agree to the terms and conditions. A full copy of the T&C can be viewed at ",(0,_t.jsx)("a",{href:"/terms-and-conditions.html",target:"_blank",rel:"noopener noreferrer",children:"Terms and Conditions"})," ",(0,_t.jsx)("span",{className:"required",children:"*"})]})]})})]}),(0,_t.jsx)("button",{type:"submit",className:"submit-btn",children:"SUBMIT"})]})]})})},Ui=e=>{if(null===e||void 0===e||!e.routeInfos)return!1;const t=["BLR","DEL","MAA","BOM","HYD","CCU","COK","GOI","PNQ","AMD","JAI","VNS","PAT","LKO","KNU","NAG","IDR","BHO","RPR","JLR","IXC","UDR","JDH","BBI","RJA","VGA","TIR","CJB","TRZ","IXM","TRV","CCJ","BDQ","SXR","IXL","DED","DHM","SHL","GAU","IXR","IXA","IXB","IXD","IXE","IXG","IXI","IXJ","IXK","IXN","IXP","IXQ","IXS","IXT","IXU","IXV","IXW","IXY","IXZ"];return e.routeInfos.some(e=>{var n,a;const s=null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,i=null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code;return!t.includes(s)||!t.includes(i)})},Hi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(!e||"object"!==typeof e)return!1;if(t.has(e))return!1;t.add(e);const n=e.gst||e.GST||e.gstInfo||e.GstInfo;if(n&&"object"===typeof n){const e=!0===n.gstappl||!0===n.gstAppl||!0===n.GSTAPPL,t=!0===n.igm||!0===n.IGM;if(e&&t)return!0}if(e.tripInfos&&Array.isArray(e.tripInfos))for(const a of e.tripInfos)if(Hi(a,t))return!0;for(const a in e)if(e.hasOwnProperty(a)&&"object"===typeof e[a]&&null!==e[a]&&!Array.isArray(e[a])&&"gst"!==a&&"GST"!==a&&"gstInfo"!==a&&"GstInfo"!==a&&"tripInfos"!==a&&Hi(e[a],t))return!0;return!1},qi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"root";if(!e||"object"!==typeof e)return null;if(t.has(e))return null;if(t.add(e),console.log("\ud83d\udd0d extractReviewMessages checking path: ".concat(n),{keys:Object.keys(e),hasMessages:Array.isArray(e.messages),hasAlerts:Array.isArray(e.alerts),hasTripInfos:Array.isArray(e.tripInfos),messagesLength:Array.isArray(e.messages)?e.messages.length:0}),Array.isArray(e.messages)&&e.messages.length>0){console.log("\u2705 Found messages array at ".concat(n," with ").concat(e.messages.length," messages"));const t=[];for(let n=0;n<e.messages.length;n++){const a=e.messages[n];if(a&&"object"===typeof a){const e=a.message||a.text||a.description||a.info;if(e&&"string"===typeof e){const s=e.trim();s&&s.length>0&&(t.push({type:a.type||"INFO",message:s}),console.log("\u2705 Added message[".concat(n,"]:"),{type:a.type,message:s}))}}}if(t.length>0)return console.log("\u2705 Returning ".concat(t.length," valid messages")),t}if(Array.isArray(e.tripInfos)){console.log("\ud83d\udd0d Checking ".concat(e.tripInfos.length," tripInfos at ").concat(n));for(let a=0;a<e.tripInfos.length;a++){const s=e.tripInfos[a];if(s&&"object"===typeof s){if(Array.isArray(s.messages)&&s.messages.length>0){console.log("\u2705 Found messages array in tripInfos[".concat(a,"]"));const e=[];for(let t=0;t<s.messages.length;t++){const n=s.messages[t];if(n&&"object"===typeof n){const t=n.message||n.text||n.description||n.info;if(t&&"string"===typeof t){const a=t.trim();a&&a.length>0&&e.push({type:n.type||"INFO",message:a})}}}if(e.length>0)return console.log("\u2705 Returning ".concat(e.length," valid messages from tripInfos[").concat(a,"]")),e}const e=qi(s,t,"".concat(n,".tripInfos[").concat(a,"]"));if(e)return e}}}for(const a in e)if(e.hasOwnProperty(a)&&"object"===typeof e[a]&&null!==e[a]){if("alerts"===a||"tripInfos"===a||"messages"===a)continue;if(Array.isArray(e[a]))for(let s=0;s<e[a].length;s++){const i=e[a][s];if(i&&"object"===typeof i){const e=qi(i,t,"".concat(n,".").concat(a,"[").concat(s,"]"));if(e)return e}}else if(!Array.isArray(e[a])){const s=qi(e[a],t,"".concat(n,".").concat(a));if(s)return s}}return null},Wi=e=>{let{data:t}=e;const[n,a]=(0,i.useState)("cancellation");if(console.log("\ud83d\udd0d FareRulesDisplay received data:",t),!t)return console.log("\u274c No data provided to FareRulesDisplay"),(0,_t.jsx)("div",{className:"fare-rules-error",children:"No fare rules data available"});const s=(e,t)=>{if(void 0===e||void 0===t)return"";const n=e=>{const t=Number(e);return Number.isFinite(t)?t:0},a=Math.round(n(e)),s=Math.round(n(t)),i=e=>"".concat(e," hrs"),l=e=>"".concat(e," ").concat(1===e?"day":"days");if(s<74)return"From ".concat(i(a)," to ").concat(i(74));if(a<74&&s>=74){const e=Math.round(s/24);return"From ".concat(i(74)," to ").concat(l(e))}const r=Math.round(a/24),o=Math.round(s/24);return"From ".concat(l(r)," to ").concat(l(o))};return(0,_t.jsxs)("div",{className:"fare-rules-display",children:[t.errors&&t.errors.length>0&&(0,_t.jsxs)("div",{className:"fare-rules-errors",children:[(0,_t.jsx)("h4",{children:"Errors"}),t.errors.map((e,t)=>(0,_t.jsxs)("div",{className:"fare-rule-error",children:[(0,_t.jsx)("span",{className:"error-code",children:e.errCode}),(0,_t.jsx)("span",{className:"error-message",children:e.message})]},t))]}),((e,i,l)=>{const r=t;if(console.log("\ud83d\udd0d Processing fare rules data:",r),r){let e=[],t=[],i=[],l=[];const o=(e,t)=>{for(const n of t)if(e[n]){if(Array.isArray(e[n]))return e[n];if("object"===typeof e[n])return Object.values(e[n]).filter(Array.isArray).flat()}return[]};if(e=o(r,["CANCELLATION","cancellation","Cancellation","CANCEL","cancel","fareRuleInformation","fareRules","rules"]),t=o(r,["DATECHANGE","dateChange","DateChange","DATE_CHANGE","date_change","CHANGEFEE","changeFee","ChangeFee","CHANGE_FEE","change_fee"]),i=o(r,["NO_SHOW","NOSHOW","noShow","NoShow","NO_SHOW_FEE","no_show_fee","POST_DEPARTURE","postDeparture","PostDeparture"]),l=o(r,["SEAT_CHARGEABLE","seatChargeable","SeatChargeable","SEAT_FEE","seatFee","SEAT_SELECTION","seatSelection","SeatSelection"]),0===e.length&&0===t.length&&0===i.length&&0===l.length){if(console.log("\ud83d\udd0d No direct fare rules found, checking nested structures..."),r.fareRuleInformation){const n=r.fareRuleInformation;e=o(n,["CANCELLATION","cancellation","tfr"]),t=o(n,["DATECHANGE","dateChange"]),i=o(n,["NO_SHOW","NOSHOW","noShow"]),l=o(n,["SEAT_CHARGEABLE","seatChargeable"])}r.tfr&&(e=o(r.tfr,["CANCELLATION","cancellation"]),t=o(r.tfr,["DATECHANGE","dateChange"]),i=o(r.tfr,["NO_SHOW","NOSHOW","noShow"]),l=o(r.tfr,["SEAT_CHARGEABLE","seatChargeable"])),r.data&&(e=o(r.data,["CANCELLATION","cancellation","tfr"]),t=o(r.data,["DATECHANGE","dateChange"]),i=o(r.data,["NO_SHOW","NOSHOW","noShow"]),l=o(r.data,["SEAT_CHARGEABLE","seatChargeable"]))}return console.log("\ud83d\udd0d Extracted fare rules:",{cancellation:e.length,dateChange:t.length,noShow:i.length,seatChargeable:l.length}),(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"fare-rules-switcher",children:[(0,_t.jsx)("button",{className:"fare-rule-tab ".concat("cancellation"===n?"active":""),onClick:()=>a("cancellation"),children:"Cancellation"}),(0,_t.jsx)("button",{className:"fare-rule-tab ".concat("dateChange"===n?"active":""),onClick:()=>a("dateChange"),children:"Date Change"}),(0,_t.jsx)("button",{className:"fare-rule-tab ".concat("noShow"===n?"active":""),onClick:()=>a("noShow"),children:"No Show"}),(0,_t.jsx)("button",{className:"fare-rule-tab ".concat("seatChargeable"===n?"active":""),onClick:()=>a("seatChargeable"),children:"Seat Chargeable"})]}),(0,_t.jsx)("p",{className:"instruction-text",children:"* To view charges, click on the tabs above."}),(0,_t.jsxs)("div",{className:"rules-section",style:{display:"cancellation"===n?"block":"none"},children:[(0,_t.jsx)("h4",{className:"fare-rule-titling",children:"Cancellation Policy"}),0===e.length?(0,_t.jsx)("p",{children:"No cancellation rules provided."}):(0,_t.jsx)("ul",{children:e.map((e,t)=>(0,_t.jsx)("li",{className:"fare-rule-li",children:(()=>{const t=[];e.policyInfo&&t.push(e.policyInfo),e.amount&&t.push("\u20b9".concat(Number(e.amount).toLocaleString("en-IN"))),e.additionalFee&&t.push("+ \u20b9".concat(Number(e.additionalFee).toLocaleString("en-IN")));const n=s(e.st,e.et);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("span",{className:"fare-rule-left",children:t.join(" ")}),(0,_t.jsx)("span",{className:"fare-rule-right",children:n})]})})()},"c-".concat(t)))})]}),(0,_t.jsxs)("div",{className:"rules-section",style:{display:"dateChange"===n?"block":"none"},children:[(0,_t.jsx)("h4",{className:"fare-rule-titling",children:"Date Change Policy"}),0===t.length?(0,_t.jsx)("p",{children:"No date change rules provided."}):(0,_t.jsx)("ul",{children:t.map((e,t)=>(0,_t.jsx)("li",{className:"fare-rule-li",children:(()=>{const t=[];e.policyInfo&&t.push(e.policyInfo),e.amount&&t.push("\u20b9".concat(Number(e.amount).toLocaleString("en-IN"))),e.additionalFee&&t.push("+ \u20b9".concat(Number(e.additionalFee).toLocaleString("en-IN")));const n=s(e.st,e.et);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("span",{className:"fare-rule-left",children:t.join(" ")}),(0,_t.jsx)("span",{className:"fare-rule-right",children:n})]})})()},"d-".concat(t)))})]}),(0,_t.jsxs)("div",{className:"rules-section",style:{display:"noShow"===n?"block":"none"},children:[(0,_t.jsx)("h4",{className:"fare-rule-titling",children:"No Show Fee (Post Departure)"}),0===i.length?(0,_t.jsx)("p",{children:"As Per Airline Rule + Surcharge."}):(0,_t.jsx)("ul",{children:i.map((e,t)=>(0,_t.jsx)("li",{className:"fare-rule-li",children:(()=>{const t=[];e.policyInfo&&t.push(e.policyInfo),e.amount&&t.push("\u20b9".concat(Number(e.amount).toLocaleString("en-IN"))),e.additionalFee&&t.push("+ \u20b9".concat(Number(e.additionalFee).toLocaleString("en-IN")));const n=s(e.st,e.et);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("span",{className:"fare-rule-left",children:t.join(" ")}),(0,_t.jsx)("span",{className:"fare-rule-right",children:n})]})})()},"n-".concat(t)))})]}),(0,_t.jsxs)("div",{className:"rules-section",style:{display:"seatChargeable"===n?"block":"none"},children:[(0,_t.jsx)("h4",{className:"fare-rule-titling",children:"Seat Chargeable Fee"}),0===l.length?(0,_t.jsx)("p",{children:"As Per Airline Policy."}):(0,_t.jsx)("ul",{children:l.map((e,t)=>(0,_t.jsx)("li",{className:"fare-rule-li",children:(()=>{const t=[];e.policyInfo&&t.push(e.policyInfo),e.amount&&t.push("\u20b9".concat(Number(e.amount).toLocaleString("en-IN"))),e.additionalFee&&t.push("+ \u20b9".concat(Number(e.additionalFee).toLocaleString("en-IN")));const n=s(e.st,e.et);return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("span",{className:"fare-rule-left",children:t.join(" ")}),(0,_t.jsx)("span",{className:"fare-rule-right",children:n})]})})()},"s-".concat(t)))})]}),(0,_t.jsxs)("div",{className:"fare-rules-notes",children:[(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"The airline fee is indicative, which will depend upon the time of cancellation / re-issue as per the airline fare rules."})}),(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"Mentioned fees are Per Pax Per Sector"})}),(0,_t.jsx)("div",{className:"note-item",children:(0,_t.jsx)("p",{children:"Apart from airline charges, GST + RAF + applicable charges if any, will be charged."})})]})]})}return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"rules-section",children:[(0,_t.jsx)("h4",{children:"Cancellation Policy"}),(0,_t.jsx)("p",{children:(null===(e=t.fareRules)||void 0===e?void 0:e.cancellation)||"Standard cancellation policy applies"})]}),(0,_t.jsxs)("div",{className:"rules-section",children:[(0,_t.jsx)("h4",{children:"Date Change Policy"}),(0,_t.jsx)("p",{children:(null===(i=t.fareRules)||void 0===i?void 0:i.change)||"Date changes allowed with fare difference"})]}),(0,_t.jsxs)("div",{className:"rules-section",children:[(0,_t.jsx)("h4",{children:"Refund Policy"}),(0,_t.jsx)("p",{children:(null===(l=t.fareRules)||void 0===l?void 0:l.refund)||"Non-refundable fare"})]})]})})()]})},Gi=e=>{let{bookingData:t,onNext:n,onPrev:a,onComplete:s,currentStep:l,totalSteps:r,timeLeft:o}=e;const{flightData:c}=t,[d,u]=(0,i.useState)({}),[h,m]=(0,i.useState)({}),[p,v]=(0,i.useState)({}),[f,g]=(0,i.useState)({}),[x,b]=(0,i.useState)(!0),[y,N]=(0,i.useState)(!1),[j,w]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),[C,I]=(0,i.useState)(null),[A,D]=(0,i.useState)(!1),[E,P]=(0,i.useState)(!1),[T,R]=(0,i.useState)(null),[F,O]=(0,i.useState)(!1),[L,M]=(0,i.useState)(null),[B,_]=(0,i.useState)(0),[z,U]=(0,i.useState)(!1),[H,q]=(0,i.useState)(null),[W,G]=(0,i.useState)(!1),[V,K]=(0,i.useState)(!1),[$,Y]=(0,i.useState)(null),[X,J]=(0,i.useState)(!1),[Q,Z]=(0,i.useState)([]),ee=e=>{var t,n,a,s,i,l,r,o,c,d;return(null===e||void 0===e||null===(t=e.fareDetails)||void 0===t?void 0:t.priceId)||(null===e||void 0===e||null===(n=e.fareDetails)||void 0===n?void 0:n.id)||(null===e||void 0===e||null===(a=e.selectedFare)||void 0===a?void 0:a.id)||(null===e||void 0===e||null===(s=e.selectedFare)||void 0===s?void 0:s.priceId)||(null===e||void 0===e||null===(i=e.flight)||void 0===i||null===(l=i.totalPriceList)||void 0===l||null===(r=l[(null===e||void 0===e?void 0:e.selectedFareIndex)||0])||void 0===r?void 0:r.id)||(null===e||void 0===e||null===(o=e.flight)||void 0===o||null===(c=o.totalPriceList)||void 0===c||null===(d=c[(null===e||void 0===e?void 0:e.selectedFareIndex)||0])||void 0===d?void 0:d.priceId)},{searchData:te,selectedFlights:ne,paxInfo:ae}=c,se=(null===te||void 0===te?void 0:te.tripType)||"oneway";(0,i.useEffect)(()=>{(async()=>{b(!0);try{const t=new Set,n=new Set;Object.values(ne).forEach(e=>{var a;((null===(a=e.flight)||void 0===a?void 0:a.sI)||[]).forEach(e=>{var a,s,i,l,r,o,c;null!==(a=e.da)&&void 0!==a&&a.code&&t.add(e.da.code),null!==(s=e.aa)&&void 0!==s&&s.code&&t.add(e.aa.code),null!==(i=e.fD)&&void 0!==i&&null!==(l=i.aI)&&void 0!==l&&l.code&&n.add(e.fD.aI.code),null!==(r=e.fd)&&void 0!==r&&null!==(o=r.aI)&&void 0!==o&&o.code&&n.add(e.fd.aI.code),null!==(c=e.airline)&&void 0!==c&&c.code&&n.add(e.airline.code)})});const a=Array.from(t).map(async e=>({code:e,cityName:await Ds(e)})),s=await Promise.all(a),i={};s.forEach(e=>{let{code:t,cityName:n}=e;i[t]=n}),u(i);try{const e=await Ss(),n={};Array.from(t).forEach(t=>{const a=e.find(e=>e.code===t);a&&(n[t]={city:a.city,name:a.name,state:a.state,country:a.country})}),g(n)}catch(e){console.error("Error fetching airport data:",e)}console.log("Airline codes found:",Array.from(n));const l=Array.from(n).map(async e=>{const t=await Es(e);return console.log("Airline code: ".concat(e,", Name: ").concat(t)),{code:e,airlineName:t}}),r=await Promise.all(l),o={};r.forEach(e=>{let{code:t,airlineName:n}=e;o[t]=n}),console.log("Airline name map:",o),m(o);const c=Array.from(n).map(async e=>({code:e,airlineLogo:await Ps(e)})),d=await Promise.all(c),h={};d.forEach(e=>{let{code:t,airlineLogo:n}=e;h[t]=n}),v(h)}catch(e){console.error("Error loading flight data:",e)}finally{b(!1)}})()},[ne]),(0,i.useEffect)(()=>{const e=Ui(te),t=C||(null===c||void 0===c?void 0:c.reviewResponse);if(t){Hi(t)&&(q("For SME bookings, GST details are mandatory."),U(!0),G(!0));const n=((null===t||void 0===t?void 0:t.alerts)||[]).find(e=>"FAREALERT"===(null===e||void 0===e?void 0:e.type));n&&(console.log("\u26a0\ufe0f Fare alert detected on mount:",n),Y(n),K(!0)),console.log("\ud83d\udd0d Checking for review messages:",{isInternational:e,hasReviewResponse:!!t,reviewResponseKeys:t?Object.keys(t):[]});const a=qi(t);console.log("\ud83d\udce2 Messages extraction result:",a),a&&Array.isArray(a)&&a.length>0?(console.log("\u2705 Review messages detected for ".concat(e?"international":"domestic"," flight:"),a),Z(a),J(!0)):console.log("\u26a0\ufe0f No messages found in review response for ".concat(e?"international":"domestic"," flight"))}if(Hi(c)&&(q("For SME bookings, GST details are mandatory."),U(!0),G(!0)),null!==c&&void 0!==c&&c.fareAlert&&(Y(c.fareAlert),K(!0)),console.log("\ud83d\udd0d Checking flightData for review messages:",{isInternational:e,hasReviewResponse:!(null===c||void 0===c||!c.reviewResponse)}),null!==c&&void 0!==c&&c.reviewResponse){console.log("\ud83d\udd0d Extracting messages from flightData for ".concat(e?"international":"domestic"," flight..."));const t=qi(c.reviewResponse);console.log("\ud83d\udce2 Messages extraction result:",t),t&&Array.isArray(t)&&t.length>0?(console.log("\u2705 Review messages detected for ".concat(e?"international":"domestic"," flight:"),t),Z(t),J(!0)):console.log("\u26a0\ufe0f No messages found in flightData review response for ".concat(e?"international":"domestic"," flight"))}},[c,te]),(0,i.useEffect)(()=>{if(!C)return;const e=Ui(te);console.log("\ud83d\udd0d reviewResponse state updated, checking for messages:",{isInternational:e,hasReviewResponse:!!C,reviewResponseKeys:Object.keys(C)}),console.log("\ud83d\udd0d Extracting messages from reviewResponse state for ".concat(e?"international":"domestic"," flight..."));const t=qi(C);console.log("\ud83d\udce2 Messages extraction result from state:",t),t&&Array.isArray(t)&&t.length>0?(console.log("\u2705 Review messages detected for ".concat(e?"international":"domestic"," flight (from state):"),t),Z(t),J(!0)):console.log("\u26a0\ufe0f No messages found in reviewResponse state for ".concat(e?"international":"domestic"," flight"))},[C,te]),(0,i.useEffect)(()=>{(async()=>{if(null!==c&&void 0!==c&&c.reviewResponse&&null!==c&&void 0!==c&&c.bookingId){var e;console.log("\u2705 Using existing review response from flightData"),I(c.reviewResponse),S(c.bookingId),Hi(c.reviewResponse)&&(q("For SME bookings, GST details are mandatory."),G(!0),U(!0));const t=((null===(e=c.reviewResponse)||void 0===e?void 0:e.alerts)||[]).find(e=>"FAREALERT"===(null===e||void 0===e?void 0:e.type));t&&(Y(t),K(!0));const n=Ui(te);console.log("\ud83d\udd0d Checking for review messages (existing response):",{isInternational:n,hasReviewResponse:!!c.reviewResponse,reviewResponseKeys:c.reviewResponse?Object.keys(c.reviewResponse):[]}),console.log("\ud83d\udd0d Extracting messages from existing response for ".concat(n?"international":"domestic"," flight..."));const a=qi(c.reviewResponse);return console.log("\ud83d\udce2 Messages extraction result:",a),void(a&&Array.isArray(a)&&a.length>0?(console.log("\u2705 Review messages detected for ".concat(n?"international":"domestic"," flight:"),a),Z(a),J(!0)):console.log("\u26a0\ufe0f No messages found in existing review response for ".concat(n?"international":"domestic"," flight")))}if(null!==c&&void 0!==c&&c.selectedFlights&&0!==Object.keys(c.selectedFlights).length){D(!0),w(null);try{let e=(null===c||void 0===c?void 0:c.priceIds)||[];if(0===e.length?(console.log("PriceIds not pre-generated, generating them now..."),Object.values(c.selectedFlights).forEach((t,n)=>{const a=(null===t||void 0===t?void 0:t.fareDetails)||{},s=a.id;s?(e.push(s),console.log("Flight ".concat(n+1," priceId:"),s)):console.error("Price ID not found for flight ".concat(n+1,". Available fields:"),Object.keys(a))})):console.log("Using pre-generated priceIds:",e),0===e.length)throw new Error("Price IDs not found. Please select flights again.");console.log("\ud83d\udd04 Calling review API automatically on page load with priceIds:",e);const n=await Ns(e),a=null===n||void 0===n?void 0:n.bookingId;if(!a)throw new Error("Booking ID not received from server. Please try again.");I(n),S(a);try{"undefined"!==typeof window&&window.localStorage&&window.localStorage.setItem("tj_bookingId",a)}catch(t){}console.log("\u2705 Review API successful on page load. BookingId:",a),Hi(n)&&(q("For SME bookings, GST details are mandatory."),G(!0),U(!0));const s=((null===n||void 0===n?void 0:n.alerts)||[]).find(e=>"FAREALERT"===(null===e||void 0===e?void 0:e.type));s&&(console.log("\u26a0\ufe0f Fare alert detected:",s),Y(s),K(!0));const i=Ui(te);console.log("\ud83d\udd0d Checking for review messages (API response):",{isInternational:i,hasResponse:!!n,responseKeys:n?Object.keys(n):[],alerts:null===n||void 0===n?void 0:n.alerts,tripInfos:null===n||void 0===n?void 0:n.tripInfos}),console.log("\ud83d\udd0d Extracting messages from API response for ".concat(i?"international":"domestic"," flight..."));const l=qi(n);console.log("\ud83d\udce2 Messages extraction result:",l),l&&Array.isArray(l)&&l.length>0?(console.log("\u2705 Review messages detected for ".concat(i?"international":"domestic"," flight:"),l),Z(l),J(!0)):(console.log("\u26a0\ufe0f No messages found in API response for ".concat(i?"international":"domestic"," flight")),console.log("\ud83d\udccb Full response structure:",JSON.stringify(n,null,2)))}catch(n){console.error("\u274c Review API Error on page load:",n),w(n.message||"Failed to load booking review. Please try again.")}finally{D(!1)}}else console.log("\u26a0\ufe0f No selected flights available for review API")})()},[c]);const ie=(e,t)=>{if(Ui(te)){var n;const s=ne[e];if(null!==s&&void 0!==s&&null!==(n=s.flight)&&void 0!==n&&n.isCombo){if("round"===t)return"combo-round";if("multicity"===t)return"combo-multicity"}const i=e.match(/-(\d+)$/);if(i){var a;const e=parseInt(i[1]),n=Object.values(ne)[e];if(n&&void 0!==(null===(a=n.flight)||void 0===a?void 0:a.tripSegment)){if("round"===t)return 0===n.flight.tripSegment?"outbound":"return";if("multicity"===t)return"segment-".concat(n.flight.tripSegment)}}}if("round"===t)return e.includes("outbound")?"outbound":e.includes("return")?"return":e;if("multicity"===t){const t=e.match(/^(segment-\d+)/);return t?t[1]:e}return e},le=(e,t)=>{const n=Object.entries(e);if(console.log("\ud83d\udd04 FlightItinerary - Sorting selected flights:",{tripType:t,entries:n.map(e=>{let[t]=e;return t}),segmentKeys:n.map(e=>{let[n]=e;return ie(n,t)})}),"round"===t){const e=n.sort((e,n)=>{let[a]=e,[s]=n;const i=ie(a,t),l=ie(s,t);return console.log("\ud83d\udd04 FlightItinerary - Round-trip sorting:",{keyA:a,keyB:s,segmentA:i,segmentB:l}),"outbound"===i&&"return"===l?-1:"return"===i&&"outbound"===l?1:0});return console.log("\u2705 FlightItinerary - Round-trip sorted result:",e.map(e=>{let[t]=e;return t})),e}if("multicity"===t){const e=n.sort((e,n)=>{let[a]=e,[s]=n;const i=ie(a,t),l=ie(s,t);console.log("\ud83d\udd04 FlightItinerary - Multi-city sorting:",{keyA:a,keyB:s,segmentA:i,segmentB:l});const r=i.match(/segment-(\d+)/),o=l.match(/segment-(\d+)/);if(r&&o){const e=parseInt(r[1]),t=parseInt(o[1]),n=e-t;return console.log("\ud83d\udd04 FlightItinerary - Multi-city segment comparison:",{numA:e,numB:t,result:n}),n}return 0});return console.log("\u2705 FlightItinerary - Multi-city sorted result:",e.map(e=>{let[t]=e;return t})),e}return console.log("\u2705 FlightItinerary - One-way trip, no sorting needed"),n},re=e=>new Date(e).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),oe=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),ce=(e,t)=>{const n=new Date(e),a=new Date(t)-n,s=Math.floor(a/36e5),i=Math.floor(a%36e5/6e4);return"".concat(s,"h ").concat(i,"m")},de=e=>d[e]||e,ue=e=>p[e]||"/airlineLogo.png",he=()=>{if($&&$.newFare)return Number($.newFare);if(C){var e,t;const n=(null===C||void 0===C?void 0:C.totalFare)||(null===C||void 0===C||null===(e=C.fare)||void 0===e?void 0:e.totalFare)||(null===C||void 0===C||null===(t=C.fareDetails)||void 0===t?void 0:t.totalFare);if(n)return Number(n)}if(c.totalFare)return c.totalFare;let n=0;return Object.values(ne).forEach(e=>{const t=e.fareDetails;if(t){var a,s,i,l,r,o;const e=t.fd||t.fD||{},c=Number((null===e||void 0===e||null===(a=e.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===e||void 0===e||null===(i=e.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0);n+=Number(ae.ADULT||0)*c+Number(ae.CHILD||0)*d+Number(ae.INFANT||0)*u}}),n},me=()=>.75*he(),pe=function(e){var t,n;let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const i=e.sI||[];if(0===i.length)return null;const l=ce(i[0].dt,i[i.length-1].at),r=de(null===(t=i[0].da)||void 0===t?void 0:t.code),o=de(null===(n=i[i.length-1].aa)||void 0===n?void 0:n.code),c=i[0].dt,d=(i[i.length-1].at,(null===s||void 0===s?void 0:s.fareDetails)||(()=>{const t=Object.keys(ne).find(t=>ne[t].flight.id===e.id);return t?ne[t].fareDetails:null})());return(0,_t.jsxs)("div",{className:"flight-leg",children:[(0,_t.jsxs)("div",{className:"leg-header",children:[(0,_t.jsxs)("div",{className:"leg-route",children:[r," \u2192 ",o," on ",re(c)]}),(0,_t.jsx)("div",{className:"leg-duration",children:l})]}),i.map((e,t)=>{var n,a,s,l,r,o,c,u,m;const p=(null===(n=e.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)||(null===(s=e.fd)||void 0===s||null===(l=s.aI)||void 0===l?void 0:l.code)||(null===(r=e.airline)||void 0===r?void 0:r.code),v=(e=>e?h[e]||e:null)(p),g=(null===(o=e.fD)||void 0===o?void 0:o.fN)||(null===(c=e.fd)||void 0===c?void 0:c.fN)||e.flightNumber,x=e.da,b=e.aa,y=oe(e.dt),N=oe(e.at),j=ce(e.dt,e.at),w=t===i.length-1;return(0,_t.jsxs)("div",{className:"flight-segment",children:[(0,_t.jsxs)("div",{className:"segment-header",children:[(0,_t.jsxs)("div",{className:"airline-info",children:[(0,_t.jsx)("img",{src:ue(p),alt:p,className:"airline-logo",onError:e=>{e.target.src="/airlineLogo.png"}}),(0,_t.jsxs)("div",{className:"airline-details",children:[(0,_t.jsx)("div",{className:"airline-name",children:v||p}),(0,_t.jsx)("div",{className:"flight-number-display",children:(0,_t.jsxs)("span",{className:"complete-flight-number",children:[p,"-",g]})})]})]}),(0,_t.jsx)("div",{className:"segment-duration",children:j})]}),(0,_t.jsxs)("div",{className:"segment-details",children:[(0,_t.jsxs)("div",{className:"departure-info",children:[(0,_t.jsx)("div",{className:"time",children:y}),(0,_t.jsx)("div",{className:"date",children:re(e.dt)}),(0,_t.jsx)("div",{className:"city",children:de(x.code)}),(0,_t.jsxs)("div",{className:"airport",children:[x.name||"".concat(x.code," Airport"),(null===(u=f[x.code])||void 0===u?void 0:u.country)&&(0,_t.jsxs)("span",{className:"airport-country",children:[", ",f[x.code].country]})]}),(0,_t.jsxs)("div",{className:"terminal",children:[" ",x.terminal]}),x.gate&&(0,_t.jsxs)("div",{className:"gate",children:["Gate ",x.gate]})]}),(0,_t.jsxs)("div",{className:"flight-connection",children:[(0,_t.jsxs)("div",{className:"connection-line",children:[(0,_t.jsx)("div",{className:"line"}),(0,_t.jsx)("div",{className:"arrow",children:(0,_t.jsx)(rt,{})}),(0,_t.jsx)("div",{className:"line"})]}),(0,_t.jsx)("div",{className:"connection-type",children:1===i.length?"Non-Stop":"".concat(i.length-1," Stop").concat(i.length-1>1?"s":"")})]}),(0,_t.jsxs)("div",{className:"arrival-info",children:[(0,_t.jsx)("div",{className:"time",children:N}),(0,_t.jsx)("div",{className:"date",children:re(e.at)}),(0,_t.jsx)("div",{className:"city",children:de(b.code)}),(0,_t.jsxs)("div",{className:"airport",children:[b.name||"".concat(b.code," Airport"),(null===(m=f[b.code])||void 0===m?void 0:m.country)&&(0,_t.jsxs)("span",{className:"airport-country",children:[", ",f[b.code].country]})]}),(0,_t.jsxs)("div",{className:"terminal",children:[" ",b.terminal]}),b.gate&&(0,_t.jsxs)("div",{className:"gate",children:["Gate ",b.gate]})]})]}),(0,_t.jsxs)("div",{className:"segment-features",children:[(0,_t.jsx)("div",{className:"fare-types",children:(null===d||void 0===d?void 0:d.cabinClass)||"Economy"}),(null===d||void 0===d?void 0:d.meal)&&(0,_t.jsx)("div",{className:"meal-info",children:"true"===d.meal||!0===d.meal?"Free Meal":"Meal Available"}),(0,_t.jsx)("div",{className:"refundable",children:null!==d&&void 0!==d&&d.refundable?"Refundable":"Non-Refundable"}),(()=>{const e=((null===d||void 0===d?void 0:d.fareIdentifier)||(null===d||void 0===d?void 0:d.fareType)||(null===d||void 0===d?void 0:d.fareName)||(null===d||void 0===d?void 0:d.fareClass)||(null===d||void 0===d?void 0:d.fareCategory)||"Standard").replace(/_/g," ").replace(/-/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");return(0,_t.jsx)("div",{className:"fare-label",children:e})})(),(null===d||void 0===d?void 0:d.services)&&d.services.length>0&&(0,_t.jsx)("div",{className:"additional-services",children:d.services.map((e,t)=>(0,_t.jsx)("span",{className:"service-badge",children:e},t))})]}),!w&&i.length>1&&(0,_t.jsxs)("div",{className:"layover-info",children:[(0,_t.jsx)("div",{className:"layover-line"}),(0,_t.jsx)("div",{className:"layover-text",children:"Require to change Plane"}),(0,_t.jsx)("div",{className:"layover-time",children:ce(e.at,i[t+1].dt)})]})]},t)})]},"".concat(e.id,"-").concat(a?"return":"outbound"))};return x?(0,_t.jsx)("div",{className:"flight-itinerary-container",children:(0,_t.jsxs)("div",{className:"loading-container",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:"Loading flight details..."})]})}):(0,_t.jsxs)("div",{className:"flight-itinerary-container",children:[z&&H&&(0,_t.jsx)("div",{className:"gst-popup-overlay",onClick:()=>U(!1),children:(0,_t.jsxs)("div",{className:"gst-popup-content",onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{className:"gst-popup-header",children:[(0,_t.jsx)("h3",{children:"GST Information"}),(0,_t.jsx)("button",{className:"gst-popup-close",onClick:()=>U(!1),"aria-label":"Close",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"gst-popup-body",children:[(0,_t.jsx)("div",{className:"gst-popup-icon",children:(0,_t.jsx)(Ct,{})}),(0,_t.jsx)("p",{className:"gst-popup-message",children:H})]}),(0,_t.jsx)("div",{className:"gst-popup-footer",children:(0,_t.jsx)("button",{className:"gst-popup-ok-btn",onClick:()=>U(!1),children:"OK"})})]})}),V&&$&&(0,_t.jsx)("div",{className:"gst-popup-overlay",onClick:()=>K(!1),children:(0,_t.jsxs)("div",{className:"gst-popup-content",onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{className:"gst-popup-header",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[(0,_t.jsx)("h3",{children:"Price Change Alert"}),(0,_t.jsx)("button",{className:"gst-popup-close",onClick:()=>K(!1),"aria-label":"Close",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"gst-popup-body",children:[(0,_t.jsx)("div",{className:"gst-popup-icon",style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)"},children:(0,_t.jsx)(Nt,{})}),(0,_t.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[(0,_t.jsx)("p",{className:"gst-popup-message",style:{marginBottom:"20px",fontWeight:500},children:"The flight fare has been updated."}),(0,_t.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",marginTop:"20px",padding:"15px",background:"#f9fafb",borderRadius:"12px"},children:[(0,_t.jsxs)("div",{style:{textAlign:"center"},children:[(0,_t.jsx)("div",{style:{fontSize:"13px",color:"#718096",marginBottom:"5px"},children:"Old Fare"}),(0,_t.jsxs)("div",{style:{fontSize:"20px",fontWeight:700,color:"#e53e3e",textDecoration:"line-through"},children:["\u20b9",Number($.oldFare||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsx)("div",{style:{fontSize:"24px",color:"#718096",margin:"0 15px"},children:"\u2192"}),(0,_t.jsxs)("div",{style:{textAlign:"center"},children:[(0,_t.jsx)("div",{style:{fontSize:"13px",color:"#718096",marginBottom:"5px"},children:"New Fare"}),(0,_t.jsxs)("div",{style:{fontSize:"20px",fontWeight:700,color:"#38a169"},children:["\u20b9",Number($.newFare||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,_t.jsxs)("div",{style:{marginTop:"15px",fontSize:"14px",color:"#4a5568"},children:[(0,_t.jsx)("strong",{children:"Price Difference:"})," \u20b9",Number(($.newFare||0)-($.oldFare||0)).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,_t.jsx)("div",{className:"gst-popup-footer",children:(0,_t.jsx)("button",{className:"gst-popup-ok-btn",style:{background:"linear-gradient(135deg, #764ba2 0%, #667eea 100%)"},onClick:()=>K(!1),children:"OK"})})]})}),X&&Q&&Q.length>0&&(0,_t.jsx)("div",{className:"gst-popup-overlay",onClick:()=>J(!1),children:(0,_t.jsxs)("div",{className:"gst-popup-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",maxHeight:"80vh",overflowY:"auto"},children:[(0,_t.jsxs)("div",{className:"gst-popup-header",style:{background:"linear-gradient(135deg, #4299e1 0%, #3182ce 100%)"},children:[(0,_t.jsx)("h3",{children:"Flight Information"}),(0,_t.jsx)("button",{className:"gst-popup-close",onClick:()=>J(!1),"aria-label":"Close",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"gst-popup-body",style:{padding:"20px",textAlign:"left"},children:[(0,_t.jsx)("div",{className:"gst-popup-icon",style:{background:"linear-gradient(135deg, #4299e1 0%, #3182ce 100%)",marginBottom:"20px"},children:(0,_t.jsx)(Ct,{})}),(0,_t.jsx)("div",{style:{width:"100%"},children:Q.map((e,t)=>(0,_t.jsxs)("div",{style:{marginBottom:t<Q.length-1?"16px":"0",paddingBottom:t<Q.length-1?"16px":"0",borderBottom:t<Q.length-1?"1px solid #e2e8f0":"none"},children:[e.type&&(0,_t.jsx)("div",{style:{fontSize:"12px",fontWeight:600,color:"#4299e1",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.type}),(0,_t.jsx)("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.6",color:"#2d3748",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.message})]},t))})]}),(0,_t.jsx)("div",{className:"gst-popup-footer",children:(0,_t.jsx)("button",{className:"gst-popup-ok-btn",style:{background:"linear-gradient(135deg, #3182ce 0%, #4299e1 100%)"},onClick:()=>J(!1),children:"OK"})})]})}),(0,_t.jsxs)("div",{className:"flight-details-section",children:[(()=>{if("multicity"===se)return le(ne,se).map((e,t)=>{var n,a,s,i,l,r,o,c,d,u,h;let[m,p]=e;const v=null===te||void 0===te||null===(n=te.routeInfos)||void 0===n?void 0:n[t],f=(null===v||void 0===v||null===(a=v.fromCityOrAirport)||void 0===a?void 0:a.code)||(null===v||void 0===v?void 0:v.fromCity)||(null===(s=p.flight)||void 0===s||null===(i=s.sI)||void 0===i||null===(l=i[0])||void 0===l||null===(r=l.da)||void 0===r?void 0:r.code),g=(null===v||void 0===v||null===(o=v.toCityOrAirport)||void 0===o?void 0:o.code)||(null===v||void 0===v?void 0:v.toCity)||(null===(c=p.flight)||void 0===c||null===(d=c.sI)||void 0===d||null===(u=d[p.flight.sI.length-1])||void 0===u||null===(h=u.aa)||void 0===h?void 0:h.code);return(0,_t.jsxs)("div",{className:"multicity-segment",children:[(0,_t.jsxs)("div",{className:"multicity-header",children:[(0,_t.jsxs)("h3",{children:[f," \u2192 ",g]}),(null===v||void 0===v?void 0:v.travelDate)&&(0,_t.jsx)("div",{className:"segment-date",children:re(v.travelDate)})]}),pe(p.flight,!1,"Segment ".concat(t+1),p)]},"multicity-".concat(t))});if("round"===se){const e=le(ne,se),t=Ui(te),n=e.find(e=>{var t;let[n,a]=e;return!0===(null===a||void 0===a||null===(t=a.flight)||void 0===t?void 0:t.isCombo)});if(n&&t){const[e,t]=n;return(0,_t.jsxs)("div",{className:"trip-segment",children:[(0,_t.jsx)("div",{className:"trip-header",children:(0,_t.jsx)("h3",{children:"Round Trip Flight (COMBO)"})}),pe(t.flight,!1,"Round Trip",t)]},"combo-round-trip")}return(0,_t.jsxs)(_t.Fragment,{children:[e.map((e,t)=>{let[n,a]=e;return"outbound"===ie(n,se)?(0,_t.jsxs)("div",{className:"trip-segment",children:[(0,_t.jsx)("div",{className:"trip-header",children:(0,_t.jsx)("h3",{children:"Outbound Flight"})}),pe(a.flight,!1,"Outbound",a)]},"outbound"):null}),e.map((e,t)=>{let[n,a]=e;return"return"===ie(n,se)?(0,_t.jsxs)("div",{className:"trip-segment",children:[(0,_t.jsx)("div",{className:"trip-header",children:(0,_t.jsx)("h3",{children:"Return Flight"})}),pe(a.flight,!0,"Return",a)]},"return"):null})]})}return Object.values(ne).map((e,t)=>0===t?(0,_t.jsxs)("div",{className:"trip-segment",children:[(0,_t.jsx)("div",{className:"trip-header",children:(0,_t.jsx)("h3",{children:"Flight"})}),pe(e.flight,!1,"Flight",e)]},"oneway"):null)})(),(0,_t.jsxs)("div",{className:"step-navigation",children:[(0,_t.jsx)("button",{className:"fare-rules-btn",onClick:async()=>{try{O(!0),M(null);const N=Object.values(ne);if(0===N.length)throw new Error("No selected flights found.");const j=Ui(te);let w;if(!j||"round"!==se&&"multicity"!==se)w=N.map((e,t)=>{var n,a,s,i,l,r,o,d,u,h,m,p,v,f;const g=(null===e||void 0===e?void 0:e.fareDetails)||{},x=Array.isArray(null===c||void 0===c?void 0:c.priceIds)&&c.priceIds[t]||ee(e)||g.id||g.priceId,b=null===te||void 0===te||null===(n=te.routeInfos)||void 0===n?void 0:n[t],y=(null===b||void 0===b||null===(a=b.fromCityOrAirport)||void 0===a?void 0:a.code)||(null===(s=e.flight)||void 0===s||null===(i=s.sI)||void 0===i||null===(l=i[0])||void 0===l||null===(r=l.da)||void 0===r?void 0:r.code),N=(null===b||void 0===b||null===(o=b.toCityOrAirport)||void 0===o?void 0:o.code)||(null===(d=e.flight)||void 0===d||null===(u=d.sI)||void 0===u||null===(h=u[(null===(p=e.flight)||void 0===p||null===(v=p.sI)||void 0===v?void 0:v.length)-1])||void 0===h||null===(m=h.aa)||void 0===m?void 0:m.code),j="multicity"===se?"Segment ".concat(t+1):"round"===se?0===t?"Outbound":"Return":"Flight";return console.log("\ud83d\udd0d Segment ".concat(t," details:"),{priceId:x,priceIdType:typeof x,priceIdLength:null===x||void 0===x?void 0:x.length,fareDetailsId:g.id,preGeneratedPriceId:null===c||void 0===c||null===(f=c.priceIds)||void 0===f?void 0:f[t],fromCode:y,toCode:N}),{index:t,priceId:x,label:"".concat(j,": ").concat(y," \u2192 ").concat(N),route:"".concat(y," \u2192 ").concat(N)}});else{var e,t,n,a;const i=N.map(ee).find(Boolean),l=Array.isArray(null===c||void 0===c?void 0:c.priceIds)&&c.priceIds.length>0?c.priceIds[0]:null,r=(null===(e=N[0])||void 0===e||null===(t=e.fareDetails)||void 0===t?void 0:t.id)||(null===(n=N[0])||void 0===n||null===(a=n.fareDetails)||void 0===a?void 0:a.priceId),o=i||l||r||null;if(!o)throw new Error("Could not find priceId for international flight fare rules");var s;console.log("\u2705 Using representative priceId for international fare rules:",o),w=(null===te||void 0===te||null===(s=te.routeInfos)||void 0===s?void 0:s.map((e,t)=>{var n,a;const s=null===e||void 0===e||null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,i=null===e||void 0===e||null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code,l="multicity"===se?"Segment ".concat(t+1):0===t?"Outbound":"Return";return{index:t,priceId:o,label:"".concat(l,": ").concat(s," \u2192 ").concat(i),route:"".concat(s," \u2192 ").concat(i)}}))||[]}const k=w.filter(e=>!e.priceId);k.length>0&&console.warn("Some segments missing priceId:",k);const S=null===c||void 0===c?void 0:c.reviewResponse,C=e=>{try{const o=null===e||void 0===e?void 0:e.tripInfos;if(!Array.isArray(o)||0===o.length)return null;if(j&&("round"===se||"multicity"===se)&&o.length>0){var t,n,a,s,i,l,r;const c=(null===(t=o[0])||void 0===t||null===(n=t.totalPriceList)||void 0===n||null===(a=n[0])||void 0===a||null===(s=a.fareRuleInformation)||void 0===s?void 0:s.tfr)||(null===(i=o[0])||void 0===i||null===(l=i.fareRuleInformation)||void 0===l?void 0:l.tfr)||(null===e||void 0===e||null===(r=e.fareRuleInformation)||void 0===r?void 0:r.tfr);if(c)return w.map(e=>He(He({},e),{},{tfr:c}))}const c=o.map(e=>{var t,n,a;return null===e||void 0===e||null===(t=e.totalPriceList)||void 0===t||null===(n=t[0])||void 0===n||null===(a=n.fareRuleInformation)||void 0===a?void 0:a.tfr}).filter(e=>e);return c.length===w.length?w.map((e,t)=>He(He({},e),{},{tfr:c[t]})):null}catch(o){return null}};let I=C(S);if(!I){var i;const e=!j||"round"!==se&&"multicity"!==se?w.map(e=>e.priceId).filter(Boolean):[null===(i=w[0])||void 0===i?void 0:i.priceId].filter(Boolean);if(e.length>0)try{console.log("\ud83d\udd04 Attempting to fetch fare rules via review API for segments:",e);const t=await Ns(e);if(!j||"round"!==se&&"multicity"!==se)I=C(t),I&&console.log("\u2705 Successfully extracted fare rules from review API response");else{var l,r,o,d,u,h,m,p,v;const e=(null===t||void 0===t||null===(l=t.tripInfos)||void 0===l||null===(r=l[0])||void 0===r||null===(o=r.totalPriceList)||void 0===o||null===(d=o[0])||void 0===d||null===(u=d.fareRuleInformation)||void 0===u?void 0:u.tfr)||(null===t||void 0===t||null===(h=t.tripInfos)||void 0===h||null===(m=h[0])||void 0===m||null===(p=m.fareRuleInformation)||void 0===p?void 0:p.tfr)||(null===t||void 0===t||null===(v=t.fareRuleInformation)||void 0===v?void 0:v.tfr);e&&(console.log("\u2705 Successfully extracted fare rules from review API response (international)"),I=w.map(t=>He(He({},t),{},{tfr:e})))}I||console.log("\u26a0\ufe0f Review API succeeded but no fare rules found in response")}catch(Ul){var f,g;console.warn("\u26a0\ufe0f Review API failed, will fall back to per-segment fare rules API:",{error:Ul.message,status:null===(f=Ul.response)||void 0===f?void 0:f.status,data:null===(g=Ul.response)||void 0===g?void 0:g.data,priceIds:e})}else console.warn("\u26a0\ufe0f No valid priceIds available for review API call")}var x;if(!I)if(j&&("round"===se||"multicity"===se)&&w.length>0&&null!==(x=w[0])&&void 0!==x&&x.priceId)try{var b,y;const e=await ks(w[0].priceId);console.log("\ud83d\udd0d Fare rules response for international flight:",e);let t=null;if(null!==e&&void 0!==e&&e.tfr?t=e.tfr:null!==e&&void 0!==e&&null!==(b=e.fareRuleInformation)&&void 0!==b&&b.tfr?t=e.fareRuleInformation.tfr:null!==e&&void 0!==e&&e.fareRuleInformation?t=e.fareRuleInformation:null!==e&&void 0!==e&&null!==(y=e.data)&&void 0!==y&&y.tfr?t=e.data.tfr:null!==e&&void 0!==e&&e.data?t=e.data:(null!==e&&void 0!==e&&e.CANCELLATION||null!==e&&void 0!==e&&e.DATECHANGE||null!==e&&void 0!==e&&e.NO_SHOW||null!==e&&void 0!==e&&e.SEAT_CHARGEABLE||e&&"object"===typeof e)&&(t=e),console.log("\ud83d\udd0d Extracted tfr for international flight:",t),t&&"object"===typeof t){t.CANCELLATION||t.DATECHANGE||t.NO_SHOW||t.SEAT_CHARGEABLE||t.cancellation||t.dateChange||t.noShow||t.seatChargeable||t.fareRuleInformation||Object.keys(t).length>0?(I=w.map(e=>He(He({},e),{},{tfr:t})),console.log("\u2705 Successfully fetched fare rules for international flight and applied to all segments")):(console.warn("\u26a0\ufe0f No meaningful fare rules found for international flight"),I=w.map(e=>He(He({},e),{},{tfr:null,warning:"No fare rules data available"})))}else I=w.map(e=>He(He({},e),{},{tfr:null,warning:"No fare rules data available"}))}catch(Ul){console.error("Error fetching fare rules for international flight",Ul),I=w.map(t=>He(He({},t),{},{tfr:null,error:(null===Ul||void 0===Ul?void 0:Ul.message)||"Failed to load fare rules"}))}else I=await Promise.all(w.map(async e=>{if(!e.priceId)return He(He({},e),{},{tfr:null,error:"Missing priceId for this segment"});try{var t,n;const a=await ks(e.priceId);console.log("\ud83d\udd0d Fare rules response for segment ".concat(e.index,":"),a);let s=null;if(null!==a&&void 0!==a&&a.tfr?s=a.tfr:null!==a&&void 0!==a&&null!==(t=a.fareRuleInformation)&&void 0!==t&&t.tfr?s=a.fareRuleInformation.tfr:null!==a&&void 0!==a&&a.fareRuleInformation?s=a.fareRuleInformation:null!==a&&void 0!==a&&null!==(n=a.data)&&void 0!==n&&n.tfr?s=a.data.tfr:null!==a&&void 0!==a&&a.data?s=a.data:(null!==a&&void 0!==a&&a.CANCELLATION||null!==a&&void 0!==a&&a.DATECHANGE||null!==a&&void 0!==a&&a.NO_SHOW||null!==a&&void 0!==a&&a.SEAT_CHARGEABLE||a&&"object"===typeof a)&&(s=a),console.log("\ud83d\udd0d Extracted tfr for segment ".concat(e.index,":"),s),s&&"object"===typeof s){if(!(s.CANCELLATION||s.DATECHANGE||s.NO_SHOW||s.SEAT_CHARGEABLE||s.cancellation||s.dateChange||s.noShow||s.seatChargeable||s.fareRuleInformation||Object.keys(s).length>0))return console.warn("\u26a0\ufe0f No meaningful fare rules found for segment ".concat(e.index)),He(He({},e),{},{tfr:null,warning:"No fare rules data available for this segment"})}return He(He({},e),{},{tfr:s})}catch(Ul){return console.error("Error fetching fare rules for segment",e.index,Ul),He(He({},e),{},{tfr:null,error:(null===Ul||void 0===Ul?void 0:Ul.message)||"Failed to load fare rules"})}}));_(0),R(I),P(!0)}catch(N){console.error("\u274c Fare Rules Error:",N),M(N.message||"Failed to fetch fare rules. Please try again.")}finally{O(!1)}},disabled:F,children:F?"Loading Fare Rules...":"Fare Rules +"}),(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:a,disabled:1===l||y,children:"Previous"}),(0,_t.jsx)("button",{className:"btn btn-primary",onClick:async()=>{try{var e,t;N(!0),w(null);let l=C,r=k;if(l&&r)console.log("\u2705 Using existing review response from page load");else{var a;console.log("\u26a0\ufe0f Review response not available, calling API as fallback...");let e=(null===c||void 0===c?void 0:c.priceIds)||[];if(0===e.length?(console.log("PriceIds not pre-generated, generating them now..."),Object.values(ne).forEach((t,n)=>{const a=(null===t||void 0===t?void 0:t.fareDetails)||{},s=a.id;s?(e.push(s),console.log("Flight ".concat(n+1," priceId:"),s)):console.error("Price ID not found for flight ".concat(n+1,". Available fields:"),Object.keys(a))})):console.log("Using pre-generated priceIds:",e),0===e.length)throw new Error("Price IDs not found. Please select flights again.");if(console.log("\ud83d\udd04 Calling review API with priceIds:",e),l=await Ns(e),r=null===(a=l)||void 0===a?void 0:a.bookingId,!r)throw new Error("Booking ID not received from server. Please try again.");I(l),S(r);try{"undefined"!==typeof window&&window.localStorage&&window.localStorage.setItem("tj_bookingId",r)}catch(i){}console.log("\u2705 Review API successful. BookingId:",r)}const o=null===(e=l)||void 0===e?void 0:e.conditions;o&&!1===o.isa&&console.warn("\u26a0\ufe0f Seats are no longer available for this flight, but allowing user to proceed to passenger details."),console.log("\u2705 Seat availability:",null===o||void 0===o?void 0:o.isa);const d=Hi(l)||W,u=((null===(t=l)||void 0===t?void 0:t.alerts)||[]).find(e=>"FAREALERT"===(null===e||void 0===e?void 0:e.type));u&&(console.log("\u26a0\ufe0f Fare alert detected:",u),Y(u),K(!0));const h=Object.values(ne).map(e=>{var t;return null===e||void 0===e||null===(t=e.fareDetails)||void 0===t?void 0:t.fareIdentifier}).filter(Boolean);console.log("\u2705 Fare identifiers:",h),console.log("\u2705 GST popup should be shown:",d);let m=null===c||void 0===c?void 0:c.totalFare;if(u&&u.newFare)m=Number(u.newFare),console.log("\u2705 Using new fare from fare alert:",m);else if(!m){let e=0;Object.values(ne).forEach(t=>{const n=t.fareDetails;if(n){var a,s,i,l,r,o;const t=n.fd||n.fD||{},c=Number((null===t||void 0===t||null===(a=t.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===t||void 0===t||null===(i=t.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===t||void 0===t?void 0:t.INFANT)||(null===t||void 0===t?void 0:t.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0);e+=Number(ae.ADULT||0)*c+Number(ae.CHILD||0)*d+Number(ae.INFANT||0)*u}}),m=e}const p=He(He({},c),{},{bookingId:r,reviewResponse:l,fareIdentifiers:h,gstPopupShown:d,fareAlert:u,totalFare:m});s({flightData:p}),n({flightData:p})}catch(l){console.error("\u274c Review API Error:",l),w(l.message||"Failed to confirm booking. Please try again.")}finally{N(!1)}},disabled:y||A,children:y?"Confirming Booking...":A?"Loading Fare Summary...":"Add Passenger Details"})]}),j&&(0,_t.jsxs)("div",{className:"review-error-message",children:[(0,_t.jsx)("div",{className:"error-icon",children:(0,_t.jsx)(Nt,{})}),(0,_t.jsx)("div",{className:"error-text",children:j})]}),"multicity"===se&&(e=>{const t=Ui(te),n=(null===te||void 0===te||null===(e=te.routeInfos)||void 0===e?void 0:e.length)||0,a=Object.keys(ne).length,s=t&&Object.values(ne).some(e=>{const t=null===e||void 0===e?void 0:e.flight;return t&&!0===t.isCombo}),i=s||a>=n;return(0,_t.jsxs)("div",{className:"multicity-info",children:[(0,_t.jsx)("div",{className:"info-icon",children:(0,_t.jsx)(Ct,{})}),(0,_t.jsxs)("div",{className:"info-text",children:[(0,_t.jsx)("strong",{children:"Multi-City Trip:"})," You have selected ",a," flight(s) for your ",n," segment journey.",!i&&(0,_t.jsxs)("span",{className:"warning",children:[(0,_t.jsx)(Nt,{})," Please ensure all segments have flights selected."]})]})]})})()]}),(0,_t.jsxs)("div",{className:"fare-summary-section",children:[(0,_t.jsx)("h3",{children:"FARE SUMMARY"}),A&&(0,_t.jsxs)("div",{style:{padding:"15px",marginBottom:"20px",textAlign:"center",color:"#666",fontSize:"14px"},children:[(0,_t.jsx)("div",{className:"loading-spinner-flight",style:{margin:"0 auto 10px",width:"20px",height:"20px"}}),"Loading latest fare information..."]}),$&&$.oldFare&&(0,_t.jsxs)("div",{style:{background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"1px solid #f59e0b",borderRadius:"12px",padding:"15px",marginBottom:"20px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,_t.jsx)(Nt,{style:{color:"#f59e0b",fontSize:"20px",flexShrink:0}}),(0,_t.jsxs)("div",{style:{flex:1},children:[(0,_t.jsx)("div",{style:{fontWeight:600,color:"#92400e",fontSize:"14px",marginBottom:"4px"},children:"Price Updated"}),(0,_t.jsxs)("div",{style:{fontSize:"12px",color:"#78350f"},children:["The fare has changed from \u20b9",Number($.oldFare).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})," to \u20b9",Number($.newFare).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,_t.jsxs)("div",{className:"selected-fare-types",children:[(0,_t.jsx)("h4",{children:"Selected Fare Types"}),le(ne,se).map((e,t)=>{var n,a,s,i,l,r,o,c,d,u,h;let[m,p]=e;const v=p.fareDetails;if(!v)return null;const f=((null===v||void 0===v?void 0:v.fareIdentifier)||(null===v||void 0===v?void 0:v.fareType)||(null===v||void 0===v?void 0:v.fareName)||(null===v||void 0===v?void 0:v.fareClass)||(null===v||void 0===v?void 0:v.fareCategory)||"Standard").replace(/_/g," ").replace(/-/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" "),g=null===te||void 0===te||null===(n=te.routeInfos)||void 0===n?void 0:n[t],x=(null===g||void 0===g||null===(a=g.fromCityOrAirport)||void 0===a?void 0:a.code)||(null===(s=p.flight)||void 0===s||null===(i=s.sI)||void 0===i||null===(l=i[0])||void 0===l||null===(r=l.da)||void 0===r?void 0:r.code),b=(null===g||void 0===g||null===(o=g.toCityOrAirport)||void 0===o?void 0:o.code)||(null===(c=p.flight)||void 0===c||null===(d=c.sI)||void 0===d||null===(u=d[p.flight.sI.length-1])||void 0===u||null===(h=u.aa)||void 0===h?void 0:h.code);return(0,_t.jsxs)("div",{className:"fare-type-item",children:[(0,_t.jsxs)("span",{className:"route",children:["multicity"===se?"":"round"===se?0===t?"Outbound":"Return":"Flight",": ",x," \u2192 ",b]}),(0,_t.jsx)("span",{className:"fare-type-badge",children:f})]},"fare-type-".concat(t))})]}),"multicity"===se&&(0,_t.jsxs)("div",{className:"segment-fare-breakdown",children:[(0,_t.jsx)("h4",{children:"Segment Breakdown"}),le(ne,se).map((e,t)=>{var n,a,s;let[i,l]=e;const r=null===te||void 0===te||null===(n=te.routeInfos)||void 0===n?void 0:n[t],o=null===r||void 0===r||null===(a=r.fromCityOrAirport)||void 0===a?void 0:a.code,c=null===r||void 0===r||null===(s=r.toCityOrAirport)||void 0===s?void 0:s.code,d=(()=>{const e=l.fareDetails;if(e){var t,n,a,s,i,r;const l=e.fd||e.fD||{},o=Number((null===l||void 0===l||null===(t=l.ADULT)||void 0===t||null===(n=t.fC)||void 0===n?void 0:n.TF)||0),c=Number((null===l||void 0===l||null===(a=l.CHILD)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===(i=(null===l||void 0===l?void 0:l.INFANT)||(null===l||void 0===l?void 0:l.INFT))||void 0===i||null===(r=i.fC)||void 0===r?void 0:r.TF)||0);return Number(ae.ADULT||0)*o+Number(ae.CHILD||0)*c+Number(ae.INFANT||0)*d}return 0})();return(0,_t.jsxs)("div",{className:"segment-fare-item",children:[(0,_t.jsxs)("span",{children:[o," \u2192 ",c]}),(0,_t.jsxs)("span",{children:["\u20b9",d.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},"segment-fare-".concat(t))}),(0,_t.jsx)("div",{className:"segment-fare-separator"})]}),(0,_t.jsxs)("div",{className:"fare-breakdown",children:[(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{children:"Base fare"}),(0,_t.jsxs)("span",{children:["\u20b9",me().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item ",children:[(0,_t.jsx)("span",{children:"Taxes and fees"}),(0,_t.jsxs)("span",{children:["\u20b9",(he()-me()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item total",children:[(0,_t.jsx)("span",{children:"Amount to Pay"}),(0,_t.jsx)("span",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"5px"},children:$&&$.oldFare?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("span",{style:{fontSize:"14px",color:"#e53e3e",textDecoration:"line-through",fontWeight:400},children:["\u20b9",Number($.oldFare).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,_t.jsxs)("span",{style:{color:"#38a169",fontSize:"18px",fontWeight:700},children:["\u20b9",he().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,_t.jsxs)("span",{style:{fontSize:"12px",color:"#f59e0b",fontWeight:500,marginTop:"2px"},children:[(0,_t.jsx)(Nt,{style:{marginRight:"4px",fontSize:"10px"}}),"Price Updated"]})]}):(0,_t.jsxs)("span",{children:["\u20b9",he().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})]})]}),E&&(0,_t.jsx)("div",{className:"fare-rules-modal-overlay",onClick:()=>P(!1),children:(0,_t.jsxs)("div",{className:"fare-rules-modal",onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{className:"fare-rules-modal-header",children:[(0,_t.jsx)("h3",{style:{color:"#fff"},children:"Fare Rules"}),(0,_t.jsx)("button",{className:"fare-rules-close-btn",onClick:()=>P(!1),children:"\xd7"})]}),(0,_t.jsx)("div",{className:"fare-rules-modal-content",children:L?(0,_t.jsxs)("div",{className:"fare-rules-error",children:[(0,_t.jsx)("div",{className:"error-icon",children:(0,_t.jsx)(Nt,{})}),(0,_t.jsx)("div",{className:"error-text",children:L})]}):T?Array.isArray(T)?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"fare-rules-switcher",children:T.map((e,t)=>(0,_t.jsx)("button",{className:"fare-rule-tab ".concat(B===t?"active":""),onClick:()=>_(t),children:e.label||"Flight ".concat(t+1)},"seg-".concat(t)))}),(()=>{const e=T[B]||{};if(e.error)return(0,_t.jsxs)("div",{className:"fare-rules-error",children:[(0,_t.jsx)("div",{className:"error-icon",children:(0,_t.jsx)(Nt,{})}),(0,_t.jsx)("div",{className:"error-text",children:e.error})]});if(e.warning)return(0,_t.jsxs)("div",{className:"fare-rules-warning",children:[(0,_t.jsx)("div",{className:"warning-icon",children:(0,_t.jsx)(Ct,{})}),(0,_t.jsx)("div",{className:"warning-text",children:e.warning}),(0,_t.jsx)("div",{className:"generic-rules-info",children:(0,_t.jsx)("p",{children:"Standard airline policies apply. Please contact the airline directly for detailed fare rules."})})]});const t=He(He({},e.tfr||{}),{},{routeInfo:e.route});return(0,_t.jsx)(Wi,{data:t})})()]}):(0,_t.jsx)(Wi,{data:T}):(0,_t.jsxs)("div",{className:"fare-rules-loading",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:"Loading fare rules..."})]})})]})})]})},Vi=(0,i.createContext)(),Ki=e=>{let{children:t}=e;const[n,a]=(0,i.useState)(null),[s,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=localStorage.getItem("user");e?a(JSON.parse(e)):l(!0)},[]);return(0,_t.jsx)(Vi.Provider,{value:{user:n,login:e=>{const t=He(He({},{employeeId:"EMP001",name:"John Doe",email:"john.doe@company.com",phone:"+91 98765 43210",department:"Engineering",designation:"Senior Developer",gender:"Male",address:"123 Main Street, City, State, Country"}),e);a(t),localStorage.setItem("user",JSON.stringify(t)),l(!1)},logout:()=>{a(null),localStorage.removeItem("user"),l(!0)},showLoginPopup:s,openLoginPopup:()=>l(!0),closeLoginPopup:()=>l(!1)},children:t})},$i=()=>(0,i.useContext)(Vi),Yi=["id","type"],Xi=function(e,t,n,a){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Object.entries(e).find(e=>{var i;let[l,r]=e;return r.category===a&&((null===s||r.segmentIndex===s)&&(null===(i=r.assignedPassengers)||void 0===i?void 0:i.some(e=>e.type===t&&e.index===n)))})},Ji=e=>{const{type:t,index:n}=e;return"adults"===t?"Adult ".concat(n+1):"children"===t?"Child ".concat(n+1):"infant"===t?"Infant ".concat(n+1):"".concat(t," ").concat(n+1)},Qi=e=>{let{mealOptions:t,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l}=e;if(!t||0===t.length)return null;const r=l?parseInt(l.replace("segment_","")):0;return(0,_t.jsxs)("div",{className:"ssr-meal-options",children:[(0,_t.jsxs)("div",{className:"ssr-section-header meal",children:[(0,_t.jsx)("div",{className:"ssr-section-icon"}),"SELECT MEAL"]}),(0,_t.jsx)("div",{className:"ssr-options-grid",children:t.map((e,t)=>{var l;const o="meal_".concat(r,"_").concat(e.code||t),c=!!n[o],d=(null===(l=n[o])||void 0===l?void 0:l.assignedPassengers)||[],u={type:"meal",name:e.desc,price:e.amount||0,category:"meal",indicator:e.indicator,assignedPassengers:d,segmentIndex:r};return(0,_t.jsxs)("div",{className:"ssr-option-card meal-option",children:[(0,_t.jsx)("div",{className:"ssr-option-header",children:e.indicator&&(0,_t.jsx)("div",{className:"ssr-indicator ".concat(e.indicator.toLowerCase()),children:e.indicator})}),(0,_t.jsx)("div",{className:"ssr-option-image",children:e.imageUrl?(0,_t.jsx)("img",{src:e.imageUrl,alt:e.desc,onError:e=>{e.target.style.display="none"}}):(0,_t.jsx)("div",{style:{width:"100%",height:"100%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px"},children:"\ud83c\udf7d\ufe0f"})}),(0,_t.jsxs)("div",{className:"ssr-option-content",children:[(0,_t.jsx)("div",{className:"ssr-option-title",children:e.desc}),(0,_t.jsx)("div",{className:"ssr-option-price",children:e.amount>0?"\u20b9".concat(e.amount.toFixed(2)):"Free"}),c&&(0,_t.jsxs)("div",{className:"passenger-assignment",children:[(0,_t.jsxs)("div",{className:"assignment-label",children:["Assign to passengers:",0===d.length&&(0,_t.jsx)("span",{className:"no-assignment-warning",children:"(No passengers selected - item will not be charged)"})]}),(0,_t.jsx)("div",{className:"passenger-checkboxes",children:s.filter(e=>"infant"!==e.type).map((e,t)=>{const a=d.some(n=>n.type===e.type&&n.index===t),s=Xi(n,e.type,t,u.category,r),l=s&&s[0]!==o;return(0,_t.jsxs)("label",{className:"passenger-checkbox ".concat(l?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:a,disabled:l,onChange:n=>i(o,e.type,t,n.target.checked)}),(0,_t.jsxs)("span",{className:"passenger-name",children:[Ji(e),l&&(0,_t.jsxs)("span",{className:"category-warning",children:["(Already has ",u.category,")"]})]})]},"".concat(e.type,"_").concat(t))})})]}),(0,_t.jsx)("button",{className:"ssr-option-select-btn ".concat(c?"selected":""),onClick:()=>a(o,u),children:c?"Selected":"Select"})]})]},t)})})]})},Zi=e=>{let{baggageOptions:t,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l,allSegments:r,isFirstFlightOfRoute:o}=e;if(!t||0===t.length)return null;const c=l?parseInt(l.replace("segment_","")):0;return(o?o(c):0===c)?(0,_t.jsxs)("div",{className:"ssr-baggage-options",children:[(0,_t.jsxs)("div",{className:"ssr-section-header baggage",children:[(0,_t.jsx)("div",{className:"ssr-section-icon"}),"SELECT BAGGAGE"]}),(0,_t.jsx)("div",{className:"ssr-options-grid",children:t.map((e,t)=>{var l;const r="baggage_".concat(c,"_").concat(e.code||t),o=!!n[r],d=(null===(l=n[r])||void 0===l?void 0:l.assignedPassengers)||[],u={type:"baggage",name:e.desc,price:e.amount||0,category:"baggage",assignedPassengers:d,segmentIndex:c};return(0,_t.jsxs)("div",{className:"ssr-option-card baggage-option",children:[(0,_t.jsx)("div",{className:"ssr-option-header"}),(0,_t.jsx)("div",{className:"ssr-option-image",children:(0,_t.jsx)("div",{style:{width:"100%",height:"100%",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"24px"},children:"\ud83e\uddf3"})}),(0,_t.jsxs)("div",{className:"ssr-option-content",children:[(0,_t.jsx)("div",{className:"ssr-option-title",children:e.desc}),(0,_t.jsxs)("div",{className:"ssr-option-price",children:["\u20b9",e.amount.toFixed(2)]}),o&&(0,_t.jsxs)("div",{className:"passenger-assignment",children:[(0,_t.jsxs)("div",{className:"assignment-label",children:["Assign to passengers:",0===d.length&&(0,_t.jsx)("span",{className:"no-assignment-warning",children:"(No passengers selected - item will not be charged)"})]}),(0,_t.jsx)("div",{className:"passenger-checkboxes",children:s.filter(e=>"infant"!==e.type).map((e,t)=>{const a=d.some(n=>n.type===e.type&&n.index===t),s=Xi(n,e.type,t,u.category,c),l=s&&s[0]!==r;return(0,_t.jsxs)("label",{className:"passenger-checkbox ".concat(l?"disabled":""),children:[(0,_t.jsx)("input",{type:"checkbox",checked:a,disabled:l,onChange:n=>i(r,e.type,t,n.target.checked)}),(0,_t.jsxs)("span",{className:"passenger-name",children:[Ji(e),l&&(0,_t.jsxs)("span",{className:"category-warning",children:["(Already has ",u.category,")"]})]})]},"".concat(e.type,"_").concat(t))})})]}),(0,_t.jsx)("button",{className:"ssr-option-select-btn ".concat(o?"selected":""),onClick:()=>a(r,u),children:o?"Selected":"Select"})]})]},t)})})]}):(0,_t.jsxs)("div",{className:"ssr-baggage-options",children:[(0,_t.jsxs)("div",{className:"ssr-section-header baggage",children:[(0,_t.jsx)("span",{className:"ssr-icon",children:"\ud83e\uddf3"}),"SELECT BAGGAGE"]}),(0,_t.jsx)("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6",textAlign:"center",color:"#6c757d",fontStyle:"italic"},children:(0,_t.jsx)("strong",{children:"Same as the previous flight"})})]})},el=e=>{let{otherOptions:t,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l,allSegments:r,isFirstFlightOfRoute:o}=e;if(!t||0===t.length)return null;const c=t.filter(e=>{var t,n,a;return(null===(t=e.desc)||void 0===t?void 0:t.toLowerCase().includes("fast"))||(null===(n=e.desc)||void 0===n?void 0:n.toLowerCase().includes("priority"))||(null===(a=e.desc)||void 0===a?void 0:a.toLowerCase().includes("express"))}),d=l?parseInt(l.replace("segment_","")):0,u=o?o(d):0===d,h=t.filter(e=>{var t,n,a;return(null===(t=e.desc)||void 0===t?void 0:t.toLowerCase().includes("insurance"))||(null===(n=e.desc)||void 0===n?void 0:n.toLowerCase().includes("travel"))||(null===(a=e.desc)||void 0===a?void 0:a.toLowerCase().includes("protection"))}),m=t.filter(e=>{var t,n;return(null===(t=e.desc)||void 0===t?void 0:t.toLowerCase().includes("lounge"))||(null===(n=e.desc)||void 0===n?void 0:n.toLowerCase().includes("access"))}),p=t.filter(e=>!c.includes(e)&&!h.includes(e)&&!m.includes(e)),v=(e,t,l,r)=>0===e.length?null:"fastforward"!==r||u?(0,_t.jsxs)("div",{className:"ssr-other-options",children:[(0,_t.jsxs)("div",{className:"ssr-section-header ".concat(r),children:[(0,_t.jsx)("div",{className:"ssr-section-icon"}),t]}),(0,_t.jsx)("div",{className:"ssr-options-grid",children:e.map((e,t)=>{var o;const c="".concat(r,"_").concat(d,"_").concat(e.code||t),u=!!n[c],h=(null===(o=n[c])||void 0===o?void 0:o.assignedPassengers)||[];let m=e.amount||0;if("fastforward"===r&&u){const t=s.map(e=>e.type),n=s.filter(e=>"infant"!==e.type).length,a=s.filter(e=>"infant"===e.type).length;console.log("\ud83d\ude80 Fast Forward pricing calculation:",{allPassengerTypes:t,adultChildCount:n,infantCount:a,basePrice:e.amount,calculatedPrice:(e.amount||0)*n}),m=(e.amount||0)*n}const p={type:"other",name:e.desc,price:m,category:r,assignedPassengers:h,segmentIndex:d,basePrice:e.amount||0};return(0,_t.jsxs)("div",{className:"ssr-option-card other-option",children:[(0,_t.jsx)("div",{className:"ssr-option-header"}),(0,_t.jsx)("div",{className:"ssr-option-image",children:(0,_t.jsx)("div",{style:{width:"100%",height:"100%",background:"#f0f0f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"24px",borderRadius:"fastforward"===r?"50%":"4px"},children:l})}),(0,_t.jsxs)("div",{className:"ssr-option-content",children:[(0,_t.jsx)("div",{className:"ssr-option-title",children:e.desc}),(0,_t.jsxs)("div",{className:"ssr-option-price",children:["\u20b9",e.amount.toFixed(2)]}),u&&(0,_t.jsxs)("div",{className:"passenger-assignment",children:[(0,_t.jsx)("div",{className:"assignment-label",children:"fastforward"===r?(0,_t.jsxs)("span",{children:[(0,_t.jsx)("strong",{children:"Applies to all passengers"})," (excluding infants)",(0,_t.jsxs)("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:["Price: \u20b9",p.basePrice.toFixed(2)," \xd7 ",s.filter(e=>"infant"!==e.type).length," passengers = \u20b9",m.toFixed(2)]})]}):(0,_t.jsxs)(_t.Fragment,{children:["Assign to passengers:",0===h.length&&(0,_t.jsx)("span",{className:"no-assignment-warning",children:"(No passengers selected - item will not be charged)"})]})}),"fastforward"!==r&&(0,_t.jsx)("div",{className:"passenger-checkboxes",children:s.map((e,t)=>{const n=h.some(n=>n.type===e.type&&n.index===t);return(0,_t.jsxs)("label",{className:"passenger-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",checked:n,onChange:n=>i(c,e.type,t,n.target.checked)}),(0,_t.jsxs)("span",{className:"passenger-name",children:["adults"===e.type?"Adult":"children"===e.type?"Child":"Infant"," ",t+1]})]},"".concat(e.type,"_").concat(t))})})]}),(0,_t.jsx)("button",{className:"ssr-option-select-btn ".concat(u?"selected":""),onClick:()=>a(c,p),children:u?"Selected":"Select"})]})]},t)})})]}):(0,_t.jsxs)("div",{className:"ssr-other-options",children:[(0,_t.jsxs)("div",{className:"ssr-section-header ".concat(r),children:[(0,_t.jsx)("div",{className:"ssr-section-icon"}),t]}),(0,_t.jsx)("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6",textAlign:"center",color:"#6c757d",fontStyle:"italic"},children:(0,_t.jsx)("strong",{children:"Same as the First Flight"})})]});return(0,_t.jsxs)("div",{className:"ssr-other-container",children:[v(c,"FAST FORWARD & PRIORITY","\u26a1","fastforward"),v(h,"TRAVEL INSURANCE","\ud83d\udee1\ufe0f","insurance"),v(m,"LOUNGE ACCESS","\ud83c\udfdb\ufe0f","lounge"),v(p,"ADDITIONAL SERVICES","\u2728","addons")]})},tl=e=>{let{ssrInfo:t,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l,allSegments:r,isFirstFlightOfRoute:o}=e;if(!t)return console.log("SSROptions - No ssrInfo provided"),null;console.log("SSROptions - ssrInfo received:",t),console.log("SSROptions - selectedSegmentKey:",l),console.log("SSROptions - allSegments:",r),console.log("SSROptions - ssrInfo keys:",t?Object.keys(t):"No ssrInfo"),t&&"object"===typeof t&&(console.log("\ud83d\udd0d Full SSR data structure:"),Object.entries(t).forEach(e=>{let[t,n]=e;console.log("  ".concat(t,":"),Array.isArray(n)?"".concat(n.length," items"):typeof n,n)}));const c=l?parseInt(l.replace("segment_","")):0,d=r&&r[c]?r[c]:"Current Segment",u=["MEAL","meal","meals","Meals","MEALS","food","FOOD","FOODS","Foods","catering","CATERING","Catering","menu","MENU","Menu","mealOptions","meal_options","MEAL_OPTIONS","mealService","MEAL_SERVICE","meal_service"],h=["BAGGAGE","baggage","baggages","Baggage","BAGGAGES","luggage","LUGGAGE","LUGGAGES","Luggages","baggageOptions","baggage_options","BAGGAGE_OPTIONS"],m=["FASTFORWARD","fastForward","fastforward","FastForward","FAST_FORWARD","priority","PRIORITY","Priority","fastTrack","FAST_TRACK","fast_track"];let p=[];for(const b of u)if(t[b]&&Array.isArray(t[b])){p=t[b],console.log("\u2705 Found meal data under key: ".concat(b," (").concat(p.length," items)"));break}0===p.length&&(console.log("\ud83d\udd0d No meal data found with known keys, checking all arrays for meal-like content..."),Object.entries(t).forEach(e=>{let[t,n]=e;if(Array.isArray(n)&&n.length>0){n.some(e=>{if("object"===typeof e&&null!==e){const t=JSON.stringify(e).toLowerCase();return t.includes("meal")||t.includes("food")||t.includes("veg")||t.includes("non-veg")||t.includes("catering")||t.includes("menu")}return!1})&&(p=n,console.log("\u2705 Found meal-like data under unexpected key: ".concat(t," (").concat(p.length," items)")),console.log("Sample meal data:",n[0]))}}));let v=[];for(const b of h)if(t[b]&&Array.isArray(t[b])){v=t[b],console.log("\u2705 Found baggage data under key: ".concat(b," (").concat(v.length," items)"));break}let f=[];for(const b of m)if(t[b]&&Array.isArray(t[b])){f=t[b],console.log("\u2705 Found fastforward data under key: ".concat(b," (").concat(f.length," items)"));break}const g=[...u,...h,...m],x=Object.entries(t).filter(e=>{let[t]=e;return!g.includes(t)}).flatMap(e=>{let[,t]=e;return Array.isArray(t)?t:"object"===typeof t&&null!==t?[t]:[]});console.log("SSROptions - parsed options:",{mealOptions:p,baggageOptions:v,fastForwardOptions:f,otherOptions:x,allKeys:Object.keys(t)}),0===p.length?(console.warn("\u26a0\ufe0f NO MEAL DATA FOUND!"),console.warn("\u26a0\ufe0f SSR Info keys checked:",Object.keys(t)),console.warn("\u26a0\ufe0f SSR Info full data:",t),console.warn("\u26a0\ufe0f Please check the API response structure above to locate where meal data is stored.")):console.log("\u2705 Found ".concat(p.length," meal options:"),p);return p.length>0||v.length>0||f.length>0||x.length>0?(0,_t.jsxs)("div",{className:"ssr-container",children:[r&&r.length>1&&(0,_t.jsxs)("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"6px",padding:"0.75rem 1rem",marginBottom:"1rem",textAlign:"center"},children:[(0,_t.jsxs)("strong",{children:["Services for: ",d]}),(0,_t.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"0.25rem"},children:"Use the segment switcher above to view services for different flight segments"})]}),(0,_t.jsx)(Qi,{mealOptions:p,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l}),(0,_t.jsx)(Zi,{baggageOptions:v,selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l,allSegments:r,isFirstFlightOfRoute:o}),(0,_t.jsx)(el,{otherOptions:[...f,...x],selectedSSRItems:n,onSSRItemSelect:a,passengers:s,onPassengerAssignment:i,selectedSegmentKey:l,allSegments:r,isFirstFlightOfRoute:o})]}):(console.log("SSROptions - No valid options found in ssrInfo"),(0,_t.jsxs)("div",{style:{background:"#fff3cd",padding:"1rem",borderRadius:"8px",border:"1px solid #ffeaa7",textAlign:"center"},children:[(0,_t.jsx)("p",{children:"No special services are available for this flight."}),(0,_t.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"0.5rem"},children:"Check browser console for detailed SSR data structure inspection."})]}))},nl=e=>{var t,n,a,s,l,r,o;let{bookingData:c,passengerData:d,setPassengerData:u,onNext:h,onPrev:m,onComplete:p,currentStep:v,totalSteps:f,timeLeft:g}=e;const{user:x}=$i()||{},b=null===c||void 0===c?void 0:c.flightData,{paxInfo:y,searchData:N,selectedFlights:j}=b||{},w=(null===b||void 0===b?void 0:b.gstPopupShown)||!1,[k,S]=(0,i.useState)(!1),[C,I]=(0,i.useState)(null),[A,D]=(0,i.useState)(null),[E,P]=(0,i.useState)(!1),[T,R]=(0,i.useState)(null),F=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"object"!==typeof e)return null;const n=["ssrInfo","ssr","specialServices","addOns","ancillaries","extras"];for(const a of n)if(e[a])return console.log("\ud83d\udd0d Found SSR data at ".concat(t,".").concat(a,":"),e[a]),e[a];if(e.MEAL||e.BAGGAGE||e.FASTFORWARD||e.meal||e.baggage||e.fastforward||e.meals||e.baggages||e.fastforwards)return console.log("\ud83d\udd0d Found direct SSR data at ".concat(t,":"),e),e;for(const[a,s]of Object.entries(e))if("object"===typeof s&&null!==s&&!Array.isArray(s)){const e=F(s,"".concat(t,".").concat(a));if(e)return e}return null},O=async(e,t)=>{try{se(t=>He(He({},t),{},{[e]:!0}));const n=(null===b||void 0===b?void 0:b.priceIds)||[];if(0===n.length)throw new Error("No price IDs available for SSR API call");const a=await Ns(n);if(console.log("\ud83d\udd0d Full API response for segment ".concat(e,":"),a),console.log("\ud83d\udd0d API response keys:",a?Object.keys(a):"No response"),a){console.log("\ud83d\udd0d\ud83d\udd0d\ud83d\udd0d DEEP INSPECTION OF API RESPONSE \ud83d\udd0d\ud83d\udd0d\ud83d\udd0d");const e=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"response",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;if(a>s||!t||"object"!==typeof t)return;const i="  ".repeat(a);Object.keys(t).forEach(l=>{const r=t[l],o="".concat(n,".").concat(l);Array.isArray(r)?(console.log("".concat(i).concat(l,": [Array with ").concat(r.length," items]")),r.length>0&&a<s&&(console.log("".concat(i,"  First item:"),r[0]),(l.toLowerCase().includes("meal")||l.toLowerCase().includes("ssr")||r[0]&&"object"===typeof r[0]&&(r[0].desc||r[0].description||r[0].code))&&console.log("".concat(i,"  \u2b50 POTENTIAL MEAL/SSR DATA AT: ").concat(o)),e(r[0],"".concat(o,"[0]"),a+1,s))):"object"===typeof r&&null!==r?(console.log("".concat(i).concat(l,": [Object]")),e(r,o,a+1,s)):console.log("".concat(i).concat(l,": ").concat(typeof r))})};e(a),console.log("\ud83d\udd0d\ud83d\udd0d\ud83d\udd0d END DEEP INSPECTION \ud83d\udd0d\ud83d\udd0d\ud83d\udd0d")}let s=null;const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"object"!==typeof e)return null;console.log("\ud83d\udd0d Checking ".concat(t," for SSR data..."));const n=["ssrInfo","ssr","SSR","specialServices","addOns","ancillaries","extras"];for(const a of n)if(e[a]&&"object"===typeof e[a])return console.log("\u2705 Found SSR data at ".concat(t,".").concat(a,":"),e[a]),e[a];return e.MEAL||e.BAGGAGE||e.FASTFORWARD||e.meal||e.baggage||e.fastforward||e.meals||e.baggages||e.fastforwards?(console.log("\u2705 Found direct SSR arrays at ".concat(t,":"),{MEAL:e.MEAL||e.meal||e.meals,BAGGAGE:e.BAGGAGE||e.baggage||e.baggages,FASTFORWARD:e.FASTFORWARD||e.fastforward||e.fastforwards}),{MEAL:e.MEAL||e.meal||e.meals||[],BAGGAGE:e.BAGGAGE||e.baggage||e.baggages||[],FASTFORWARD:e.FASTFORWARD||e.fastforward||e.fastforwards||[]}):null};if(null!==a&&void 0!==a&&a.tripInfos&&Array.isArray(a.tripInfos)){const{tripIndex:e,segmentIndexInTrip:n}=Ce(t);console.log("\ud83d\udd0d Segment ".concat(t," maps to Trip ").concat(e,", Segment ").concat(n," within trip"));const l=a.tripInfos[e]||a.tripInfos[0];if(console.log("\ud83d\udd0d TripInfo ".concat(e," (for segment ").concat(t,"):"),l),s=i(l,"tripInfos[".concat(e,"]")),!s&&null!==l&&void 0!==l&&l.sI&&Array.isArray(l.sI)){if(console.log("\ud83d\udd0d Checking sI array in tripInfo ".concat(e,"...")),n<l.sI.length){s=i(l.sI[n],"tripInfos[".concat(e,"].sI[").concat(n,"]")),console.log("\ud83d\udd0d Checking specific segment ".concat(n," in trip ").concat(e,":"),s?"Found SSR data":"No SSR data")}if(!s)for(let t=0;t<l.sI.length;t++){if(s=i(l.sI[t],"tripInfos[".concat(e,"].sI[").concat(t,"]")),s)break}}if(!s&&null!==l&&void 0!==l&&l.totalPriceList&&Array.isArray(l.totalPriceList)){console.log("\ud83d\udd0d Checking totalPriceList array in tripInfo ".concat(e,"..."));for(let t=0;t<l.totalPriceList.length;t++){if(s=i(l.totalPriceList[t],"tripInfos[".concat(e,"].totalPriceList[").concat(t,"]")),s)break}}}if(s||(s=i(a,"response")),!s&&null!==a&&void 0!==a&&a.items&&Array.isArray(a.items)){console.log("\ud83d\udd0d Checking items array for SSR data...");for(let e=0;e<a.items.length&&(s=i(a.items[e],"items[".concat(e,"]")),!s);e++);}if(!s&&null!==a&&void 0!==a&&a.review&&Array.isArray(a.review)){console.log("\ud83d\udd0d Checking review array for SSR data...");for(let e=0;e<a.review.length&&(s=i(a.review[e],"review[".concat(e,"]")),!s);e++);}s||(s=F(a,"segmentSSR"),console.log("\ud83d\udd0d Recursive search SSR data:",s));let l=s;if(s&&Object.keys(s).length>0){l=JSON.parse(JSON.stringify(s));const e=fe(),n=e&&e[t]?e[t]:"Segment ".concat(t+1);Object.keys(l).forEach(e=>{Array.isArray(l[e])&&(l[e]=l[e].map(e=>He(He({},e),{},{segmentIndex:t,segmentLabel:n})))})}ne(t=>He(He({},t),{},{[e]:l})),console.log("\u2705 SSR data loaded for segment ".concat(e,":"),l)}catch(n){console.error("\u274c Failed to load SSR data for segment ".concat(e,":"),n),ne(t=>He(He({},t),{},{[e]:null}))}finally{se(t=>He(He({},t),{},{[e]:!1}))}},[L,M]=(0,i.useState)({adults:[],children:[],infants:[],gstDetails:{registrationNumber:"",companyName:"",email:"",phone:"",address:""}}),[B,_]=(0,i.useState)({}),[z,U]=(0,i.useState)({}),[H,q]=(0,i.useState)(!1),W=(null===N||void 0===N?void 0:N.tripType)||"oneway",[G,V]=(0,i.useState)(!1),[K,$]=(0,i.useState)(null),[Y,X]=(0,i.useState)(null),[J,Q]=(0,i.useState)(null),[Z,ee]=(0,i.useState)(null),[te,ne]=(0,i.useState)({}),[ae,se]=(0,i.useState)({}),[ie,le]=(0,i.useState)({}),[re,oe]=(0,i.useState)(null),[ce,de]=(0,i.useState)({}),[ue,he]=(0,i.useState)(350),me=(0,i.useRef)(null),pe=(0,i.useRef)(!1),ve=()=>{let e=(null===b||void 0===b?void 0:b.bookingId)||(null===c||void 0===c?void 0:c.bookingId);if(!e)try{"undefined"!==typeof window&&window.localStorage&&(e=window.localStorage.getItem("tj_bookingId"))}catch(t){}return e||null},fe=()=>{const e=Object.values(j||{}),t=[];return e.forEach(e=>{var n;((null===e||void 0===e||null===(n=e.flight)||void 0===n?void 0:n.sI)||[]).forEach(e=>{var n,a;const s=null===e||void 0===e||null===(n=e.da)||void 0===n?void 0:n.code,i=null===e||void 0===e||null===(a=e.aa)||void 0===a?void 0:a.code;s&&i&&t.push("".concat(s," \u2192 ").concat(i))})}),0===t.length&&Array.isArray(null===N||void 0===N?void 0:N.routeInfos)&&N.routeInfos.forEach(e=>{var n,a;const s=null===e||void 0===e||null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code,i=null===e||void 0===e||null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code;s&&i&&t.push("".concat(s," \u2192 ").concat(i))}),t},ge=e=>{var t,n,a,s,i,l;const r=Object.values(j||{}),o=[];if(r.forEach(e=>{var t;((null===e||void 0===e||null===(t=e.flight)||void 0===t?void 0:t.sI)||[]).forEach(e=>{var t,n;const a=null===e||void 0===e||null===(t=e.da)||void 0===t?void 0:t.code,s=null===e||void 0===e||null===(n=e.aa)||void 0===n?void 0:n.code;a&&s&&o.push({from:a,to:s})})}),o.length>0&&e<o.length){const t=o[e];return"".concat(t.from," \u2192 ").concat(t.to)}const c=null===N||void 0===N||null===(t=N.routeInfos)||void 0===t||null===(n=t[e])||void 0===n||null===(a=n.fromCityOrAirport)||void 0===a?void 0:a.code,d=null===N||void 0===N||null===(s=N.routeInfos)||void 0===s||null===(i=s[e])||void 0===i||null===(l=i.toCityOrAirport)||void 0===l?void 0:l.code;return c&&d?"".concat(c," \u2192 ").concat(d):"Segment ".concat(e+1)},xe=()=>{var e,t,n;if(console.log("\ud83d\udd0d SeatMap Debug - Full seatMapData:",Y),console.log("\ud83d\udd0d SeatMap Debug - tripSeatMap:",null===Y||void 0===Y?void 0:Y.tripSeatMap),console.log("\ud83d\udd0d SeatMap Debug - tripSeat:",null===Y||void 0===Y||null===(e=Y.tripSeatMap)||void 0===e?void 0:e.tripSeat),null===Y||void 0===Y||null===(t=Y.tripSeatMap)||void 0===t||!t.tripSeat)return console.log("\u274c SeatMap Debug - No tripSeat data available"),{seatmap:null,width:350};const a=Y.tripSeatMap.tripSeat,s=Object.keys(a);if(console.log("\ud83d\udd0d SeatMap Debug - Available tripKeys:",s),0===s.length)return console.log("\u274c SeatMap Debug - No trip keys found"),{seatmap:null,width:350};const i=s.length>1&&J?J:s[0],l=Math.max(0,s.indexOf(i)),r=a[i],o=(e=>e&&0!==e?46+e*(window.innerWidth<768?34:40):350)(null!==r&&void 0!==r&&null!==(n=r.sData)&&void 0!==n&&n.column?Number(r.sData.column):0),c=((e,t,n)=>{console.log("\ud83d\udd0d SeatMap Debug - Rendering segment ".concat(e,":"),t);const{sData:a,sInfo:i}=t||{};if(!a||!i)return console.log("\u274c SeatMap Debug - Missing sData or sInfo for segment ".concat(e,":"),{sData:a,sInfo:i}),(0,_t.jsxs)("div",{className:"seatmap-visual",style:{marginBottom:16},children:[(0,_t.jsx)("div",{style:{marginBottom:6,fontWeight:600},children:ge(n)}),(0,_t.jsx)("div",{className:"seatmap-error",style:{padding:"20px",textAlign:"center",color:"#f44336"},children:"Seat map is not available for this segment"})]},"segment-".concat(e));const l=Number(a.row)||0,r=Number(a.column)||0;if(console.log("\ud83d\udd0d SeatMap Debug - Grid dimensions for ".concat(e,": ").concat(l,"x").concat(r)),0===l||0===r)return console.log("\u274c SeatMap Debug - Invalid grid dimensions for segment ".concat(e)),(0,_t.jsxs)("div",{className:"seatmap-visual",style:{marginBottom:16},children:[(0,_t.jsx)("div",{style:{marginBottom:6,fontWeight:600},children:ge(n)}),(0,_t.jsx)("div",{className:"seatmap-error",style:{padding:"20px",textAlign:"center",color:"#f44336"},children:"Invalid seat map dimensions"})]},"segment-".concat(e));const o=i.map(e=>{var t;return null===e||void 0===e||null===(t=e.seatPosition)||void 0===t?void 0:t.row}).filter(e=>null!=e),c=o.length>0?Math.min(...o):1,d=o.length>0?Math.max(...o):l;console.log("\ud83d\udd0d SeatMap Debug - Row range: min=".concat(c,", max=").concat(d,", total=").concat(l)),console.log("\ud83d\udd0d SeatMap Debug - Seat info count for ".concat(e,":"),i.length);const u=Math.max(d,l),h=Array.from({length:u+1},()=>Array.from({length:r+1},()=>null));i.forEach((e,t)=>{var n,a;const s=null===e||void 0===e||null===(n=e.seatPosition)||void 0===n?void 0:n.row,i=null===e||void 0===e||null===(a=e.seatPosition)||void 0===a?void 0:a.column;console.log("\ud83d\udd0d SeatMap Debug - Seat ".concat(t,": row=").concat(s,", col=").concat(i,", code=").concat(null===e||void 0===e?void 0:e.code)),null!=s&&null!=i&&s<=u&&i<=r?h[s][i]=e:console.warn("\u26a0\ufe0f SeatMap Debug - Invalid seat position: row=".concat(s,", col=").concat(i," (max: ").concat(u,"x").concat(r,")"))});const m=[];for(let s=1;s<=r;s++){let e=!1;for(let t=1;t<=u;t++)if(h[t]&&null!==h[t][s]){e=!0;break}e||m.push(s)}return console.log("\ud83d\udd0d SeatMap Debug - Detected aisle positions:",m),(0,_t.jsxs)("div",{className:"seatmap-visual",style:{marginBottom:16},children:[s.length>1&&(0,_t.jsx)("div",{style:{marginBottom:12,fontWeight:600,fontSize:"16px",color:"#333"}}),(0,_t.jsx)("div",{style:{overflowX:"auto",backgroundColor:"#fafafa"},children:(0,_t.jsx)("table",{ref:me,style:{borderCollapse:"collapse"},children:(0,_t.jsx)("tbody",{children:h.map((t,n)=>{if(0===n)return null;const a=t.some((e,t)=>t>0&&null!==e);return(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{style:{padding:"6px 8px",fontWeight:600,fontSize:"12px",textAlign:"center",minWidth:"30px",backgroundColor:"#f0f0f0"},children:n}),t.map((t,s)=>{var i;if(0===s)return null;if(!a)return m.includes(s)?(0,_t.jsx)("td",{style:{padding:2},children:(0,_t.jsx)("div",{style:{width:window.innerWidth<768?30:36,height:window.innerWidth<768?30:36,backgroundColor:"transparent"}})},"c-".concat(e,"-").concat(n,"-").concat(s)):(0,_t.jsx)("td",{style:{padding:2},children:(0,_t.jsx)("div",{style:{width:window.innerWidth<768?30:36,height:window.innerWidth<768?30:36,background:"#f5f5f5",color:"#999",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,fontSize:window.innerWidth<768?10:12,fontWeight:"bold",border:"2px solid #ddd",cursor:"not-allowed"},children:"\u2715"})},"c-".concat(e,"-").concat(n,"-").concat(s));const l=null===t||void 0===t?void 0:t.isAisle,r=null===t||void 0===t?void 0:t.isBooked,o=(null===t||void 0===t?void 0:t.code)||"",c="number"===typeof(null===t||void 0===t?void 0:t.amount)?t.amount:null,d=!!(null===ie||void 0===ie||null===(i=ie[e])||void 0===i?void 0:i[o]),u=r?"#e0e0e0":d?"#e3f2fd":l?"#fff3e0":"#e8f5e8";return(0,_t.jsx)("td",{style:{padding:2},children:t?(0,_t.jsx)("div",{title:"".concat(o).concat(null!=c?" \u2022 \u20b9".concat(c):"").concat(r?" \u2022 Booked":"").concat(l?" \u2022 Aisle":""),onClick:()=>{r||le(t=>{var n,a;const s=He({},t[e]||{}),i=s[o];if(re&&(null===i||void 0===i||null===(n=i.passenger)||void 0===n?void 0:n.type)===re.type&&(null===i||void 0===i||null===(a=i.passenger)||void 0===a?void 0:a.index)===re.index)return delete s[o],He(He({},t),{},{[e]:s});if(i&&(!re||i.passenger.type!==re.type||i.passenger.index!==re.index))return t;if(!re){const e=document.createElement("div");e.style.cssText="\n                                        position: fixed;\n                                        top: 50%;\n                                        left: 50%;\n                                        transform: translate(-50%, -50%);\n                                        background: white;\n                                        border: 2px solid #667eea;\n                                        border-radius: 12px;\n                                        padding: 20px;\n                                        box-shadow: 0 8px 32px rgba(0,0,0,0.3);\n                                        z-index: 10000;\n                                        max-width: 400px;\n                                        text-align: center;\n                                        font-family: Arial, sans-serif;\n                                      ",e.innerHTML='\n                                        <div style="margin-bottom: 15px;">\n                                          <h3 style="margin: 0 0 10px 0; color: #333; font-size: 18px;">Select Passenger First</h3>\n                                          <p style="margin: 0; color: #666; font-size: 14px; line-height: 1.4;">\n                                            Please select a passenger first by clicking on<br>\n                                            <strong>"Adult X \u2013 Select Seat"</strong> or <strong>"Child X \u2013 Select Seat"</strong>\n                                          </p>\n                                        </div>\n                                        <button onclick="this.parentElement.remove()" style="\n                                          background: #667eea;\n                                          color: white;\n                                          border: none;\n                                          padding: 10px 20px;\n                                          border-radius: 6px;\n                                          cursor: pointer;\n                                          font-size: 14px;\n                                          font-weight: 500;\n                                        ">Got it!</button>\n                                      ';const n=document.createElement("div");return n.style.cssText="\n                                        position: fixed;\n                                        top: 0;\n                                        left: 0;\n                                        width: 100%;\n                                        height: 100%;\n                                        background: rgba(0,0,0,0.5);\n                                        z-index: 9999;\n                                      ",n.onclick=()=>{n.remove(),e.remove()},document.body.appendChild(n),document.body.appendChild(e),setTimeout(()=>{n.parentElement&&n.remove(),e.parentElement&&e.remove()},3e3),t}return Object.keys(s).forEach(e=>{var t,n,a,i;(null===(t=s[e])||void 0===t||null===(n=t.passenger)||void 0===n?void 0:n.type)===re.type&&(null===(a=s[e])||void 0===a||null===(i=a.passenger)||void 0===i?void 0:i.index)===re.index&&delete s[e]}),s[o]={amount:c||0,passenger:He({},re)},He(He({},t),{},{[e]:s})})},style:{width:window.innerWidth<768?30:36,height:window.innerWidth<768?30:36,background:u,color:r?"#ffffff":d?"#1976d2":l?"#f57c00":"#2e7d32",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:6,fontSize:window.innerWidth<768?10:12,fontWeight:"bold",cursor:r?"not-allowed":"pointer",border:d?"3px solid #fff":"2px solid transparent",boxShadow:d?"0 2px 8px rgba(0,0,0,0.3)":"0 1px 3px rgba(0,0,0,0.2)",transition:"all 0.2s ease",position:"relative"},onMouseEnter:e=>{r||(e.target.style.transform="scale(1.1)",e.target.style.zIndex="10")},onMouseLeave:e=>{r||(e.target.style.transform="scale(1)",e.target.style.zIndex="1")},children:r?"\u2715":o}):(0,_t.jsx)("div",{style:{width:window.innerWidth<768?30:36,height:window.innerWidth<768?30:36,backgroundColor:"transparent"}})},"c-".concat(e,"-").concat(n,"-").concat(s))})]},"r-".concat(e,"-").concat(n))})})})})]},"segment-".concat(e))})(i,r,l);return{seatmap:c,width:o}},be=e=>isNaN(Number(e))?0:Number(e),ye=e=>e.trim()?/^[A-Za-z\s]+$/.test(e)?e.trim().length<2?"Name must be at least 2 characters long":"":"\u26a0\ufe0f Special characters are not allowed. Only alphabets are permitted.":"This field is required",Ne=e=>e.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"\u26a0\ufe0f Invalid email format. Please enter a valid email address (e.g., user@example.com)":"Email is required",je=e=>e.trim()?/^\d{10}$/.test(e)?"":10!==e.length?"\u26a0\ufe0f Mobile number must be exactly 10 digits long":/^\d+$/.test(e)?"\u26a0\ufe0f Mobile number must be exactly 10 digits":"\u26a0\ufe0f Mobile number can only contain numeric characters":"Phone number is required",we=e=>{const t=e.trim().toUpperCase();if(!t)return"GST Registration Number is required";if(15!==t.length)return"\u26a0 GST number must be exactly 15 characters long";if(!/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(t))return"\u26a0 Please enter a valid 15-character GST number (e.g., 27AAAAA1234A1Z5)";const n=parseInt(t.substring(0,2),10);return n<1||n>37?"\u26a0 Invalid state code in GST number. State code must be between 01-37":""},ke=(e,t)=>e&&e.trim()?"":"".concat(t," is required"),Se=e=>{if(null===N||void 0===N||!N.routeInfos||!j)return!1;const t=[];if(Object.values(j).forEach((e,n)=>{var a;((null===e||void 0===e||null===(a=e.flight)||void 0===a?void 0:a.sI)||[]).forEach(e=>{var a,s;const i=null===e||void 0===e||null===(a=e.da)||void 0===a?void 0:a.code,l=null===e||void 0===e||null===(s=e.aa)||void 0===s?void 0:s.code;i&&l&&t.push({from:i,to:l,flightIndex:n,routeIndex:n})})}),e>=t.length)return!1;const n=t[e].routeIndex;return e===t.findIndex(e=>e.routeIndex===n)},Ce=e=>{if(!j)return{tripIndex:0,segmentIndexInTrip:0};const t=[];if(Object.values(j).forEach((e,n)=>{var a;((null===e||void 0===e||null===(a=e.flight)||void 0===a?void 0:a.sI)||[]).forEach(e=>{var a,s;const i=null===e||void 0===e||null===(a=e.da)||void 0===a?void 0:a.code,l=null===e||void 0===e||null===(s=e.aa)||void 0===s?void 0:s.code;i&&l&&t.push({from:i,to:l,flightIndex:n,tripIndex:n})})}),e>=t.length)return{tripIndex:0,segmentIndexInTrip:0};const n=t[e],a=n.tripIndex,s=t.filter(e=>e.tripIndex===a).findIndex(n=>t.indexOf(n)===e);return console.log("\ud83d\uddfa\ufe0f Segment Mapping: segment ".concat(e," \u2192 trip ").concat(a,", segment ").concat(s," within trip")),console.log("   Route: ".concat(n.from," \u2192 ").concat(n.to)),{tripIndex:a,segmentIndexInTrip:s}},Ie=(()=>{if(null===N||void 0===N||!N.routeInfos)return!1;const e=["BLR","DEL","MAA","BOM","HYD","CCU","COK","GOI","PNQ","AMD","JAI","VNS","PAT","LKO","KNU","NAG","IDR","BHO","RPR","JLR","IXC","UDR","JDH","BBI","RJA","VGA","TIR","CJB","TRZ","IXM","TRV","CCJ","BDQ","SXR","IXL","DED","DHM","SHL","GAU","IXR","IXA","IXB","IXD","IXE","IXG","IXI","IXJ","IXK","IXN","IXP","IXQ","IXS","IXT","IXU","IXV","IXW","IXY","IXZ"];return N.routeInfos.some(t=>{var n,a;const s=null===(n=t.fromCityOrAirport)||void 0===n?void 0:n.code,i=null===(a=t.toCityOrAirport)||void 0===a?void 0:a.code;return!e.includes(s)||!e.includes(i)})})(),Ae=()=>{let e=0;return Object.values(ie||{}).forEach(t=>{Object.values(t||{}).forEach(t=>{e+=Number(null===t||void 0===t?void 0:t.amount)||0})}),e},De=()=>{let e=0;return Object.values(ce||{}).forEach(t=>{const n=((null===t||void 0===t?void 0:t.assignedPassengers)||[]).length,a=Number(null===t||void 0===t?void 0:t.price)||0;n>0&&(e+=a*n)}),e},Ee=(e,t)=>{console.log("\ud83d\udd04 SSR Item Selection:",{itemId:e,category:t.category,segmentIndex:t.segmentIndex}),de(n=>{if(console.log("\ud83d\udccb Current selectedSSRItems keys:",Object.keys(n)),n[e]){console.log("\u274c Removing item:",e);const t=He({},n);return delete t[e],console.log("\ud83d\udccb After removal, keys:",Object.keys(t)),t}{console.log("\u2705 Adding item:",e);let a=[];if("fastforward"===t.category){const e=Te(),t=e.map(e=>e.type),n=e.filter(e=>"infant"===e.type);a=e.map((e,t)=>({type:e.type,index:t})).filter(e=>"infant"!==e.type),console.log("\ud83d\ude80 Fast Forward passenger assignment:",{allPassengerTypes:t,excludedInfants:n.length,assignedPassengers:a.length,assignedTypes:a.map(e=>e.type)})}const s=He(He({},t),{},{assignedPassengers:a,segmentKey:Z||"segment_0",segmentLabel:Z?fe()[parseInt(Z.replace("segment_",""))]:fe()[0]}),i=He(He({},n),{},{[e]:s});return console.log("\ud83d\udccb After addition, keys:",Object.keys(i)),i}})},Pe=(e,t,n,a)=>{console.log("\ud83d\udc64 Passenger Assignment:",{itemId:e,passengerType:t,passengerIndex:n,isAssigned:a}),de(s=>{const i=s[e];if(!i)return s;console.log("\ud83d\udd0d Current item:",{category:i.category,segmentIndex:i.segmentIndex});const l=He({},i),r=[...l.assignedPassengers||[]];if(a){const a=i.category,o=("".concat(t,"_").concat(n),i.segmentIndex);console.log("\ud83d\udd0d Looking for existing assignments in category:",a,"segment:",o);const c=Object.entries(s).find(s=>{var i;let[l,r]=s;if(l===e)return!1;if(r.category!==a)return!1;if(r.segmentIndex!==o)return!1;const c=null===(i=r.assignedPassengers)||void 0===i?void 0:i.some(e=>e.type===t&&e.index===n);return c&&console.log("\u26a0\ufe0f Found existing assignment:",{otherItemId:l,category:r.category,segmentIndex:r.segmentIndex}),c});if(c){const[a,r]=c,o=He({},r),d=r.assignedPassengers.filter(e=>!(e.type===t&&e.index===n));o.assignedPassengers=d;const u=He(He({},s),{},{[a]:o}),h=[...i.assignedPassengers||[]];return h.find(e=>e.type===t&&e.index===n)||h.push({type:t,index:n}),l.assignedPassengers=h,u[e]=l,u}r.find(e=>e.type===t&&e.index===n)||r.push({type:t,index:n})}else{const e=r.filter(e=>!(e.type===t&&e.index===n));r.splice(0,r.length,...e)}return l.assignedPassengers=r,He(He({},s),{},{[e]:l})})},Te=()=>{const e=[];return L.adults.forEach((t,n)=>{e.push(He({type:"adults",index:n},t))}),L.children.forEach((t,n)=>{e.push(He({type:"children",index:n},t))}),L.infants.forEach((t,n)=>{e.push(He({type:"infant",index:n},t))}),e};(0,i.useEffect)(()=>{let e=ve();if(!e)return void console.log("\ud83d\udd0d SeatMap: bookingId missing; cannot load seat map");(async()=>{try{var t;if(V(!0),$(null),Y&&Y.bookingId===e)return console.log("\ud83d\udd0d SeatMap: Using cached data for bookingId:",e),void V(!1);console.log("\ud83d\udd04 SeatMap: Loading seat map for bookingId:",e);const n=await js(e);if(console.log("\u2705 SeatMap: API response received:",n),console.log("\ud83d\udd0d SeatMap: tripSeatMap structure:",null===n||void 0===n?void 0:n.tripSeatMap),console.log("\ud83d\udd0d SeatMap: tripSeat keys:",null!==n&&void 0!==n&&null!==(t=n.tripSeatMap)&&void 0!==t&&t.tripSeat?Object.keys(n.tripSeatMap.tripSeat):[]),!n)throw new Error("No response received from seat selection API");if(!n.tripSeatMap)throw new Error("Invalid response structure: missing tripSeatMap");if(!n.tripSeatMap.tripSeat)throw new Error("Invalid response structure: missing tripSeatMap.tripSeat");const a=Object.keys(n.tripSeatMap.tripSeat);if(0===a.length)throw new Error("No seat map segments available");a.forEach(e=>{const t=n.tripSeatMap.tripSeat[e];t.sData&&t.sInfo||console.warn("\u26a0\ufe0f SeatMap: Segment ".concat(e," has incomplete data:"),t)}),X(n),console.log("\u2705 SeatMap: Successfully loaded and validated seat map data")}catch(Ul){var n,a,s,i,l;console.error("\u274c SeatMap: Failed to load seat map:",Ul);const t=(null===Ul||void 0===Ul||null===(n=Ul.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||(null===Ul||void 0===Ul?void 0:Ul.message)||"Failed to load seat map";$(t),console.error("\u274c SeatMap: Error details:",{message:Ul.message,status:null===Ul||void 0===Ul||null===(s=Ul.response)||void 0===s?void 0:s.status,statusText:null===Ul||void 0===Ul||null===(i=Ul.response)||void 0===i?void 0:i.statusText,data:null===Ul||void 0===Ul||null===(l=Ul.response)||void 0===l?void 0:l.data})}finally{V(!1)}})()},[null===b||void 0===b?void 0:b.bookingId,null===c||void 0===c?void 0:c.bookingId]),(0,i.useEffect)(()=>{var e;const t=null!==Y&&void 0!==Y&&null!==(e=Y.tripSeatMap)&&void 0!==e&&e.tripSeat?Object.keys(Y.tripSeatMap.tripSeat):[];console.log("SeatMap: Available segment keys",t),console.log("SeatMap: Flight segments",fe()),t.length>1&&!J&&Q(t[0])},[Y,J]),(0,i.useEffect)(()=>{fe().length>1&&!Z&&ee("segment_0")},[j,Z]),(0,i.useEffect)(()=>{var e;if(Z&&(null===b||void 0===b||null===(e=b.priceIds)||void 0===e?void 0:e.length)>0){const e=parseInt(Z.replace("segment_",""));te[Z]||ae[Z]||O(Z,e)}},[Z,null===b||void 0===b?void 0:b.priceIds]),(0,i.useEffect)(()=>{const e=()=>{if(me.current){const e=me.current.offsetWidth;e>0&&he(e)}},t=setTimeout(()=>{requestAnimationFrame(()=>{e(),setTimeout(e,200)})},100);return window.addEventListener("resize",e),()=>{clearTimeout(t),window.removeEventListener("resize",e)}},[Y,J]);(0,i.useEffect)(()=>{var e;if(pe.current)return;const t=(null===c||void 0===c?void 0:c.step2Data)||(null===c||void 0===c?void 0:c.passengerDetails)||d;if(!t)return;const n=ve(),a=(null===t||void 0===t||null===(e=t.reviewPayload)||void 0===e?void 0:e.bookingId)||(null===t||void 0===t?void 0:t.bookingId)||null;if(a&&n&&a!==n)return;const{adults:s=[],children:i=[],infants:l=[],gstDetails:r={},selectedSeats:o,selectedSSRItems:u}=t,h=[...s,...i,...l].some(e=>{if(!e||"object"!==typeof e)return!1;const{id:t,type:n}=e,a=Ks(e,Yi);return Object.values(a).some(e=>void 0!==e&&null!==e&&""!=="".concat(e).trim())}),m=r&&Object.values(r).some(e=>void 0!==e&&null!==e&&""!=="".concat(e).trim()),p=o&&Object.keys(o).length>0,v=u&&Object.keys(u).length>0;(h||m||p||v)&&(M(e=>({adults:s.length?s:e.adults,children:i.length?i:e.children,infants:l.length?l:e.infants,gstDetails:He(He({},e.gstDetails),r||{})})),p&&le(o),v&&de(u),pe.current=!0)},[null===c||void 0===c?void 0:c.step2Data,null===c||void 0===c?void 0:c.passengerDetails,d]),(0,i.useEffect)(()=>{y&&M(e=>{if(e.adults.length||e.children.length||e.infants.length)return e;const t=Array.from({length:be(y.ADULT)},(e,t)=>({id:"adult_".concat(t),type:"adult",title:"",firstName:"",lastName:"",dateOfBirth:"",gender:"",email:"",phone:"",nationality:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:""})),n=Array.from({length:be(y.CHILD)},(e,t)=>({id:"child_".concat(t),type:"child",title:"",firstName:"",lastName:"",dateOfBirth:"",gender:"",nationality:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:""})),a=Array.from({length:be(y.INFANT)},(e,n)=>{var a;return{id:"infant_".concat(n),type:"infant",title:"",firstName:"",lastName:"",dateOfBirth:"",gender:"",associatedAdult:(null===(a=t[0])||void 0===a?void 0:a.id)||"",nationality:"",passportNumber:"",passportIssueDate:"",passportExpiryDate:""}});return{adults:t,children:n,infants:a}})},[y]);const Re=(e,t,n,a)=>{M(s=>He(He({},s),{},{[e]:s[e].map((e,s)=>s===t?He(He({},e),{},{[n]:a}):e)})),B["".concat(e,"_").concat(t,"_").concat(n)]&&_(a=>He(He({},a),{},{["".concat(e,"_").concat(t,"_").concat(n)]:""}));let s="";const i="".concat(e,"_").concat(t);"firstName"===n||"lastName"===n?a&&!/^[A-Za-z\s]*$/.test(a)?s="\u26a0\ufe0f Special characters are not allowed. Only alphabets are permitted.":a.trim()&&(s=ye(a)):"email"===n?a&&!/^[^\s@]*@?[^\s@]*\.?[^\s@]*$/.test(a)?s="\u26a0\ufe0f Invalid email format. Please enter a valid email address (e.g., user@example.com)":a.trim()&&(s=Ne(a)):"phone"===n?a&&!/^\d*$/.test(a)?s="\u26a0\ufe0f Mobile number can only contain numeric characters":a.length>10?s="\u26a0\ufe0f Mobile number must be exactly 10 digits long":10!==a.length||/^\d{10}$/.test(a)?a.trim()&&(s=je(a)):s="\u26a0\ufe0f Mobile number must be exactly 10 digits":"title"===n||"gender"===n||"dateOfBirth"===n||"associatedAdult"===n?s=ke(a,"title"===n?"Title":"gender"===n?"Gender":"dateOfBirth"===n?"Date of Birth":"Associated Adult"):!Ie||"nationality"!==n&&"passportNumber"!==n&&"passportIssueDate"!==n&&"passportExpiryDate"!==n||(s=ke(a,"nationality"===n?"Nationality":"passportNumber"===n?"Passport Number":"passportIssueDate"===n?"Passport Issue Date":"Passport Expiry Date")),s&&_(e=>He(He({},e),{},{["".concat(i,"_").concat(n)]:s}))},Fe=(e,t)=>{if("registrationNumber"===e&&(t=(t=t.toUpperCase().slice(0,15)).replace(/[^0-9A-Z]/g,"")),M(n=>He(He({},n),{},{gstDetails:He(He({},n.gstDetails||{}),{},{[e]:t})})),"registrationNumber"===e){let n="";t.trim()&&(n=we(t)),_(t=>He(He({},t),{},{["gst_".concat(e)]:n}))}else B["gst_".concat(e)]&&_(t=>He(He({},t),{},{["gst_".concat(e)]:""}))},Oe=()=>{const e=!H;q(e);const t=[...L.adults.map(e=>e.id),...L.children.map(e=>e.id),...L.infants.map(e=>e.id)],n={};t.forEach(t=>n[t]=e),U(n)},Le=e=>{if(!e||"object"!==typeof e)return null;const t=e.employeeId||e.id||e.empId||e.userId||null,n=e.email||e.workEmail||e.personalEmail||null,a=e.name||(e.firstName||e.lastName?"".concat(e.firstName||""," ").concat(e.lastName||"").trim():null);return t||n||a?{id:t||null,email:n||null,name:a||null}:null},Me=()=>{var e;if(null!==b&&void 0!==b&&null!==(e=b.fareAlert)&&void 0!==e&&e.newFare)return Number(b.fareAlert.newFare);if(null!==b&&void 0!==b&&b.totalFare)return b.totalFare;if(!b||!j)return 0;let t=0;return Object.values(j).forEach(e=>{const n=null===e||void 0===e?void 0:e.fareDetails;if(n){var a,s,i,l,r,o;const e=n.fd||n.fD||{},c=Number((null===e||void 0===e||null===(a=e.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===e||void 0===e||null===(i=e.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0);t+=Number((null===y||void 0===y?void 0:y.ADULT)||0)*c+Number((null===y||void 0===y?void 0:y.CHILD)||0)*d+Number((null===y||void 0===y?void 0:y.INFANT)||0)*u}}),t},Be=()=>.75*Me(),_e=(e,t,n)=>{const a="".concat(n,"_").concat(t),s=z[e.id],i="adults"===n?"ADULT":"children"===n?"CHILD":"INFANT",l="adults"===n?"(12+ yrs)":"children"===n?"(2-12 yrs)":"(0-2 yrs)";return(0,_t.jsxs)("div",{className:"passenger-section",children:[(0,_t.jsxs)("div",{className:"passenger-section-header",onClick:()=>{return t=e.id,void U(e=>He(He({},e),{},{[t]:!e[t]}));var t},children:[(0,_t.jsxs)("div",{className:"passenger-section-title",children:[(0,_t.jsxs)("span",{className:"passenger-type",children:[i," ",t+1,":"]}),(0,_t.jsx)("span",{className:"passenger-age",children:l})]}),(0,_t.jsx)("div",{className:"passenger-section-toggle",children:s?(0,_t.jsx)(ft,{}):(0,_t.jsx)(mt,{})})]}),s&&(0,_t.jsxs)("div",{className:"passenger-section-content",children:[(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Title *"}),(0,_t.jsxs)("select",{value:e.title,onChange:e=>Re(n,t,"title",e.target.value),"data-field":"".concat(a,"_title"),className:B["".concat(a,"_title")]?"error":"",children:[(0,_t.jsx)("option",{value:"",children:"Title"}),(0,_t.jsx)("option",{value:"Mr",children:"Mr"}),(0,_t.jsx)("option",{value:"Ms",children:"Ms"}),(0,_t.jsx)("option",{value:"Mrs",children:"Mrs"}),(0,_t.jsx)("option",{value:"Dr",children:"Dr"})]}),B["".concat(a,"_title")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_title")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"First Name *"}),(0,_t.jsx)("input",{type:"text",value:e.firstName,onChange:e=>Re(n,t,"firstName",e.target.value),onKeyPress:e=>{/^[A-Za-z\s]$/.test(e.key)||e.preventDefault()},placeholder:"Enter first name","data-field":"".concat(a,"_firstName"),className:B["".concat(a,"_firstName")]?"error":""}),B["".concat(a,"_firstName")]&&(0,_t.jsx)("span",{className:"error-message alert ".concat(B["".concat(a,"_firstName")].includes("Special characters")?"name-alert":""),children:B["".concat(a,"_firstName")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Last Name *"}),(0,_t.jsx)("input",{type:"text",value:e.lastName,onChange:e=>Re(n,t,"lastName",e.target.value),onKeyPress:e=>{/^[A-Za-z\s]$/.test(e.key)||e.preventDefault()},placeholder:"Enter last name","data-field":"".concat(a,"_lastName"),className:B["".concat(a,"_lastName")]?"error":""}),B["".concat(a,"_lastName")]&&(0,_t.jsx)("span",{className:"error-message alert ".concat(B["".concat(a,"_lastName")].includes("Special characters")?"name-alert":""),children:B["".concat(a,"_lastName")]})]})]}),(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Date of Birth *"}),(0,_t.jsx)("input",{type:"date",value:e.dateOfBirth,onChange:e=>Re(n,t,"dateOfBirth",e.target.value),"data-field":"".concat(a,"_dateOfBirth"),className:B["".concat(a,"_dateOfBirth")]?"error":""}),B["".concat(a,"_dateOfBirth")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_dateOfBirth")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Gender *"}),(0,_t.jsxs)("select",{value:e.gender,onChange:e=>Re(n,t,"gender",e.target.value),"data-field":"".concat(a,"_gender"),className:B["".concat(a,"_gender")]?"error":"",children:[(0,_t.jsx)("option",{value:"",children:"Select Gender"}),(0,_t.jsx)("option",{value:"Male",children:"Male"}),(0,_t.jsx)("option",{value:"Female",children:"Female"}),(0,_t.jsx)("option",{value:"Other",children:"Other"})]}),B["".concat(a,"_gender")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_gender")]})]})]}),"adults"===n&&(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Email *"}),(0,_t.jsx)("input",{type:"email",value:e.email,onChange:e=>Re(n,t,"email",e.target.value),"data-field":"".concat(a,"_email"),className:B["".concat(a,"_email")]?"error":"",placeholder:"Enter email address"}),B["".concat(a,"_email")]&&(0,_t.jsx)("span",{className:"error-message alert ".concat(B["".concat(a,"_email")].includes("Invalid email format")?"email-alert":""),children:B["".concat(a,"_email")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Phone *"}),(0,_t.jsx)("input",{type:"tel",value:e.phone,onChange:e=>Re(n,t,"phone",e.target.value),onKeyPress:e=>{/^\d$/.test(e.key)||e.preventDefault()},"data-field":"".concat(a,"_phone"),className:B["".concat(a,"_phone")]?"error":"",placeholder:"Enter 10-digit mobile number",maxLength:"10"}),B["".concat(a,"_phone")]&&(0,_t.jsx)("span",{className:"error-message alert ".concat(B["".concat(a,"_phone")].includes("Mobile number")?"phone-alert":""),children:B["".concat(a,"_phone")]})]})]}),Ie&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Nationality *"}),(0,_t.jsxs)("select",{value:e.nationality,onChange:e=>Re(n,t,"nationality",e.target.value),"data-field":"".concat(a,"_nationality"),className:B["".concat(a,"_nationality")]?"error":"",children:[(0,_t.jsx)("option",{value:"",children:"Select Nationality"}),(0,_t.jsx)("option",{value:"IN",children:"Indian"}),(0,_t.jsx)("option",{value:"US",children:"American"}),(0,_t.jsx)("option",{value:"GB",children:"British"}),(0,_t.jsx)("option",{value:"CA",children:"Canadian"}),(0,_t.jsx)("option",{value:"AU",children:"Australian"})]}),B["".concat(a,"_nationality")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_nationality")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Passport Number *"}),(0,_t.jsx)("input",{type:"text",value:e.passportNumber,onChange:e=>Re(n,t,"passportNumber",e.target.value),"data-field":"".concat(a,"_passportNumber"),className:B["".concat(a,"_passportNumber")]?"error":"",placeholder:"Enter passport number"}),B["".concat(a,"_passportNumber")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_passportNumber")]})]})]}),(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Issue Date *"}),(0,_t.jsx)("input",{type:"date",value:e.passportIssueDate,onChange:e=>Re(n,t,"passportIssueDate",e.target.value),"data-field":"".concat(a,"_passportIssueDate"),className:B["".concat(a,"_passportIssueDate")]?"error":""}),B["".concat(a,"_passportIssueDate")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_passportIssueDate")]})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Expiry Date *"}),(0,_t.jsx)("input",{type:"date",value:e.passportExpiryDate,onChange:e=>Re(n,t,"passportExpiryDate",e.target.value),"data-field":"".concat(a,"_passportExpiryDate"),className:B["".concat(a,"_passportExpiryDate")]?"error":""}),B["".concat(a,"_passportExpiryDate")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_passportExpiryDate")]})]})]})]}),"infants"===n&&(0,_t.jsx)("div",{className:"form-row",children:(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Associated Adult *"}),(0,_t.jsxs)("select",{value:e.associatedAdult,onChange:e=>Re(n,t,"associatedAdult",e.target.value),"data-field":"".concat(a,"_associatedAdult"),className:B["".concat(a,"_associatedAdult")]?"error":"",children:[(0,_t.jsx)("option",{value:"",children:"Select Adult"}),L.adults.map(e=>(0,_t.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName]},e.id))]}),B["".concat(a,"_associatedAdult")]&&(0,_t.jsx)("span",{className:"error-message",children:B["".concat(a,"_associatedAdult")]})]})})]})]},e.id)};return(0,_t.jsxs)("div",{className:"passenger-details-container",children:[(0,_t.jsxs)("div",{className:"passenger-details-main",children:[(0,_t.jsxs)("div",{className:"passenger-details-header",children:[(0,_t.jsx)("h2",{children:"Passenger Details"}),(0,_t.jsxs)("div",{className:"expand-all-toggle",children:[(0,_t.jsx)("span",{className:"expand-all-text",onClick:Oe,style:{cursor:"pointer",textDecoration:"underline"},children:"Expand All"}),(0,_t.jsxs)("div",{className:"toggle-switch",children:[(0,_t.jsx)("button",{className:"toggle-option ".concat(H?"":"active"),onClick:()=>{H&&Oe()},children:"NO"}),(0,_t.jsx)("button",{className:"toggle-option ".concat(H?"active":""),onClick:()=>{H||Oe()},children:"YES"})]})]})]}),(0,_t.jsxs)("div",{className:"passenger-sections",children:[L.adults.map((e,t)=>_e(e,t,"adults")),L.children.map((e,t)=>_e(e,t,"children")),L.infants.map((e,t)=>_e(e,t,"infants"))]}),(0,_t.jsxs)("div",{className:"gst-section",children:[(0,_t.jsx)("div",{className:"gst-section-header",children:(0,_t.jsx)("h3",{children:w?"GST Number for Business Travel":"GST Number for Business Travel (optional)"})}),(0,_t.jsxs)("div",{className:"gst-form-content",children:[(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Registration Number"}),(0,_t.jsx)("input",{type:"text",value:(null===(t=L.gstDetails)||void 0===t?void 0:t.registrationNumber)||"",onChange:e=>Fe("registrationNumber",e.target.value),"data-field":"gst_registrationNumber",className:B.gst_registrationNumber?"error":"",placeholder:"Enter GST registration number"}),B.gst_registrationNumber&&(0,_t.jsx)("span",{className:"error-message",children:B.gst_registrationNumber})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Registered Company Name"}),(0,_t.jsx)("input",{type:"text",value:(null===(n=L.gstDetails)||void 0===n?void 0:n.companyName)||"",onChange:e=>Fe("companyName",e.target.value),"data-field":"gst_companyName",className:B.gst_companyName?"error":"",placeholder:"Enter registered company name"}),B.gst_companyName&&(0,_t.jsx)("span",{className:"error-message",children:B.gst_companyName})]})]}),(0,_t.jsxs)("div",{className:"form-row",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Registered Email"}),(0,_t.jsx)("input",{type:"email",value:(null===(a=L.gstDetails)||void 0===a?void 0:a.email)||"",onChange:e=>Fe("email",e.target.value),"data-field":"gst_email",className:B.gst_email?"error":"",placeholder:"Enter registered email"}),B.gst_email&&(0,_t.jsx)("span",{className:"error-message",children:B.gst_email})]}),(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{children:"Registered Phone"}),(0,_t.jsx)("input",{type:"tel",value:(null===(s=L.gstDetails)||void 0===s?void 0:s.phone)||"",onChange:e=>Fe("phone",e.target.value),onKeyPress:e=>{/^\d$/.test(e.key)||e.preventDefault()},"data-field":"gst_phone",className:B.gst_phone?"error":"",placeholder:"Enter registered phone number",maxLength:"10"}),B.gst_phone&&(0,_t.jsx)("span",{className:"error-message",children:B.gst_phone})]})]}),(0,_t.jsx)("div",{className:"form-row",children:(0,_t.jsxs)("div",{className:"form-group full-width",children:[(0,_t.jsx)("label",{children:"Registered Address"}),(0,_t.jsx)("textarea",{value:(null===(l=L.gstDetails)||void 0===l?void 0:l.address)||"",onChange:e=>Fe("address",e.target.value),"data-field":"gst_address",className:B.gst_address?"error":"",placeholder:"Enter registered address",rows:"3"}),B.gst_address&&(0,_t.jsx)("span",{className:"error-message",children:B.gst_address})]})})]})]}),(ve()||Y)&&(0,_t.jsxs)("div",{className:"seat-selection-block",children:[(0,_t.jsx)("div",{className:"seat-selection-header",children:(0,_t.jsx)("h3",{children:"Seat Selection"})}),(e=>{const t=null===Y||void 0===Y||null===(e=Y.tripSeatMap)||void 0===e?void 0:e.tripSeat,n=t?Object.keys(t):[];return n.length<=1?null:(0,_t.jsx)("div",{className:"seat-segment-switcher",style:{display:"flex",gap:8,flexWrap:"wrap",margin:"8px 0"},children:n.map((e,t)=>{const n=ge(t);return console.log("SeatMap: Segment ".concat(t," (key: ").concat(e,") -> ").concat(n)),(0,_t.jsx)("button",{className:"btn ".concat(J===e?"btn-primary":"btn-secondary"),onClick:()=>Q(e),title:"Seat map segment ".concat(t+1," (").concat(e,")"),children:n},"seg-btn-".concat(e))})})})(),(0,_t.jsxs)("div",{className:"seatmap-legend",style:{display:"flex",gap:12,marginBottom:8},children:[(0,_t.jsxs)("span",{children:[(0,_t.jsx)("span",{style:{display:"inline-block",width:14,height:14,background:"#e8f5e8",border:"1px solid #2e7d32",marginRight:6}}),"Available"]}),(0,_t.jsxs)("span",{children:[(0,_t.jsx)("span",{style:{display:"inline-block",width:14,height:14,background:"#e0e0e0",border:"1px solid #e0e0e0",color:"#ffffff",textAlign:"center",fontSize:"14px",lineHeight:"15px",marginRight:6},children:"\u2715"}),"Booked"]}),(0,_t.jsxs)("span",{children:[(0,_t.jsx)("span",{style:{display:"inline-block",width:14,height:14,background:"#fff3e0",border:"1px solid #f57c00",marginRight:6}}),"Aisle"]})]}),(0,_t.jsx)("div",{className:"seat-selection-actions"}),G&&(0,_t.jsxs)("div",{className:"seatmap-loading",style:{padding:"40px",textAlign:"center",fontSize:"16px",color:"#666",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:[(0,_t.jsx)("div",{style:{marginBottom:"16px"},children:(0,_t.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #667eea",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})}),"Loading seat map\u2026",(0,_t.jsx)("style",{children:"\n                  @keyframes spin {\n                    0% { transform: rotate(0deg); }\n                    100% { transform: rotate(360deg); }\n                  }\n                "})]}),K&&(0,_t.jsx)("div",{className:"seatmap-error",style:{padding:"20px",textAlign:"center",backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"8px",color:"#c62828",margin:"16px 0"},children:(0,_t.jsx)("div",{style:{fontSize:"12px",marginTop:"8px",fontStyle:"italic"},children:"The seat map is not available for the selected flight. It may be due to the airline not providing seat selection for this route, or the seat map service being temporarily unavailable."})}),!(null!==Y&&void 0!==Y&&null!==(ze=Y.tripSeatMap)&&void 0!==ze&&ze.tripSeat&&Object.keys(Y.tripSeatMap.tripSeat).length>0)?G||K?null:(0,_t.jsxs)("div",{className:"seatmap-error",style:{padding:"40px",textAlign:"center",backgroundColor:"#fff3e0",border:"1px solid #ff9800",borderRadius:"8px",color:"#e65100",margin:"16px 0"},children:[(0,_t.jsx)("div",{style:{fontSize:"24px",marginBottom:"12px"},children:"\u2708\ufe0f"}),(0,_t.jsx)("div",{style:{fontWeight:"600",marginBottom:"8px",fontSize:"16px"},children:"Seat Selection Not Available"}),(0,_t.jsxs)("div",{style:{fontSize:"14px",lineHeight:"1.5"},children:["Seat selection may not be supported for this itinerary type (connecting flights, round trip, or multi-city bookings) or seats may no longer be available.",(0,_t.jsx)("br",{}),(0,_t.jsx)("strong",{children:"Don't worry!"})," You can still proceed with your booking and seats will be assigned automatically by the airline."]})]}):(0,_t.jsx)("div",{className:"seatmap-scroll",style:{maxHeight:500,overflowY:"auto",scrollbarWidth:"thin",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",gap:12,padding:"16px",backgroundColor:"#fafafa",borderRadius:"8px",border:"1px solid #e0e0e0"},children:(()=>{const e=xe(),t=ue>100?ue:(null===e||void 0===e?void 0:e.width)||350;return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("img",{src:"/flight-head-half-height1.png",alt:"Aircraft head",style:{height:"auto",width:t,minWidth:t,display:"block"},onError:e=>{e.currentTarget.style.display="none"}}),null===e||void 0===e?void 0:e.seatmap,(0,_t.jsx)("img",{src:"/planetail.png",alt:"Aircraft tail",style:{height:"auto",width:t,minWidth:t,display:"block"},onError:e=>{e.currentTarget.style.display="none"}})]})})()})]}),!ve()&&!Y&&(0,_t.jsxs)("div",{className:"seat-selection-block",children:[(0,_t.jsx)("div",{className:"seat-selection-header",children:(0,_t.jsx)("h3",{children:"Seat Selection"})}),(0,_t.jsx)("div",{className:"seatmap-error",children:"Seat map will appear once a booking ID is generated."})]}),(0,_t.jsxs)("div",{className:"passenger-seat-selectors",style:{display:"flex",flexWrap:"wrap",gap:8,margin:"8px 0 12px"},children:[(null===L||void 0===L||null===(r=L.adults)||void 0===r?void 0:r.length)>0&&(0,_t.jsx)(_t.Fragment,{children:L.adults.map((e,t)=>{var n;const a=null===Y||void 0===Y||null===(n=Y.tripSeatMap)||void 0===n?void 0:n.tripSeat,s=a?Object.keys(a):[],i=s.length>1&&J?J:s[0],l=Object.entries((null===ie||void 0===ie?void 0:ie[i])||{}).filter(e=>{var n,a;let[,s]=e;return"adult"===(null===s||void 0===s||null===(n=s.passenger)||void 0===n?void 0:n.type)&&(null===s||void 0===s||null===(a=s.passenger)||void 0===a?void 0:a.index)===t}).map(e=>{let[t]=e;return t}),r=l.length>0;return(0,_t.jsxs)("button",{className:"btn ".concat("adult"===(null===re||void 0===re?void 0:re.type)&&(null===re||void 0===re?void 0:re.index)===t?"btn-primary":r?"btn-success":"btn-secondary"),onClick:()=>oe({type:"adult",index:t}),children:["Adult ",t+1," \u2013 ",r?"Seat ".concat(l.join(", ")):"Select Seat"]},"adult-seat-".concat(t))})}),(null===L||void 0===L||null===(o=L.children)||void 0===o?void 0:o.length)>0&&(0,_t.jsx)(_t.Fragment,{children:L.children.map((e,t)=>{var n;const a=null===Y||void 0===Y||null===(n=Y.tripSeatMap)||void 0===n?void 0:n.tripSeat,s=a?Object.keys(a):[],i=s.length>1&&J?J:s[0],l=Object.entries((null===ie||void 0===ie?void 0:ie[i])||{}).filter(e=>{var n,a;let[,s]=e;return"child"===(null===s||void 0===s||null===(n=s.passenger)||void 0===n?void 0:n.type)&&(null===s||void 0===s||null===(a=s.passenger)||void 0===a?void 0:a.index)===t}).map(e=>{let[t]=e;return t}),r=l.length>0;return(0,_t.jsxs)("button",{className:"btn ".concat("child"===(null===re||void 0===re?void 0:re.type)&&(null===re||void 0===re?void 0:re.index)===t?"btn-primary":r?"btn-success":"btn-secondary"),onClick:()=>oe({type:"child",index:t}),children:["Child ",t+1," \u2013 ",r?"Seat ".concat(l.join(", ")):"Select Seat"]},"child-seat-".concat(t))})})]}),(0,_t.jsxs)("div",{className:"ssr-selection-block",children:[(0,_t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.8rem 2rem"},children:[(0,_t.jsx)("h3",{style:{margin:0},children:"Special Services & Add-ons"}),(0,_t.jsx)("div",{style:{display:"flex",gap:"0.5rem"},children:(0,_t.jsx)("button",{onClick:async()=>{console.log("\ud83d\udd0d Button clicked - Current state:",{manualReviewResponse:!!A,allSegments:fe(),flightData:!!b,priceIds:null===b||void 0===b?void 0:b.priceIds});const e=fe();if(e.length>1)for(let t=0;t<e.length;t++){const e="segment_".concat(t);te[e]||ae[e]||await O(e,t)}else await(async()=>{try{S(!0),I(null);const e=(null===b||void 0===b?void 0:b.priceIds)||[];if(console.log("\ud83d\udd0d handleManualReviewCall - priceIds:",e),0===e.length)throw new Error("No price IDs available for review API call");console.log("\ud83d\udd0d Calling reviewBooking API...");const t=await Ns(e);if(console.log("\ud83d\udd0d reviewBooking API response:",t),console.log("\ud83d\udd0d reviewBooking API response keys:",t?Object.keys(t):"No response"),t){console.log("\ud83d\udd0d\ud83d\udd0d\ud83d\udd0d DEEP INSPECTION OF MANUAL REVIEW RESPONSE \ud83d\udd0d\ud83d\udd0d\ud83d\udd0d");const e=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"response",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4;if(a>s||!t||"object"!==typeof t)return;const i="  ".repeat(a);Object.keys(t).forEach(l=>{const r=t[l],o="".concat(n,".").concat(l);Array.isArray(r)?(console.log("".concat(i).concat(l,": [Array with ").concat(r.length," items]")),r.length>0&&a<s&&(console.log("".concat(i,"  First item:"),r[0]),(l.toLowerCase().includes("meal")||l.toLowerCase().includes("ssr")||r[0]&&"object"===typeof r[0]&&(r[0].desc||r[0].description||r[0].code))&&console.log("".concat(i,"  \u2b50 POTENTIAL MEAL/SSR DATA AT: ").concat(o)),e(r[0],"".concat(o,"[0]"),a+1,s))):"object"===typeof r&&null!==r?(console.log("".concat(i).concat(l,": [Object]")),e(r,o,a+1,s)):console.log("".concat(i).concat(l,": ").concat(typeof r))})};e(t),console.log("\ud83d\udd0d\ud83d\udd0d\ud83d\udd0d END DEEP INSPECTION \ud83d\udd0d\ud83d\udd0d\ud83d\udd0d")}D(t),console.log("\ud83d\udd0d manualReviewResponse set successfully")}catch(e){console.error("\u274c handleManualReviewCall error:",e),I(e.message||"Failed to call review API")}finally{S(!1)}})()},disabled:k,style:{background:k?"#95a5a6":"#3498db",color:"white",border:"none",padding:"0.5rem 1rem",borderRadius:"4px",cursor:k?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500"},children:k?"Loading...":"View Meals & Add-ons"})})]}),(()=>{const e=fe();return e.length<=1?null:(0,_t.jsx)("div",{className:"ssr-segment-switcher",style:{display:"flex",gap:8,flexWrap:"wrap",margin:"8px 0",padding:"0 1rem"},children:e.map((e,t)=>{const n="segment_".concat(t);return(0,_t.jsx)("button",{className:"btn ".concat(Z===n?"btn-primary":"btn-secondary"),onClick:()=>ee(n),title:"SSR segment ".concat(t+1," (").concat(e,")"),children:e},"ssr-seg-btn-".concat(n))})})})(),C&&(0,_t.jsxs)("div",{style:{background:"#ffebee",color:"#c62828",padding:"0.75rem",borderRadius:"4px",marginBottom:"1rem",fontSize:"14px"},children:["Error: ",C]}),(()=>{let e=null;const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"object"!==typeof e)return null;console.log("\ud83d\udd0d Checking ".concat(t," for SSR data..."));const n=["ssrInfo","ssr","SSR","specialServices","addOns","ancillaries","extras"];for(const a of n)if(e[a]&&"object"===typeof e[a])return console.log("\u2705 Found SSR data at ".concat(t,".").concat(a,":"),e[a]),e[a];return e.MEAL||e.BAGGAGE||e.FASTFORWARD||e.meal||e.baggage||e.fastforward||e.meals||e.baggages||e.fastforwards?(console.log("\u2705 Found direct SSR arrays at ".concat(t,":"),{MEAL:e.MEAL||e.meal||e.meals,BAGGAGE:e.BAGGAGE||e.baggage||e.baggages,FASTFORWARD:e.FASTFORWARD||e.fastforward||e.fastforwards}),{MEAL:e.MEAL||e.meal||e.meals||[],BAGGAGE:e.BAGGAGE||e.baggage||e.baggages||[],FASTFORWARD:e.FASTFORWARD||e.fastforward||e.fastforwards||[]}):null};if(Z&&te[Z])e=te[Z],console.log("Using segment-specific SSR data for ".concat(Z,":"),e);else{var n;let a=null;if(A){if(console.log("\ud83d\udd0d manualReviewResponse structure:",Object.keys(A)),a=t(A,"manualReviewResponse"),!a&&null!==A&&void 0!==A&&A.tripInfos&&Array.isArray(A.tripInfos)){console.log("\ud83d\udd0d Checking tripInfos structure...");for(let e=0;e<A.tripInfos.length;e++){const n=A.tripInfos[e];if(a=t(n,"manualReviewResponse.tripInfos[".concat(e,"]")),a)break;if(!a&&null!==n&&void 0!==n&&n.sI&&Array.isArray(n.sI))for(let s=0;s<n.sI.length;s++){if(a=t(n.sI[s],"manualReviewResponse.tripInfos[".concat(e,"].sI[").concat(s,"]")),a)break}if(!a&&null!==n&&void 0!==n&&n.totalPriceList&&Array.isArray(n.totalPriceList))for(let s=0;s<n.totalPriceList.length;s++){if(a=t(n.totalPriceList[s],"manualReviewResponse.tripInfos[".concat(e,"].totalPriceList[").concat(s,"]")),a)break}if(a)break}}if(!a&&null!==A&&void 0!==A&&A.items&&Array.isArray(A.items)){console.log("\ud83d\udd0d Checking items array...");for(let e=0;e<A.items.length&&(a=t(A.items[e],"manualReviewResponse.items[".concat(e,"]")),!a);e++);}if(!a&&null!==A&&void 0!==A&&A.review&&Array.isArray(A.review)){console.log("\ud83d\udd0d Checking review array...");for(let e=0;e<A.review.length&&(a=t(A.review[e],"manualReviewResponse.review[".concat(e,"]")),!a);e++);}}!a&&null!==b&&void 0!==b&&b.reviewResponse&&(console.log("\ud83d\udd0d Checking flightData.reviewResponse..."),a=t(b.reviewResponse,"flightData.reviewResponse")),!a&&null!==b&&void 0!==b&&b.ssrInfo&&(console.log("\ud83d\udd0d Checking flightData.ssrInfo..."),a=t(b,"flightData")),!a&&null!==c&&void 0!==c&&null!==(n=c.flightData)&&void 0!==n&&n.reviewResponse&&(console.log("\ud83d\udd0d Checking bookingData.flightData.reviewResponse..."),a=t(c.flightData.reviewResponse,"bookingData.flightData.reviewResponse")),!a&&null!==c&&void 0!==c&&c.ssrInfo&&(console.log("\ud83d\udd0d Checking bookingData.ssrInfo..."),a=t(c,"bookingData")),e=a,console.log("Using fallback SSR data:",e)}if(!e){if(A){const t=F(A,"manualReviewResponse");t&&(e=t)}if(!e&&null!==b&&void 0!==b&&b.reviewResponse){const t=F(b.reviewResponse,"flightData.reviewResponse");t&&(e=t)}}return Z&&ae[Z]?(0,_t.jsxs)("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[(0,_t.jsxs)("div",{style:{fontSize:"16px",color:"#666",marginBottom:"0.5rem"},children:["\ud83d\udd04 Loading services for ",fe()[parseInt(Z.replace("segment_",""))],"..."]}),(0,_t.jsx)("div",{style:{fontSize:"14px",color:"#999"},children:"Please wait while we fetch the available services for this flight segment."})]}):e?(0,_t.jsx)(tl,{ssrInfo:e,selectedSSRItems:ce,onSSRItemSelect:Ee,passengers:Te(),onPassengerAssignment:Pe,selectedSegmentKey:Z,allSegments:fe(),isFirstFlightOfRoute:Se}):(0,_t.jsx)("div",{style:{padding:"2rem",textAlign:"center",background:"#f8f9fa",borderRadius:"8px",border:"2px dashed #dee2e6"},children:A?(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("p",{children:(0,_t.jsx)("strong",{children:"\ud83d\udeab No Special Services Available"})}),(0,_t.jsx)("p",{children:"SSR (Special Service Request) data is not available for this flight."}),(0,_t.jsx)("p",{style:{fontSize:"12px",color:"#666",marginTop:"0.5rem"},children:"This could be because the airline doesn't offer additional services for this route, or the services are not available at this time."})]}):(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("p",{children:(0,_t.jsx)("strong",{children:"\ud83c\udf7d\ufe0f Special Services Available"})}),(0,_t.jsx)("p",{children:'Click "View Meals & Add-ons" to see available meal options, baggage upgrades, and other services.'})]})})})()]}),T&&(0,_t.jsx)("div",{className:"error-message",style:{marginBottom:"1rem",textAlign:"left"},children:T}),(0,_t.jsxs)("div",{className:"step-navigation",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:m,children:"Previous"}),(0,_t.jsx)("button",{className:"btn btn-primary",onClick:async()=>{const e=(()=>{const e={};L.adults.forEach((t,n)=>{const a="adults_".concat(n),s=ke(t.title,"Title");s&&(e["".concat(a,"_title")]=s);const i=ye(t.firstName);i&&(e["".concat(a,"_firstName")]=i);const l=ye(t.lastName);l&&(e["".concat(a,"_lastName")]=l);const r=ke(t.dateOfBirth,"Date of Birth");r&&(e["".concat(a,"_dateOfBirth")]=r);const o=ke(t.gender,"Gender");o&&(e["".concat(a,"_gender")]=o);const c=Ne(t.email);c&&(e["".concat(a,"_email")]=c);const d=je(t.phone);if(d&&(e["".concat(a,"_phone")]=d),Ie){const n=ke(t.nationality,"Nationality");n&&(e["".concat(a,"_nationality")]=n);const s=ke(t.passportNumber,"Passport Number");s&&(e["".concat(a,"_passportNumber")]=s);const i=ke(t.passportIssueDate,"Passport Issue Date");i&&(e["".concat(a,"_passportIssueDate")]=i);const l=ke(t.passportExpiryDate,"Passport Expiry Date");l&&(e["".concat(a,"_passportExpiryDate")]=l)}}),L.children.forEach((t,n)=>{const a="children_".concat(n),s=ke(t.title,"Title");s&&(e["".concat(a,"_title")]=s);const i=ye(t.firstName);i&&(e["".concat(a,"_firstName")]=i);const l=ye(t.lastName);l&&(e["".concat(a,"_lastName")]=l);const r=ke(t.dateOfBirth,"Date of Birth");r&&(e["".concat(a,"_dateOfBirth")]=r);const o=ke(t.gender,"Gender");if(o&&(e["".concat(a,"_gender")]=o),Ie){const n=ke(t.nationality,"Nationality");n&&(e["".concat(a,"_nationality")]=n);const s=ke(t.passportNumber,"Passport Number");s&&(e["".concat(a,"_passportNumber")]=s);const i=ke(t.passportIssueDate,"Passport Issue Date");i&&(e["".concat(a,"_passportIssueDate")]=i);const l=ke(t.passportExpiryDate,"Passport Expiry Date");l&&(e["".concat(a,"_passportExpiryDate")]=l)}}),L.infants.forEach((t,n)=>{const a="infants_".concat(n),s=ke(t.title,"Title");s&&(e["".concat(a,"_title")]=s);const i=ye(t.firstName);i&&(e["".concat(a,"_firstName")]=i);const l=ye(t.lastName);l&&(e["".concat(a,"_lastName")]=l);const r=ke(t.dateOfBirth,"Date of Birth");r&&(e["".concat(a,"_dateOfBirth")]=r);const o=ke(t.gender,"Gender");o&&(e["".concat(a,"_gender")]=o);const c=ke(t.associatedAdult,"Associated Adult");if(c&&(e["".concat(a,"_associatedAdult")]=c),Ie){const n=ke(t.nationality,"Nationality");n&&(e["".concat(a,"_nationality")]=n);const s=ke(t.passportNumber,"Passport Number");s&&(e["".concat(a,"_passportNumber")]=s);const i=ke(t.passportIssueDate,"Passport Issue Date");i&&(e["".concat(a,"_passportIssueDate")]=i);const l=ke(t.passportExpiryDate,"Passport Expiry Date");l&&(e["".concat(a,"_passportExpiryDate")]=l)}});const t=L.gstDetails||{};if(console.log("\ud83d\udd0d PassengerDetails - GST Validation:",{gstPopupShown:w,hasGstDetails:!!t,flightDataKeys:Object.keys(b||{})}),w){var n,a,s,i,l;if(null!==(n=t.registrationNumber)&&void 0!==n&&n.trim()){const n=we(t.registrationNumber);n&&(e.gst_registrationNumber=n)}else e.gst_registrationNumber="GST Registration Number is required";if(null!==(a=t.companyName)&&void 0!==a&&a.trim()||(e.gst_companyName="Company Name is required"),null!==(s=t.email)&&void 0!==s&&s.trim()){const n=Ne(t.email);n&&(e.gst_email=n)}else e.gst_email="Registered Email is required";if(null!==(i=t.phone)&&void 0!==i&&i.trim()){const n=je(t.phone);n&&(e.gst_phone=n)}else e.gst_phone="Registered Phone is required";null!==(l=t.address)&&void 0!==l&&l.trim()||(e.gst_address="Registered Address is required")}return e})();if(_(e),Object.entries(ce).forEach(e=>{let[t,n]=e;0===((null===n||void 0===n?void 0:n.assignedPassengers)||[]).length&&console.warn("Service ".concat(n.name," is selected but no passengers are assigned"))}),0===Object.keys(e).length){const{userInfoForPayload:e,userMetaForPayload:r}=(()=>{let e=x||null;if(!e&&"undefined"!==typeof window&&window.localStorage)try{const t=window.localStorage.getItem("user");t&&(e=JSON.parse(t))}catch(n){console.warn("Unable to parse stored user information for payload:",n)}const t=(e=>{var t,n,a,s,i,l,r,o,c,d,u,h,m;if(!e||"object"!==typeof e)return null;const p={employeeId:null!==(t=null!==(n=e.employeeId)&&void 0!==n?n:e.id)&&void 0!==t?t:null,name:null!==(a=e.name)&&void 0!==a?a:e.firstName||e.lastName?"".concat(e.firstName||""," ").concat(e.lastName||"").trim():null,email:null!==(s=null!==(i=null!==(l=e.email)&&void 0!==l?l:e.workEmail)&&void 0!==i?i:e.personalEmail)&&void 0!==s?s:null,phone:null!==(r=null!==(o=null!==(c=e.phone)&&void 0!==c?c:e.mobile)&&void 0!==o?o:e.contactNumber)&&void 0!==r?r:null,department:null!==(d=e.department)&&void 0!==d?d:null,designation:null!==(u=e.designation)&&void 0!==u?u:null,gender:null!==(h=e.gender)&&void 0!==h?h:null,address:null!==(m=e.address)&&void 0!==m?m:null},v=Object.keys(e).reduce((t,n)=>{if(Object.prototype.hasOwnProperty.call(p,n))return t;const a=e[n];return"function"===typeof a||(t[n]=void 0===a?null:a),t},{});return Object.keys(v).length>0&&(p.additionalFields=v),p})(e);return{userInfoForPayload:t,userMetaForPayload:Le(t||e)}})(),o=He(He({},L),{},{selectedSeats:ie,selectedSSRItems:ce,seatSelectionTotal:Ae(),ssrItemsTotal:De(),userInfo:e,user:r}),c=()=>{const e=Object.values(b&&b.selectedFlights||{}),t=[];return e.forEach(e=>{(e&&e.flight&&e.flight.sI||[]).forEach(e=>{const n=e.fD&&e.fD.aI||e.fd&&e.fd.aI||e.aI||e.airline||{};t.push({carrierCode:n.code||n.iata||null,carrierName:n.name||null,flightNumber:e.fD&&e.fD.fN||e.fd&&e.fd.fN||e.fN||null,from:e.da&&e.da.code?e.da.code:null,to:e.aa&&e.aa.code?e.aa.code:null,departure:e.da&&e.da.time||e.dt||null,arrival:e.aa&&e.aa.time||e.at||null,durationMinutes:e.dur||null,cabinClass:e.cabin||e.cb||null})})}),t},d=()=>{const e=L.adults&&L.adults[0]||null;return{name:e?[e.title,e.firstName,e.lastName].filter(Boolean).join(" "):null,email:e&&e.email?e.email:null,phone:e&&e.phone?e.phone:null}},u={bookingId:ve(),tripType:N&&N.tripType?N.tripType:b&&b.tripType||"oneway",passengers:{adults:(L.adults||[]).map(e=>({title:e.title||null,firstName:e.firstName||null,lastName:e.lastName||null,dateOfBirth:e.dateOfBirth||null,gender:e.gender||null,email:e.email||null,phone:e.phone||null,nationality:e.nationality||null,passportNumber:e.passportNumber||null,passportIssueDate:e.passportIssueDate||null,passportExpiryDate:e.passportExpiryDate||null})),children:(L.children||[]).map(e=>({title:e.title||null,firstName:e.firstName||null,lastName:e.lastName||null,dateOfBirth:e.dateOfBirth||null,gender:e.gender||null,nationality:e.nationality||null,passportNumber:e.passportNumber||null,passportIssueDate:e.passportIssueDate||null,passportExpiryDate:e.passportExpiryDate||null})),infants:(L.infants||[]).map(e=>({title:e.title||null,firstName:e.firstName||null,lastName:e.lastName||null,dateOfBirth:e.dateOfBirth||null,gender:e.gender||null,associatedAdult:e.associatedAdult||null,nationality:e.nationality||null,passportNumber:e.passportNumber||null,passportIssueDate:e.passportIssueDate||null,passportExpiryDate:e.passportExpiryDate||null}))},contact:d(),user:r,userInfo:e,gstDetails:o.gstDetails||{},selections:{seats:o.selectedSeats||{},ssrItems:o.selectedSSRItems||{}},totals:{seatSelectionTotal:o.seatSelectionTotal||0,ssrItemsTotal:o.ssrItemsTotal||0,grandTotal:Me()},flight:{priceIds:b&&b.priceIds||[],segments:c()},search:{routeInfos:N&&N.routeInfos||[]}};R(null),P(!0);try{const t=await ws(u),n=He(He({},o),{},{reviewPayload:u,user:r,userInfo:e,passengerBookingResponse:t});p(n),h(n)}catch(l){var t,n,a,s,i;console.error("\u274c Failed to submit passenger booking details:",(null===(t=l.response)||void 0===t?void 0:t.data)||l.message||l);const e=(null===(n=l.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||(null===(s=l.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.error)||l.message||"Failed to save passenger details. Please try again.";R(e)}finally{P(!1)}}else{const t=Object.keys(e)[0],n=document.querySelector('[data-field="'.concat(t,'"]'));n&&n.scrollIntoView({behavior:"smooth",block:"center"})}},disabled:E,children:E?"Saving...":"Continue to Review"})]})]}),(0,_t.jsxs)("div",{className:"fare-summary-section",children:[(0,_t.jsx)("h3",{children:"FARE SUMMARY"}),"multicity"===W&&(0,_t.jsxs)("div",{className:"segment-fare-breakdown",children:[(0,_t.jsx)("h4",{children:"Segment Breakdown"}),Object.values(j).map((e,t)=>{var n,a,s;const i=null===N||void 0===N||null===(n=N.routeInfos)||void 0===n?void 0:n[t],l=(null===i||void 0===i||null===(a=i.fromCityOrAirport)||void 0===a?void 0:a.code)||"N/A",r=(null===i||void 0===i||null===(s=i.toCityOrAirport)||void 0===s?void 0:s.code)||"N/A",o=(()=>{const t=e.fareDetails;if(t){var n,a,s,i,l,r;const e=t.fd||t.fD||{},o=Number((null===e||void 0===e||null===(n=e.ADULT)||void 0===n||null===(a=n.fC)||void 0===a?void 0:a.TF)||0),c=Number((null===e||void 0===e||null===(s=e.CHILD)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),d=Number((null===(l=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0);return Number(y.ADULT||0)*o+Number(y.CHILD||0)*c+Number(y.INFANT||0)*d}return 0})();return(0,_t.jsxs)("div",{className:"segment-fare-item",children:[(0,_t.jsxs)("span",{children:["Segment ",t+1,": ",l," \u2192 ",r]}),(0,_t.jsxs)("span",{children:["\u20b9",o.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},"segment-fare-".concat(t))}),(0,_t.jsx)("div",{className:"segment-fare-separator"})]}),(0,_t.jsxs)("div",{className:"fare-breakdown",children:[(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{children:"Base fare"}),(0,_t.jsxs)("span",{children:["\u20b9",Be().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item ",children:[(0,_t.jsx)("span",{children:"Taxes and fees"}),(0,_t.jsxs)("span",{children:["\u20b9",(Me()-Be()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),Ae()>0&&(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{children:"Seat selection"}),(0,_t.jsxs)("span",{children:["\u20b9",Ae().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),Object.keys(ce).length>0&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)("div",{className:"fare-separator"}),(0,_t.jsx)("div",{className:"fare-section-title",children:"Selected Add-ons"}),Object.entries(ce).filter(e=>{let[t,n]=e;return((null===n||void 0===n?void 0:n.assignedPassengers)||[]).length>0}).map(e=>{let[t,n]=e;const a=((null===n||void 0===n?void 0:n.assignedPassengers)||[]).length,s=n.price*a;return(0,_t.jsxs)("div",{className:"fare-item ssr-item",children:[(0,_t.jsxs)("span",{className:"ssr-item-name",children:["meal"===n.category&&n.indicator&&(0,_t.jsx)("span",{className:"ssr-item-indicator ".concat(n.indicator.toLowerCase()),children:"VEG"===n.indicator}),n.name,(0,_t.jsxs)("span",{className:"passenger-count",children:["(",a," passenger",a>1?"s":"",")"]}),n.segmentLabel&&(0,_t.jsx)("span",{className:"segment-info",style:{fontSize:"11px",color:"#666",display:"block",marginTop:"2px"},children:n.segmentLabel})]}),(0,_t.jsx)("span",{children:s>0?(0,_t.jsxs)(_t.Fragment,{children:["\u20b9",s.toFixed(2)]}):"Free"})]},t)}),De()>0&&(0,_t.jsxs)("div",{className:"fare-item ssr-total",children:[(0,_t.jsx)("span",{children:"Add-ons Total"}),(0,_t.jsxs)("span",{children:["\u20b9",De().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(0,_t.jsxs)("div",{className:"fare-item total",children:[(0,_t.jsx)("span",{children:"Amount to Pay"}),(0,_t.jsxs)("span",{children:["\u20b9",(Me()+Ae()+De()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]});var ze},al=e=>{var t,n,a,s,l,r;let{bookingData:o,onNext:c,onPrev:d,onComplete:u,currentStep:h,totalSteps:m,timeLeft:p}=e;const{flightData:v,step1Data:f,step2Data:g}=o,{adults:x=[],children:b=[],infants:y=[],gstDetails:N={},selectedSeats:j={},selectedSSRItems:w={},seatSelectionTotal:k=0,ssrItemsTotal:S=0}=g||{},C=g&&g.reviewPayload||null,[I,A]=(0,i.useState)({}),[D,E]=(0,i.useState)({}),[P,T]=(0,i.useState)({}),[R,F]=(0,i.useState)(!0),[O,L]=(0,i.useState)(!1),[M,B]=(0,i.useState)(""),[_,z]=(0,i.useState)(""),[U,H]=(0,i.useState)(!1),[q,W]=(0,i.useState)(!1),[G,V]=(0,i.useState)(null),[K,$]=(0,i.useState)(C||null);(0,i.useEffect)(()=>{C&&!K&&$(C)},[C,K]),console.log("Review component - step2Data:",g),C&&console.log("Review component - reviewPayload:",C),(0,i.useEffect)(()=>{(async()=>{F(!0);try{const e=new Set,t=new Set;null!==v&&void 0!==v&&v.selectedFlights&&Object.values(v.selectedFlights).forEach(n=>{var a;((null===(a=n.flight)||void 0===a?void 0:a.sI)||[]).forEach(n=>{var a,s,i,l,r,o,c;null!==(a=n.da)&&void 0!==a&&a.code&&e.add(n.da.code),null!==(s=n.aa)&&void 0!==s&&s.code&&e.add(n.aa.code),null!==(i=n.fD)&&void 0!==i&&null!==(l=i.aI)&&void 0!==l&&l.code&&t.add(n.fD.aI.code),null!==(r=n.fd)&&void 0!==r&&null!==(o=r.aI)&&void 0!==o&&o.code&&t.add(n.fd.aI.code),null!==(c=n.airline)&&void 0!==c&&c.code&&t.add(n.airline.code)})});const n=Array.from(e).map(async e=>({code:e,cityName:await Ds(e)})),a=await Promise.all(n),s={};a.forEach(e=>{let{code:t,cityName:n}=e;s[t]=n}),A(s);const i=Array.from(t).map(async e=>({code:e,airlineName:await Es(e)})),l=await Promise.all(i),r={};l.forEach(e=>{let{code:t,airlineName:n}=e;r[t]=n}),E(r);const o=Array.from(t).map(async e=>({code:e,airlineLogo:await Ps(e)})),c=await Promise.all(o),d={};c.forEach(e=>{let{code:t,airlineLogo:n}=e;d[t]=n}),T(d)}catch(e){console.error("Error loading flight data:",e)}finally{F(!1)}})()},[null===v||void 0===v?void 0:v.selectedFlights]);const Y=((null===v||void 0===v?void 0:v.adults)||1)+((null===v||void 0===v?void 0:v.children)||0)+((null===v||void 0===v?void 0:v.infants)||0),X=e=>{B(e)},J=()=>{q||(L(!1),B(""),z(""))},Q=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),Z=e=>new Date(e).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),ee=(e,t)=>{const n=new Date(e),a=new Date(t)-n,s=Math.floor(a/36e5),i=Math.floor(a%36e5/6e4);return"".concat(s,"h ").concat(i,"m")},te=e=>{const t=(e=>{const t=new Date,n=new Date(e);let a=t.getFullYear()-n.getFullYear();const s=t.getMonth()-n.getMonth();return(s<0||0===s&&t.getDate()<n.getDate())&&a--,a})(e);return t<2?"Infant":t<12?"Child":"Adult"},ne=()=>{var e;if(null!==v&&void 0!==v&&null!==(e=v.fareAlert)&&void 0!==e&&e.newFare)return Number(v.fareAlert.newFare);if(null!==v&&void 0!==v&&v.totalFare)return v.totalFare;if(!v||!v.selectedFlights)return 0;let t=0;return Object.values(v.selectedFlights).forEach(e=>{const n=e.fareDetails;if(n){var a,s,i,l,r,o;const e=n.fd||n.fD||{},c=Number((null===e||void 0===e||null===(a=e.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===e||void 0===e||null===(i=e.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),h=(null===v||void 0===v?void 0:v.paxInfo)||{};t+=Number(h.ADULT||0)*c+Number(h.CHILD||0)*d+Number(h.INFANT||0)*u}}),t},ae=(()=>{const e=[];return(null!==v&&void 0!==v&&v.selectedFlights?Object.values(v.selectedFlights):[]).forEach(t=>{var n;const a=(null===t||void 0===t||null===(n=t.flight)||void 0===n?void 0:n.sI)||[];e.push(...a)}),e})(),se=(()=>{const e=[];return(null!==v&&void 0!==v&&v.selectedFlights?Object.values(v.selectedFlights):[]).forEach((t,n)=>{var a;const s=((null===t||void 0===t||null===(a=t.flight)||void 0===a?void 0:a.sI)||[]).length;for(let i=0;i<s;i++)e.push(n)}),e})(),ie=e=>{var t;if(null==e||e<0)return"";const n=ae[e];if(n){var a,s;const e=null===(a=n.da)||void 0===a?void 0:a.code,t=null===(s=n.aa)||void 0===s?void 0:s.code,i=e?he(e):"",l=t?he(t):"";if(e&&t){const n=i?"".concat(i," (").concat(e,")"):e,a=l?"".concat(l," (").concat(t,")"):t;return"".concat(n," \u2192 ").concat(a)}}const i=null!==(t=se[e])&&void 0!==t?t:0;return le(i)},le=e=>{var t,n,a,s;const i=null===v||void 0===v||null===(t=v.searchData)||void 0===t||null===(n=t.routeInfos)||void 0===n?void 0:n[e],l=(null===i||void 0===i||null===(a=i.fromCityOrAirport)||void 0===a?void 0:a.code)||(null===i||void 0===i?void 0:i.fromCity),r=(null===i||void 0===i||null===(s=i.toCityOrAirport)||void 0===s?void 0:s.code)||(null===i||void 0===i?void 0:i.toCity),o=l?he(l):"",c=r?he(r):"";return o||c?"".concat(o).concat(l?" (".concat(l,")"):""," \u2192 ").concat(c).concat(r?" (".concat(r,")"):""):""},re=e=>{if(!e)return"";const t=(e=>{if(!e)return null;const t=String(e).toLowerCase();if("outbound"===t){const e=se.findIndex(e=>0===e);return e>=0?e:null}if("return"===t){const e=se.findIndex(e=>1===e);return e>=0?e:null}const n=String(e).match(/(\d+)/),a=n?Number(n[1]):null;return null!=a&&a>=0&&a<ae.length?a:null})(e);if(null!=t&&t>=0)return ie(t);const n=String(e).match(/(\d+)/),a=n?Number(n[1]):null;if(null!=a&&a>=0){const e=ie(a);if(e)return e}const s=String(e).toLowerCase();if("outbound"===s||"return"===s){return le("outbound"===s?0:1)}return""},oe=(e,t,n)=>{if(!e)return!1;const a=String(e.type||"").toLowerCase(),s=String(t||"").toLowerCase();if(!(a===s||"adults"===a&&"adult"===s||"children"===a&&"child"===s||"infants"===a&&"infant"===s||"adt"===a&&"adult"===s||"chd"===a&&"child"===s||"inft"===a&&"infant"===s||"inf"===a&&"infant"===s))return!1;const i=Number(e.index)===Number(n),l=Number(e.index)===((e,t)=>{const n=String(e||"").toLowerCase(),a=Array.isArray(x)?x.length:0,s=Array.isArray(b)?b.length:0;return"adult"===n||"adults"===n||"adt"===n?Number(t):"child"===n||"children"===n||"chd"===n?a+Number(t):"infant"===n||"infants"===n||"inft"===n||"inf"===n?a+s+Number(t):Number(t)})(t,n);return i||l},ce=(()=>{const e=new Map,t=new Set;if(j&&"object"===typeof j&&Object.keys(j).forEach(e=>t.add(e)),0===t.size)return e;return Array.from(t).sort((e,t)=>{const n=/^\d+$/.test(String(e))?Number(e):null,a=/^\d+$/.test(String(t))?Number(t):null;if(null!=n&&null!=a)return n-a;const s=String(e).match(/(\d+)/),i=String(t).match(/(\d+)/);return s&&i?Number(s[1])-Number(i[1]):String(e).localeCompare(String(t))}).forEach((t,n)=>{e.set(String(t),n)}),e})(),de=(e,t)=>{const n=[];return j&&"object"===typeof j?(Object.entries(j).forEach(a=>{let[s,i]=a;Object.entries(i||{}).forEach(a=>{let[i,l]=a;oe(null===l||void 0===l?void 0:l.passenger,e,t)&&n.push({segmentKey:s,seatCode:i,amount:null===l||void 0===l?void 0:l.amount})})}),n):n},ue=(e,t)=>{const n=[];return w&&"object"===typeof w?(Object.entries(w).forEach(a=>{let[s,i]=a;(Array.isArray(null===i||void 0===i?void 0:i.assignedPassengers)?i.assignedPassengers:[]).some(n=>oe(n,e,t))&&n.push({itemId:s,name:null===i||void 0===i?void 0:i.name,category:null===i||void 0===i?void 0:i.category,price:null===i||void 0===i?void 0:i.price,segmentIndex:null===i||void 0===i?void 0:i.segmentIndex,segmentKey:null===i||void 0===i?void 0:i.segmentKey})}),n):n},he=e=>I[e]||e,me=e=>P[e]||"/airlineLogo.png",pe=e=>e?D[e]||e:null;return R?(0,_t.jsx)("div",{className:"booking-review-container",children:(0,_t.jsxs)("div",{className:"booking-loading-container",children:[(0,_t.jsx)("div",{className:"booking-loading-spinner"}),(0,_t.jsx)("p",{children:"Loading flight details..."})]})}):(0,_t.jsxs)("div",{className:"booking-review-container",children:[(0,_t.jsx)("h2",{className:"booking-review-title",children:"Review Your Booking"}),(0,_t.jsxs)("div",{className:"booking-review-sections",children:[(0,_t.jsxs)("div",{className:"booking-flight-section",children:[(0,_t.jsx)("h3",{className:"booking-section-title",children:"Flight Details"}),(0,_t.jsx)("div",{className:"booking-section-content",children:(null===v||void 0===v?void 0:v.selectedFlights)&&Object.values(v.selectedFlights).map((e,t)=>{var n;const a=e.flight,s=e.fareDetails,i=(null===a||void 0===a?void 0:a.sI)||[],l=(null===v||void 0===v||null===(n=v.searchData)||void 0===n?void 0:n.tripType)||"oneway";let r="";return r="round"===l?0===t?"Outbound Flight":"Return Flight":"multicity"===l?"Segment ".concat(t+1):"Flight",(0,_t.jsxs)("div",{className:"booking-flight-review-card",children:[(0,_t.jsxs)("div",{className:"booking-flight-header",children:[(0,_t.jsx)("span",{className:"booking-flight-label",children:r}),(0,_t.jsx)("span",{className:"booking-flight-total-duration",children:i.length>0?ee(i[0].dt,i[i.length-1].at):"N/A"})]}),i.map((e,t)=>{var n,a,l,r,o,c,d;const u=(null===(n=e.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)||(null===(l=e.fd)||void 0===l||null===(r=l.aI)||void 0===r?void 0:r.code)||(null===(o=e.airline)||void 0===o?void 0:o.code),h=(null===(c=e.fD)||void 0===c?void 0:c.fN)||(null===(d=e.fd)||void 0===d?void 0:d.fN)||e.flightNumber,m=e.da,p=e.aa,v=t===i.length-1;return(0,_t.jsxs)("div",{className:"booking-flight-segment-card",children:[(0,_t.jsxs)("div",{className:"booking-flight-route",children:[(0,_t.jsxs)("div",{className:"booking-airport-detail",children:[(0,_t.jsx)("div",{className:"booking-airport-code",children:null===m||void 0===m?void 0:m.code}),(0,_t.jsx)("div",{className:"booking-airport-city",children:he(null===m||void 0===m?void 0:m.code)}),(0,_t.jsx)("div",{className:"booking-airport-full-name",children:(null===m||void 0===m?void 0:m.name)||"".concat(null===m||void 0===m?void 0:m.code," Airport")}),(0,_t.jsxs)("div",{className:"booking-terminal-gate",children:[(null===m||void 0===m?void 0:m.terminal)&&(0,_t.jsxs)("span",{children:[" ",m.terminal]}),(null===m||void 0===m?void 0:m.gate)&&(0,_t.jsxs)("span",{children:["Gate ",m.gate]})]}),(0,_t.jsxs)("div",{className:"booking-time-date",children:[(0,_t.jsx)("span",{className:"booking-time",children:Q(e.dt)}),(0,_t.jsx)("span",{className:"booking-date",children:Z(e.dt)})]})]}),(0,_t.jsx)("div",{className:"booking-flight-arrow",children:"\u2192"}),(0,_t.jsxs)("div",{className:"booking-airport-detail",children:[(0,_t.jsx)("div",{className:"booking-airport-code",children:null===p||void 0===p?void 0:p.code}),(0,_t.jsx)("div",{className:"booking-airport-city",children:he(null===p||void 0===p?void 0:p.code)}),(0,_t.jsx)("div",{className:"booking-airport-full-name",children:(null===p||void 0===p?void 0:p.name)||"".concat(null===p||void 0===p?void 0:p.code," Airport")}),(0,_t.jsxs)("div",{className:"booking-terminal-gate",children:[(null===p||void 0===p?void 0:p.terminal)&&(0,_t.jsx)("span",{children:p.terminal}),(null===p||void 0===p?void 0:p.gate)&&(0,_t.jsxs)("span",{children:["Gate ",p.gate]})]}),(0,_t.jsxs)("div",{className:"booking-time-date",children:[(0,_t.jsx)("span",{className:"booking-time",children:Q(e.at)}),(0,_t.jsx)("span",{className:"booking-date",children:Z(e.at)})]})]})]}),(0,_t.jsxs)("div",{className:"booking-flight-info",children:[(0,_t.jsxs)("div",{className:"booking-airline-info",children:[(0,_t.jsx)("img",{src:me(u),alt:u,className:"airline-logo",onError:e=>{e.target.src="/airlineLogo.png"}}),(0,_t.jsxs)("div",{className:"booking-airline-details",children:[(0,_t.jsx)("div",{className:"booking-airline-name",children:pe(u)||u}),(0,_t.jsxs)("div",{className:"booking-flight-number",children:[u,"-",h]})]})]}),(0,_t.jsxs)("div",{className:"booking-flight-details",children:[(0,_t.jsx)("div",{className:"booking-cabin-class",children:(null===s||void 0===s?void 0:s.cabinClass)||"Economy"}),(0,_t.jsx)("div",{className:"booking-segment-duration",children:ee(e.dt,e.at)}),(0,_t.jsx)("div",{className:"booking-connection-type",children:1===i.length?"Direct":"".concat(i.length-1," Stop").concat(i.length-1>1?"s":"")})]})]}),!v&&i.length>1&&(0,_t.jsxs)("div",{className:"booking-layover-info",children:[(0,_t.jsx)("div",{className:"booking-layover-text",children:"Require to change Plane"}),(0,_t.jsx)("div",{className:"booking-layover-time",children:ee(e.at,i[t+1].dt)})]}),(0,_t.jsxs)("div",{className:"booking-fare-details",children:[(0,_t.jsxs)("div",{className:"booking-fare-info",children:[(0,_t.jsx)("span",{className:"booking-refundable",children:null!==s&&void 0!==s&&s.refundable?"Refundable":"Non-Refundable"}),(null===s||void 0===s?void 0:s.meal)&&(0,_t.jsx)("span",{className:"booking-meal-info",children:"true"===s.meal||!0===s.meal?"Free Meal":"Meal Available"}),(null===s||void 0===s?void 0:s.fareType)&&(0,_t.jsx)("span",{className:"booking-fare-type",children:s.fareType})]}),(0,_t.jsxs)("div",{className:"booking-baggage-info",children:[(0,_t.jsx)("span",{className:"booking-baggage-label",children:"Baggage:"}),(0,_t.jsx)("span",{className:"booking-baggage-details",children:(null===s||void 0===s?void 0:s.baggage)||"(Adult) Check-in: 15 Kg, Cabin: 7 Kg"})]})]})]},t)})]},t)})})]}),(0,_t.jsxs)("div",{className:"booking-passenger-section",children:[(0,_t.jsx)("h3",{className:"booking-section-title",children:"Passenger Information"}),(0,_t.jsxs)("div",{className:"booking-section-content",children:[(0,_t.jsxs)("div",{className:"booking-contact-review",children:[(0,_t.jsx)("h4",{className:"booking-subsection-title",children:"Contact Details"}),(0,_t.jsxs)("div",{className:"booking-contact-info",children:[x&&x.length>0&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"booking-contact-item",children:[(0,_t.jsx)("span",{className:"booking-contact-label",children:"Email:"}),(0,_t.jsx)("span",{className:"booking-contact-value",children:x[0].email})]}),(0,_t.jsxs)("div",{className:"booking-contact-item",children:[(0,_t.jsx)("span",{className:"booking-contact-label",children:"Phone:"}),(0,_t.jsx)("span",{className:"booking-contact-value",children:x[0].phone})]})]}),(!x||0===x.length)&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"booking-contact-item",children:[(0,_t.jsx)("span",{className:"booking-contact-label",children:"Email:"}),(0,_t.jsx)("span",{className:"booking-contact-value",children:(null===g||void 0===g||null===(t=g.contactInfo)||void 0===t?void 0:t.email)||"N/A"})]}),(0,_t.jsxs)("div",{className:"booking-contact-item",children:[(0,_t.jsx)("span",{className:"booking-contact-label",children:"Phone:"}),(0,_t.jsxs)("span",{className:"booking-contact-value",children:[(null===g||void 0===g||null===(n=g.contactInfo)||void 0===n?void 0:n.countryCode)||""," ",(null===g||void 0===g||null===(a=g.contactInfo)||void 0===a?void 0:a.phone)||"N/A"]})]})]})]})]}),(0,_t.jsxs)("div",{className:"booking-passengers-review",children:[(0,_t.jsx)("h4",{className:"booking-subsection-title",children:"Passengers"}),x&&x.map((e,t)=>(0,_t.jsxs)("div",{className:"booking-passenger-review-card",children:[(0,_t.jsxs)("div",{className:"booking-passenger-header",children:[(0,_t.jsxs)("span",{className:"booking-passenger-name",children:[e.title," ",e.firstName," ",e.lastName]}),(0,_t.jsx)("span",{className:"booking-passenger-type",children:"Adult"})]}),(0,_t.jsxs)("div",{className:"booking-passenger-details",children:[(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Gender:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.gender})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Date of Birth:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.dateOfBirth).toLocaleDateString()})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Email:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.email})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Phone:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.phone})]}),e.nationality&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Nationality:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.nationality})]}),e.passportNumber&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Number:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.passportNumber})]}),e.passportIssueDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Issue Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportIssueDate).toLocaleDateString()})]}),e.passportExpiryDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Expiry Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportExpiryDate).toLocaleDateString()})]}),(()=>{const e=de("adult",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Seat(s):"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{let t=ce.get(String(e.segmentKey));if(null==t){const n=String(e.segmentKey||"").trim();if(n)if(/^\d+$/.test(n))t=Number(n);else{const e=n.match(/(\d+)$/);e&&(t=Number(e[1]))}else;}const n="number"===typeof t&&t>=0&&t<ae.length?ie(t):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.seatCode}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:n}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.amount?"\u20b9".concat(e.amount):"-"})]},"".concat(e.segmentKey,"-").concat(e.seatCode))})})]}):null})(),(()=>{const e=ue("adult",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Services:"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{var t;const n="number"===typeof e.segmentIndex?e.segmentIndex:null!==(t=String(e.segmentKey||"").match(/(\d+)/))&&void 0!==t&&t[1]?Number(String(e.segmentKey).match(/(\d+)/)[1]):null,a=null!=n?ie(n):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.name||e.category}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:a}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.price?"\u20b9".concat(e.price):"-"})]},e.itemId)})})]}):null})()]})]},"adult-".concat(t))),b&&b.map((e,t)=>(0,_t.jsxs)("div",{className:"booking-passenger-review-card",children:[(0,_t.jsxs)("div",{className:"booking-passenger-header",children:[(0,_t.jsxs)("span",{className:"booking-passenger-name",children:[e.title," ",e.firstName," ",e.lastName]}),(0,_t.jsx)("span",{className:"booking-passenger-type",children:"Child"})]}),(0,_t.jsxs)("div",{className:"booking-passenger-details",children:[(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Gender:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.gender})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Date of Birth:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.dateOfBirth).toLocaleDateString()})]}),e.nationality&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Nationality:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.nationality})]}),e.passportNumber&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Number:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.passportNumber})]}),e.passportIssueDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Issue Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportIssueDate).toLocaleDateString()})]}),e.passportExpiryDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Expiry Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportExpiryDate).toLocaleDateString()})]}),(()=>{const e=de("child",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Seat(s):"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{let t=ce.get(String(e.segmentKey));if(null==t){const n=String(e.segmentKey||"").trim();if(n)if(/^\d+$/.test(n))t=Number(n);else{const e=n.match(/(\d+)$/);e&&(t=Number(e[1]))}else;}const n="number"===typeof t&&t>=0&&t<ae.length?ie(t):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.seatCode}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:n}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.amount?"\u20b9".concat(e.amount):"-"})]},"".concat(e.segmentKey,"-").concat(e.seatCode))})})]}):null})(),(()=>{const e=ue("child",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Services:"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{var t;const n="number"===typeof e.segmentIndex?e.segmentIndex:null!==(t=String(e.segmentKey||"").match(/(\d+)/))&&void 0!==t&&t[1]?Number(String(e.segmentKey).match(/(\d+)/)[1]):null,a=null!=n?ie(n):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.name||e.category}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:a}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.price?"\u20b9".concat(e.price):"-"})]},e.itemId)})})]}):null})()]})]},"child-".concat(t))),y&&y.map((e,t)=>{var n,a,s,i;return(0,_t.jsxs)("div",{className:"booking-passenger-review-card",children:[(0,_t.jsxs)("div",{className:"booking-passenger-header",children:[(0,_t.jsxs)("span",{className:"booking-passenger-name",children:[e.title," ",e.firstName," ",e.lastName]}),(0,_t.jsx)("span",{className:"booking-passenger-type",children:"Infant"})]}),(0,_t.jsxs)("div",{className:"booking-passenger-details",children:[(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Gender:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.gender})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Date of Birth:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.dateOfBirth).toLocaleDateString()})]}),e.associatedAdult&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Associated Adult:"}),(0,_t.jsxs)("span",{className:"booking-detail-value",children:[null===(n=g.adults)||void 0===n||null===(a=n.find(t=>t.id===e.associatedAdult))||void 0===a?void 0:a.firstName," ",null===(s=g.adults)||void 0===s||null===(i=s.find(t=>t.id===e.associatedAdult))||void 0===i?void 0:i.lastName]})]}),e.nationality&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Nationality:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.nationality})]}),e.passportNumber&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Number:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.passportNumber})]}),e.passportIssueDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Issue Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportIssueDate).toLocaleDateString()})]}),e.passportExpiryDate&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport Expiry Date:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.passportExpiryDate).toLocaleDateString()})]}),(()=>{const e=de("infant",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Seat(s):"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{let t=ce.get(String(e.segmentKey));if(null==t){const n=String(e.segmentKey||"").trim();if(n)if(/^\d+$/.test(n))t=Number(n);else{const e=n.match(/(\d+)$/);e&&(t=Number(e[1]))}else;}const n="number"===typeof t&&t>=0&&t<ae.length?ie(t):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.seatCode}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:n}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.amount?"\u20b9".concat(e.amount):"-"})]},"".concat(e.segmentKey,"-").concat(e.seatCode))})})]}):null})(),(()=>{const e=ue("infant",t);return e.length?(0,_t.jsxs)("div",{className:"booking-detail-item",style:{flexDirection:"column",alignItems:"stretch"},children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Services:"}),(0,_t.jsx)("div",{className:"booking-passenger-item-list",children:e.map(e=>{var t;const n="number"===typeof e.segmentIndex?e.segmentIndex:null!==(t=String(e.segmentKey||"").match(/(\d+)/))&&void 0!==t&&t[1]?Number(String(e.segmentKey).match(/(\d+)/)[1]):null,a=null!=n?ie(n):re(e.segmentKey);return(0,_t.jsxs)("div",{className:"booking-passenger-item-row",children:[(0,_t.jsx)("div",{className:"booking-passenger-item-code",children:e.name||e.category}),(0,_t.jsx)("div",{className:"booking-passenger-item-route",children:a}),(0,_t.jsx)("div",{className:"booking-passenger-item-price",children:"number"===typeof e.price?"\u20b9".concat(e.price):"-"})]},e.itemId)})})]}):null})()]})]},"infant-".concat(t))}),!x&&!b&&!y&&(0,_t.jsx)("div",{className:"booking-no-passenger-data",children:(0,_t.jsx)("p",{children:"No passenger information found. Please go back to Passenger Details step to fill in passenger information."})}),!x&&!b&&!y&&[...(null===g||void 0===g?void 0:g.adults)||[],...(null===g||void 0===g?void 0:g.children)||[],...(null===g||void 0===g?void 0:g.infants)||[]].map((e,t)=>(0,_t.jsxs)("div",{className:"booking-passenger-review-card",children:[(0,_t.jsxs)("div",{className:"booking-passenger-header",children:[(0,_t.jsxs)("span",{className:"booking-passenger-name",children:[e.firstName," ",e.lastName]}),(0,_t.jsx)("span",{className:"booking-passenger-type",children:te(e.dateOfBirth)})]}),(0,_t.jsxs)("div",{className:"booking-passenger-details",children:[(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Gender:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.gender})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Date of Birth:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:new Date(e.dateOfBirth).toLocaleDateString()})]}),e.passportNumber&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Passport:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.passportNumber})]}),e.nationality&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Nationality:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.nationality})]}),e.mealPreference&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Meal:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:e.mealPreference})]})]})]},t))]}),N&&(N.registrationNumber||N.companyName||N.email||N.phone||N.address)&&(0,_t.jsxs)("div",{className:"booking-gst-review",children:[(0,_t.jsx)("h4",{className:"booking-subsection-title",children:"GST Details"}),(0,_t.jsxs)("div",{className:"booking-gst-info",children:[N.registrationNumber&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"GST Registration Number:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:N.registrationNumber})]}),N.companyName&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Company Name:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:N.companyName})]}),N.email&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Company Email:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:N.email})]}),N.phone&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Company Phone:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:N.phone})]}),N.address&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Company Address:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:N.address})]})]})]})]})]}),(0,_t.jsxs)("div",{className:"booking-price-section",children:[(0,_t.jsx)("h3",{className:"booking-section-title",children:"Price Summary"}),(0,_t.jsxs)("div",{className:"booking-section-content",children:[(0,_t.jsxs)("div",{className:"booking-trip-info",children:[(0,_t.jsx)("h4",{className:"booking-subsection-title",children:"Trip Details"}),(0,_t.jsxs)("div",{className:"booking-trip-details",children:[(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Trip Type:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:(null===v||void 0===v||null===(s=v.searchData)||void 0===s?void 0:s.tripType)||"One Way"})]}),(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Total Passengers:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:Y})]}),(null===v||void 0===v||null===(l=v.searchData)||void 0===l?void 0:l.routeInfos)&&(0,_t.jsxs)("div",{className:"booking-detail-item",children:[(0,_t.jsx)("span",{className:"booking-detail-label",children:"Routes:"}),(0,_t.jsx)("span",{className:"booking-detail-value",children:v.searchData.routeInfos.map((e,t)=>{var n,a;return(0,_t.jsxs)("span",{children:[(null===(n=e.fromCityOrAirport)||void 0===n?void 0:n.code)||e.fromCity," \u2192 ",(null===(a=e.toCityOrAirport)||void 0===a?void 0:a.code)||e.toCity,t<v.searchData.routeInfos.length-1?", ":""]},t)})})]})]})]}),"multicity"===(null===v||void 0===v||null===(r=v.searchData)||void 0===r?void 0:r.tripType)&&(null===v||void 0===v?void 0:v.selectedFlights)&&(0,_t.jsxs)("div",{className:"booking-segment-fare-breakdown",children:[(0,_t.jsx)("h4",{className:"booking-subsection-title",children:"Segment Breakdown"}),Object.values(v.selectedFlights).map((e,t)=>{var n,a,s,i;const l=null===(n=v.searchData)||void 0===n||null===(a=n.routeInfos)||void 0===a?void 0:a[t],r=(null===l||void 0===l||null===(s=l.fromCityOrAirport)||void 0===s?void 0:s.code)||"N/A",o=(null===l||void 0===l||null===(i=l.toCityOrAirport)||void 0===i?void 0:i.code)||"N/A",c=(()=>{const t=e.fareDetails;if(t){var n,a,s,i,l,r;const e=t.fd||t.fD||{},o=Number((null===e||void 0===e||null===(n=e.ADULT)||void 0===n||null===(a=n.fC)||void 0===a?void 0:a.TF)||0),c=Number((null===e||void 0===e||null===(s=e.CHILD)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),d=Number((null===(l=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),u=(null===v||void 0===v?void 0:v.paxInfo)||{};return Number(u.ADULT||0)*o+Number(u.CHILD||0)*c+Number(u.INFANT||0)*d}return 0})();return(0,_t.jsxs)("div",{className:"booking-segment-fare-item",children:[(0,_t.jsxs)("span",{children:["Segment ",t+1,": ",r," \u2192 ",o]}),(0,_t.jsxs)("span",{children:["\u20b9",c.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},"segment-fare-".concat(t))}),(0,_t.jsx)("div",{className:"booking-segment-fare-separator"})]}),(0,_t.jsxs)("div",{className:"booking-price-breakdown",children:[(0,_t.jsxs)("div",{className:"booking-price-item",children:[(0,_t.jsx)("span",{className:"booking-price-label",children:"Base Fare:"}),(0,_t.jsxs)("span",{className:"booking-price-value",children:["\u20b9",(.75*((null===v||void 0===v?void 0:v.totalFare)||ne())).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"booking-price-item",children:[(0,_t.jsx)("span",{className:"booking-price-label",children:"Taxes & Fees:"}),(0,_t.jsxs)("span",{className:"booking-price-value",children:["\u20b9",(.25*((null===v||void 0===v?void 0:v.totalFare)||ne())).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),k>0&&(0,_t.jsxs)("div",{className:"booking-price-item",children:[(0,_t.jsx)("span",{className:"booking-price-label",children:"Seat Selection:"}),(0,_t.jsxs)("span",{className:"booking-price-value",children:["\u20b9",k.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),S>0&&(0,_t.jsxs)("div",{className:"booking-price-item",children:[(0,_t.jsx)("span",{className:"booking-price-label",children:"Additional Services:"}),(0,_t.jsxs)("span",{className:"booking-price-value",children:["\u20b9",S.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"booking-price-item booking-price-total",children:[(0,_t.jsx)("span",{className:"booking-price-label",children:"Total Amount:"}),(0,_t.jsxs)("span",{className:"booking-price-value",children:["\u20b9",(((null===v||void 0===v?void 0:v.totalFare)||ne())+k+S).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),(0,_t.jsx)("div",{className:"booking-terms-acknowledgment",children:(0,_t.jsxs)("div",{className:"booking-terms-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",id:"booking-terms",checked:U,onChange:e=>H(e.target.checked),required:!0}),(0,_t.jsxs)("label",{htmlFor:"booking-terms",children:["By proceeding, I acknowledge and agree to the"," ",(0,_t.jsx)("a",{href:"/terms-and-conditions.html",target:"_blank",rel:"noopener noreferrer",className:"booking-terms-link",children:"terms & conditions"})]})]})})]}),(0,_t.jsxs)("div",{className:"step-navigation",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:d,children:"Previous"}),(0,_t.jsx)("button",{className:"btn btn-primary",onClick:()=>{U?L(!0):alert("Please acknowledge the terms and conditions before proceeding.")},children:"Proceed to Payment"})]}),O&&(0,_t.jsx)("div",{className:"purpose-popup-overlay",children:(0,_t.jsxs)("div",{className:"purpose-popup-modal",children:[(0,_t.jsxs)("div",{className:"purpose-popup-header",children:[(0,_t.jsx)("h3",{className:"purpose-popup-title",children:"Select Travel Purpose"}),(0,_t.jsx)("button",{className:"purpose-popup-close",onClick:J,children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"purpose-popup-content",children:[G&&(0,_t.jsx)("div",{style:{background:"#fdecea",border:"1px solid #f5c2c7",color:"#a94442",padding:"0.75rem",borderRadius:"6px",marginBottom:"1rem",fontSize:"14px"},children:G}),(0,_t.jsxs)("div",{className:"purpose-options",children:[(0,_t.jsxs)("label",{className:"purpose-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"urgent-meeting",checked:"urgent-meeting"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Urgent Meeting"})]}),(0,_t.jsxs)("label",{className:"purpose-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"sales-visit",checked:"sales-visit"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Sales Visit"})]}),(0,_t.jsxs)("label",{className:"purpose-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"conference",checked:"conference"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Attend a Conference"})]}),(0,_t.jsxs)("label",{className:"purpose-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"offsite",checked:"offsite"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Offsite"})]}),(0,_t.jsxs)("label",{className:"purpose-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"other",checked:"other"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Other"})]}),"other"===M&&(0,_t.jsx)("div",{className:"other-purpose-input",children:(0,_t.jsx)("input",{type:"text",placeholder:"Please specify the purpose",value:_,onChange:e=>{return t=e.target.value,void z(t);var t},className:"other-purpose-field"})}),(0,_t.jsxs)("label",{className:"purpose-option personal-option",children:[(0,_t.jsx)("input",{type:"radio",name:"travelPurpose",value:"personal",checked:"personal"===M,onChange:e=>X(e.target.value)}),(0,_t.jsx)("span",{className:"purpose-option-text",children:"Personal Trip"})]})]})]}),(0,_t.jsxs)("div",{className:"purpose-popup-footer",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:J,disabled:q,children:"Cancel"}),(0,_t.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(!M)return void alert("Please select a travel purpose");if("other"===M&&!_.trim())return void alert("Please specify the other purpose");const e="other"===M?_.trim():M,t="personal"!==M,n={travelPurpose:e,isBusinessPayment:t,timelineMinutes:t?10:null};V(null),W(!0);const a=K&&"object"===typeof K?He({},K):C?He({},C):{};if(!a.bookingId){var s;const e=(null===C||void 0===C?void 0:C.bookingId)||(null===g||void 0===g||null===(s=g.reviewPayload)||void 0===s?void 0:s.bookingId)||(null===g||void 0===g?void 0:g.bookingId)||(null===v||void 0===v?void 0:v.bookingId)||(null===o||void 0===o?void 0:o.bookingId)||null;e&&(a.bookingId=e)}!a.user&&null!==g&&void 0!==g&&g.user&&(a.user=g.user),!a.userInfo&&null!==g&&void 0!==g&&g.userInfo&&(a.userInfo=g.userInfo),a.travelPurpose=n;try{await ws(a),$(a),L(!1),t?(u({reviewCompleted:!0,travelPurpose:e,isBusinessPayment:!0,timeline:10,timelineMinutes:10}),c({reviewCompleted:!0,travelPurpose:e,isBusinessPayment:!0,timeline:10,timelineMinutes:10})):(u({reviewCompleted:!0,travelPurpose:e,isBusinessPayment:!1,timelineMinutes:null}),c({reviewCompleted:!0,travelPurpose:e,isBusinessPayment:!1,timelineMinutes:null}))}catch(h){var i,l,r,d;console.error("Failed to submit travel purpose:",h);const e=(null===h||void 0===h||null===(i=h.response)||void 0===i||null===(l=i.data)||void 0===l?void 0:l.message)||(null===h||void 0===h||null===(r=h.response)||void 0===r||null===(d=r.data)||void 0===d?void 0:d.error)||(null===h||void 0===h?void 0:h.message)||"Failed to save travel purpose. Please try again.";V(e)}finally{W(!1)}},disabled:q,children:q?"Saving...":"Continue"})]})]})})]})},sl=e=>{var t;let{bookingData:n,onNext:a,onPrev:s,onComplete:l,currentStep:r,totalSteps:o,timeLeft:c}=e;const[d,u]=(0,i.useState)({paymentType:"personal",paymentMethod:"",travelReason:"",cardDetails:{cardNumber:"",expiryDate:"",cvv:"",cardholderName:"",cardType:""},billingAddress:{address:"",city:"",state:"",zipCode:"",country:"India"},saveCard:!1}),[h,m]=(0,i.useState)({}),[p,v]=(0,i.useState)(!1),{flightData:f,step2Data:g,step3Data:x}=n,b=(null===g||void 0===g?void 0:g.reviewPayload)||{},{seatSelectionTotal:y=0,ssrItemsTotal:N=0}=(null===x||void 0===x||x.travelPurpose,null===x||void 0===x||x.isBusinessPayment,t=null===x||void 0===x?void 0:x.timeline,b.passengers,b.contact,b.gstDetails,b.selections,b.totals,b.flight,b.search,x&&Object.keys(x).length>0||Object.keys(b).length,g||{});console.log("Payment component - flightData:",f),console.log("Payment component - totalFare:",null===f||void 0===f?void 0:f.totalFare),console.log("Payment component - step2Data:",g),console.log("Payment component - seatSelectionTotal:",y),console.log("Payment component - ssrItemsTotal:",N);const j=()=>{var e;if(null!==f&&void 0!==f&&null!==(e=f.fareAlert)&&void 0!==e&&e.newFare)return Number(f.fareAlert.newFare);if(null!==f&&void 0!==f&&f.totalFare)return f.totalFare;if(!f||!f.selectedFlights)return 0;let t=0;return Object.values(f.selectedFlights).forEach(e=>{const n=e.fareDetails;if(n){var a,s,i,l,r,o;const e=n.fd||n.fD||{},c=Number((null===e||void 0===e||null===(a=e.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===e||void 0===e||null===(i=e.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),h=(null===f||void 0===f?void 0:f.paxInfo)||{};t+=Number(h.ADULT||0)*c+Number(h.CHILD||0)*d+Number(h.INFANT||0)*u}}),t},w=()=>((null===f||void 0===f?void 0:f.totalFare)||j())+y+N,k=e=>{u(t=>He(He({},t),{},{paymentType:e,travelReason:"business"===e?t.travelReason:""}))},S=e=>{u(t=>He(He({},t),{},{paymentMethod:e}))},C=(e,t)=>{u(n=>He(He({},n),{},{cardDetails:He(He({},n.cardDetails),{},{[e]:t})}))},I=(e,t)=>{u(n=>He(He({},n),{},{billingAddress:He(He({},n.billingAddress),{},{[e]:t})}))};return(0,_t.jsxs)("div",{className:"step-content",children:[(0,_t.jsx)("h2",{className:"payment-page-title",children:"Payment"}),(0,_t.jsxs)("div",{className:"payment-summary-section",children:[(0,_t.jsx)("h3",{className:"payment-summary-title",children:"Payment Summary"}),(0,_t.jsxs)("div",{className:"payment-summary-details",children:[(0,_t.jsxs)("div",{className:"payment-summary-item",children:[(0,_t.jsx)("span",{className:"payment-summary-label",children:"Base Fare:"}),(0,_t.jsxs)("span",{className:"payment-summary-value",children:["\u20b9",((null===f||void 0===f?void 0:f.totalFare)||j()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),y>0&&(0,_t.jsxs)("div",{className:"payment-summary-item",children:[(0,_t.jsx)("span",{className:"payment-summary-label",children:"Seat Selection:"}),(0,_t.jsxs)("span",{className:"payment-summary-value",children:["\u20b9",y.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),N>0&&(0,_t.jsxs)("div",{className:"payment-summary-item",children:[(0,_t.jsx)("span",{className:"payment-summary-label",children:"Additional Services:"}),(0,_t.jsxs)("span",{className:"payment-summary-value",children:["\u20b9",N.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"payment-summary-item payment-summary-total",children:[(0,_t.jsx)("span",{className:"payment-summary-label",children:"Total Amount:"}),(0,_t.jsxs)("span",{className:"payment-summary-value",children:["\u20b9",w().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"payment-summary-item",children:[(0,_t.jsx)("span",{className:"payment-summary-label",children:"Payment Method:"}),(0,_t.jsx)("span",{className:"payment-summary-value",children:d.paymentMethod||"Not selected"})]})]})]}),(0,_t.jsxs)("div",{className:"payment-type-section",children:[(0,_t.jsx)("h3",{className:"payment-type-title",children:"Payment Type"}),(0,_t.jsxs)("div",{className:"payment-type-toggle",children:[(0,_t.jsxs)("div",{className:"payment-type-option ".concat("personal"===d.paymentType?"payment-type-selected":""),onClick:()=>k("personal"),children:[(0,_t.jsx)("div",{className:"payment-type-icon",children:"\ud83d\udc64"}),(0,_t.jsx)("div",{className:"payment-type-label",children:"Personal Payment"})]}),(0,_t.jsxs)("div",{className:"payment-type-option ".concat("business"===d.paymentType?"payment-type-selected":""),onClick:()=>k("business"),children:[(0,_t.jsx)("div",{className:"payment-type-icon",children:"\ud83c\udfe2"}),(0,_t.jsx)("div",{className:"payment-type-label",children:"Business Payment"})]})]})]}),"business"===d.paymentType&&(0,_t.jsxs)("div",{className:"business-payment-section",children:[(0,_t.jsx)("h3",{className:"business-payment-title",children:"Business Travel Details"}),(0,_t.jsxs)("div",{className:"business-form-field",children:[(0,_t.jsx)("label",{className:"business-form-label",children:"Reason for Travel *"}),(0,_t.jsx)("textarea",{className:"business-form-textarea",value:d.travelReason,onChange:e=>{return t=e.target.value,void u(e=>He(He({},e),{},{travelReason:t}));var t},placeholder:"Please provide details about the business purpose of this travel...",rows:"4"}),h.travelReason&&(0,_t.jsx)("span",{className:"business-error-text",children:h.travelReason})]}),(0,_t.jsx)("div",{className:"business-submit-section",children:(0,_t.jsx)("button",{className:"btn btn-primary business-submit-btn",onClick:async()=>{if(d.travelReason.trim()){v(!0);try{await new Promise(e=>setTimeout(e,2e3)),l({paymentData:d,paymentStatus:"business_request_submitted",transactionId:"BUS"+Date.now()}),a({paymentData:d,paymentStatus:"business_request_submitted",transactionId:"BUS"+Date.now()})}catch(e){m({payment:"Business payment request failed. Please try again."})}finally{v(!1)}}else m({travelReason:"Please provide a reason for business travel"})},disabled:!d.travelReason.trim(),children:"Submit Business Payment Request"})})]}),"personal"===d.paymentType&&(0,_t.jsxs)("div",{className:"payment-methods-section",children:[(0,_t.jsx)("h3",{className:"payment-methods-title",children:"Select Payment Method"}),(0,_t.jsxs)("div",{className:"payment-methods-grid",children:[(0,_t.jsxs)("div",{className:"payment-method-card ".concat("card"===d.paymentMethod?"payment-method-selected":""),onClick:()=>S("card"),children:[(0,_t.jsx)("div",{className:"payment-method-icon",children:"\ud83d\udcb3"}),(0,_t.jsx)("div",{className:"payment-method-label",children:"Credit/Debit Card"})]}),(0,_t.jsxs)("div",{className:"payment-method-card ".concat("upi"===d.paymentMethod?"payment-method-selected":""),onClick:()=>S("upi"),children:[(0,_t.jsx)("div",{className:"payment-method-icon",children:"\ud83d\udcf1"}),(0,_t.jsx)("div",{className:"payment-method-label",children:"UPI"})]}),(0,_t.jsxs)("div",{className:"payment-method-card ".concat("netbanking"===d.paymentMethod?"payment-method-selected":""),onClick:()=>S("netbanking"),children:[(0,_t.jsx)("div",{className:"payment-method-icon",children:"\ud83c\udfe6"}),(0,_t.jsx)("div",{className:"payment-method-label",children:"Net Banking"})]}),(0,_t.jsxs)("div",{className:"payment-method-card ".concat("wallet"===d.paymentMethod?"payment-method-selected":""),onClick:()=>S("wallet"),children:[(0,_t.jsx)("div",{className:"payment-method-icon",children:"\ud83d\udcb0"}),(0,_t.jsx)("div",{className:"payment-method-label",children:"Digital Wallet"})]})]}),h.paymentMethod&&(0,_t.jsx)("span",{className:"payment-error-text",children:h.paymentMethod})]}),"personal"===d.paymentType&&"card"===d.paymentMethod&&(0,_t.jsxs)("div",{className:"card-details-section",children:[(0,_t.jsx)("h3",{className:"card-details-title",children:"Card Details"}),(0,_t.jsxs)("div",{className:"card-form-field",children:[(0,_t.jsx)("label",{className:"card-form-label",children:"Card Number *"}),(0,_t.jsx)("input",{type:"text",className:"card-form-input",value:d.cardDetails.cardNumber,onChange:e=>{const t=(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,""),n=t.match(/\d{4,16}/g),a=n&&n[0]||"",s=[];for(let i=0,l=a.length;i<l;i+=4)s.push(a.substring(i,i+4));return s.length?s.join(" "):t})(e.target.value),n=(e=>{const t=e.replace(/\s/g,"");return/^4/.test(t)?"Visa":/^5[1-5]/.test(t)?"Mastercard":/^3[47]/.test(t)?"American Express":/^6/.test(t)?"Discover":"Unknown"})(t);C("cardNumber",t),C("cardType",n)},placeholder:"1234 5678 9012 3456",maxLength:"19"}),d.cardDetails.cardType&&(0,_t.jsx)("div",{className:"card-type-indicator",children:d.cardDetails.cardType}),h.cardNumber&&(0,_t.jsx)("span",{className:"card-error-text",children:h.cardNumber})]}),(0,_t.jsxs)("div",{className:"card-form-row",children:[(0,_t.jsxs)("div",{className:"card-form-field",children:[(0,_t.jsx)("label",{className:"card-form-label",children:"Expiry Date *"}),(0,_t.jsx)("input",{type:"text",className:"card-form-input",value:d.cardDetails.expiryDate,onChange:e=>C("expiryDate",(e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?t.substring(0,2)+"/"+t.substring(2,4):t})(e.target.value)),placeholder:"MM/YY",maxLength:"5"}),h.expiryDate&&(0,_t.jsx)("span",{className:"card-error-text",children:h.expiryDate})]}),(0,_t.jsxs)("div",{className:"card-form-field",children:[(0,_t.jsx)("label",{className:"card-form-label",children:"CVV *"}),(0,_t.jsx)("input",{type:"text",className:"card-form-input",value:d.cardDetails.cvv,onChange:e=>C("cvv",e.target.value.replace(/\D/g,"")),placeholder:"123",maxLength:"4"}),h.cvv&&(0,_t.jsx)("span",{className:"card-error-text",children:h.cvv})]})]}),(0,_t.jsxs)("div",{className:"card-form-field",children:[(0,_t.jsx)("label",{className:"card-form-label",children:"Cardholder Name *"}),(0,_t.jsx)("input",{type:"text",className:"card-form-input",value:d.cardDetails.cardholderName,onChange:e=>C("cardholderName",e.target.value),placeholder:"John Doe"}),h.cardholderName&&(0,_t.jsx)("span",{className:"card-error-text",children:h.cardholderName})]}),(0,_t.jsxs)("div",{className:"billing-address-section",children:[(0,_t.jsx)("h4",{className:"billing-address-title",children:"Billing Address"}),(0,_t.jsxs)("div",{className:"billing-form-field",children:[(0,_t.jsx)("label",{className:"billing-form-label",children:"Address *"}),(0,_t.jsx)("input",{type:"text",className:"billing-form-input",value:d.billingAddress.address,onChange:e=>I("address",e.target.value),placeholder:"Street address"}),h.address&&(0,_t.jsx)("span",{className:"billing-error-text",children:h.address})]}),(0,_t.jsxs)("div",{className:"billing-form-row",children:[(0,_t.jsxs)("div",{className:"billing-form-field",children:[(0,_t.jsx)("label",{className:"billing-form-label",children:"City *"}),(0,_t.jsx)("input",{type:"text",className:"billing-form-input",value:d.billingAddress.city,onChange:e=>I("city",e.target.value),placeholder:"City"}),h.city&&(0,_t.jsx)("span",{className:"billing-error-text",children:h.city})]}),(0,_t.jsxs)("div",{className:"billing-form-field",children:[(0,_t.jsx)("label",{className:"billing-form-label",children:"State *"}),(0,_t.jsx)("input",{type:"text",className:"billing-form-input",value:d.billingAddress.state,onChange:e=>I("state",e.target.value),placeholder:"State"}),h.state&&(0,_t.jsx)("span",{className:"billing-error-text",children:h.state})]})]}),(0,_t.jsxs)("div",{className:"billing-form-row",children:[(0,_t.jsxs)("div",{className:"billing-form-field",children:[(0,_t.jsx)("label",{className:"billing-form-label",children:"ZIP Code *"}),(0,_t.jsx)("input",{type:"text",className:"billing-form-input",value:d.billingAddress.zipCode,onChange:e=>I("zipCode",e.target.value),placeholder:"123456"}),h.zipCode&&(0,_t.jsx)("span",{className:"billing-error-text",children:h.zipCode})]}),(0,_t.jsxs)("div",{className:"billing-form-field",children:[(0,_t.jsx)("label",{className:"billing-form-label",children:"Country"}),(0,_t.jsxs)("select",{className:"billing-form-input",value:d.billingAddress.country,onChange:e=>I("country",e.target.value),children:[(0,_t.jsx)("option",{value:"India",children:"India"}),(0,_t.jsx)("option",{value:"USA",children:"United States"}),(0,_t.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,_t.jsx)("option",{value:"Canada",children:"Canada"}),(0,_t.jsx)("option",{value:"Australia",children:"Australia"})]})]})]})]}),(0,_t.jsxs)("div",{className:"save-card-section",children:[(0,_t.jsx)("input",{type:"checkbox",id:"saveCard",className:"save-card-checkbox",checked:d.saveCard,onChange:e=>u(t=>He(He({},t),{},{saveCard:e.target.checked}))}),(0,_t.jsx)("label",{htmlFor:"saveCard",className:"save-card-label",children:"Save card for future bookings"})]})]}),"personal"===d.paymentType&&"upi"===d.paymentMethod&&(0,_t.jsxs)("div",{className:"upi-payment-section",children:[(0,_t.jsx)("h3",{className:"upi-payment-title",children:"UPI Payment"}),(0,_t.jsxs)("div",{className:"upi-payment-content",children:[(0,_t.jsx)("p",{className:"upi-payment-description",children:"You will be redirected to your UPI app to complete the payment."}),(0,_t.jsxs)("div",{className:"upi-form-field",children:[(0,_t.jsx)("label",{className:"upi-form-label",children:"UPI ID"}),(0,_t.jsx)("input",{type:"text",className:"upi-form-input",placeholder:"yourname@paytm"})]})]})]}),"personal"===d.paymentType&&"netbanking"===d.paymentMethod&&(0,_t.jsxs)("div",{className:"netbanking-payment-section",children:[(0,_t.jsx)("h3",{className:"netbanking-payment-title",children:"Net Banking"}),(0,_t.jsxs)("div",{className:"netbanking-form-field",children:[(0,_t.jsx)("label",{className:"netbanking-form-label",children:"Select Bank"}),(0,_t.jsxs)("select",{className:"netbanking-form-input",children:[(0,_t.jsx)("option",{value:"",children:"Select your bank"}),(0,_t.jsx)("option",{value:"sbi",children:"State Bank of India"}),(0,_t.jsx)("option",{value:"hdfc",children:"HDFC Bank"}),(0,_t.jsx)("option",{value:"icici",children:"ICICI Bank"}),(0,_t.jsx)("option",{value:"axis",children:"Axis Bank"}),(0,_t.jsx)("option",{value:"kotak",children:"Kotak Mahindra Bank"})]})]})]}),"personal"===d.paymentType&&"wallet"===d.paymentMethod&&(0,_t.jsxs)("div",{className:"wallet-payment-section",children:[(0,_t.jsx)("h3",{className:"wallet-payment-title",children:"Digital Wallet"}),(0,_t.jsxs)("div",{className:"wallet-payment-options",children:[(0,_t.jsxs)("div",{className:"wallet-payment-card",children:[(0,_t.jsx)("div",{className:"wallet-payment-icon",children:"\ud83d\udcf1"}),(0,_t.jsx)("div",{className:"wallet-payment-label",children:"Paytm"})]}),(0,_t.jsxs)("div",{className:"wallet-payment-card",children:[(0,_t.jsx)("div",{className:"wallet-payment-icon",children:"\ud83d\udcf1"}),(0,_t.jsx)("div",{className:"wallet-payment-label",children:"PhonePe"})]}),(0,_t.jsxs)("div",{className:"wallet-payment-card",children:[(0,_t.jsx)("div",{className:"wallet-payment-icon",children:"\ud83d\udcf1"}),(0,_t.jsx)("div",{className:"wallet-payment-label",children:"Google Pay"})]})]})]}),h.payment&&(0,_t.jsx)("div",{className:"payment-error-section",children:(0,_t.jsx)("span",{className:"payment-error-message",children:h.payment})}),"personal"===d.paymentType&&(0,_t.jsxs)("div",{className:"step-navigation",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:s,children:"Previous"}),(0,_t.jsx)("button",{className:"btn btn-primary ".concat(p?"processing":""),onClick:async()=>{if((()=>{const e={};if(d.paymentMethod||(e.paymentMethod="Please select a payment method"),"business"!==d.paymentType||d.travelReason.trim()||(e.travelReason="Please provide a reason for business travel"),"card"===d.paymentMethod){if(d.cardDetails.cardNumber?d.cardDetails.cardNumber.replace(/\s/g,"").length<13&&(e.cardNumber="Card number is invalid"):e.cardNumber="Card number is required",d.cardDetails.expiryDate){const[t,n]=d.cardDetails.expiryDate.split("/");new Date(2e3+parseInt(n),parseInt(t)-1)<new Date&&(e.expiryDate="Card has expired")}else e.expiryDate="Expiry date is required";d.cardDetails.cvv?d.cardDetails.cvv.length<3&&(e.cvv="CVV is invalid"):e.cvv="CVV is required",d.cardDetails.cardholderName||(e.cardholderName="Cardholder name is required"),d.billingAddress.address||(e.address="Billing address is required"),d.billingAddress.city||(e.city="City is required"),d.billingAddress.state||(e.state="State is required"),d.billingAddress.zipCode||(e.zipCode="ZIP code is required")}return m(e),0===Object.keys(e).length})()){v(!0);try{await new Promise(e=>setTimeout(e,3e3)),l({paymentData:d,paymentStatus:"success",transactionId:"TXN"+Date.now()}),a({paymentData:d,paymentStatus:"success",transactionId:"TXN"+Date.now()})}catch(e){m({payment:"Payment failed. Please try again."})}finally{v(!1)}}},disabled:p,children:p?"Processing Payment...":"Pay \u20b9".concat(w().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}))})]})]})},il=e=>{var t;let{bookingData:n,onNext:a,onPrev:s,onComplete:l,currentStep:r,totalSteps:o,timeLeft:c}=e;const[d,u]=(0,i.useState)(600),[h,m]=(0,i.useState)(!1),[p,v]=(0,i.useState)({businessDetails:{companyName:"",department:""}}),{flightData:f,step2Data:g,step3Data:x}=n,b=(null===x||void 0===x?void 0:x.travelPurpose)||"Business Travel",y=null!==(t=null===x||void 0===x?void 0:x.timeline)&&void 0!==t?t:10,N=(null===g||void 0===g?void 0:g.reviewPayload)||{},{seatSelectionTotal:j=0,ssrItemsTotal:w=0}=(null===x||void 0===x||x.travelPurpose,null===x||void 0===x||x.isBusinessPayment,N.passengers,N.contact,N.gstDetails,N.selections,N.totals,N.flight,N.search,x&&Object.keys(x).length>0||Object.keys(N).length,g||{});console.log("BusinessPayment - bookingData:",n),console.log("BusinessPayment - step3Data:",n.step3Data),console.log("BusinessPayment - travelPurpose:",b),console.log("BusinessPayment - step2Data:",g),console.log("BusinessPayment - seatSelectionTotal:",j),console.log("BusinessPayment - ssrItemsTotal:",w),console.log("BusinessPayment - reviewPayload:",N),(0,i.useEffect)(()=>{const e=setInterval(()=>{u(t=>t<=0?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[]);const k=()=>{if(null!==f&&void 0!==f&&f.totalFare)return f.totalFare;if(!f||!f.selectedFlights)return 0;let e=0;return Object.values(f.selectedFlights).forEach(t=>{const n=t.fareDetails;if(n){var a,s,i,l,r,o;const t=n.fd||n.fD||{},c=Number((null===t||void 0===t||null===(a=t.ADULT)||void 0===a||null===(s=a.fC)||void 0===s?void 0:s.TF)||0),d=Number((null===t||void 0===t||null===(i=t.CHILD)||void 0===i||null===(l=i.fC)||void 0===l?void 0:l.TF)||0),u=Number((null===(r=(null===t||void 0===t?void 0:t.INFANT)||(null===t||void 0===t?void 0:t.INFT))||void 0===r||null===(o=r.fC)||void 0===o?void 0:o.TF)||0),h=(null===f||void 0===f?void 0:f.paxInfo)||{};e+=Number(h.ADULT||0)*c+Number(h.CHILD||0)*d+Number(h.INFANT||0)*u}}),e};return(0,_t.jsxs)("div",{className:"business-payment-container",children:[(0,_t.jsxs)("div",{className:"business-payment-header",children:[(0,_t.jsx)("h2",{className:"business-payment-title",children:"Business Payment Request"}),(0,_t.jsxs)("div",{className:"business-timer",children:[(0,_t.jsx)("div",{className:"timer-icon",children:"\u23f0"}),(0,_t.jsxs)("div",{className:"timer-text",children:[(0,_t.jsx)("span",{className:"timer-label",children:"Time Remaining:"}),(0,_t.jsx)("span",{className:"timer-value ".concat(d<60?"timer-critical":""),children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(d)})]})]})]}),(0,_t.jsxs)("div",{className:"business-payment-content",children:[(0,_t.jsxs)("div",{className:"purpose-display-section",children:[(0,_t.jsx)("h3",{className:"purpose-display-title",children:"Travel Purpose"}),(0,_t.jsxs)("div",{className:"purpose-display-card",children:[(0,_t.jsx)("div",{className:"purpose-icon",children:"\ud83c\udfaf"}),(0,_t.jsx)("div",{className:"purpose-text",children:b||"Business Travel"})]})]}),(0,_t.jsxs)("div",{className:"business-summary-section",children:[(0,_t.jsx)("h3",{className:"business-summary-title",children:"Payment Summary"}),(0,_t.jsxs)("div",{className:"business-summary-card",children:[(0,_t.jsxs)("div",{className:"summary-item",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Base Fare:"}),(0,_t.jsxs)("span",{className:"summary-value",children:["\u20b9",((null===f||void 0===f?void 0:f.totalFare)||k()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),j>0&&(0,_t.jsxs)("div",{className:"summary-item",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Seat Selection:"}),(0,_t.jsxs)("span",{className:"summary-value",children:["\u20b9",j.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),w>0&&(0,_t.jsxs)("div",{className:"summary-item",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Additional Services:"}),(0,_t.jsxs)("span",{className:"summary-value",children:["\u20b9",w.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"summary-item summary-item-total",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Total Amount:"}),(0,_t.jsxs)("span",{className:"summary-value",children:["\u20b9",(((null===f||void 0===f?void 0:f.totalFare)||k())+j+w).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"summary-item",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Payment Type:"}),(0,_t.jsx)("span",{className:"summary-value",children:"Business Payment Request"})]}),(0,_t.jsxs)("div",{className:"summary-item",children:[(0,_t.jsx)("span",{className:"summary-label",children:"Timeline:"}),(0,_t.jsxs)("span",{className:"summary-value",children:[y," minutes for approval"]})]})]})]}),(0,_t.jsx)("div",{className:"business-terms-section",children:(0,_t.jsxs)("div",{className:"business-terms-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",id:"business-terms",required:!0}),(0,_t.jsx)("label",{htmlFor:"business-terms",children:"I acknowledge that this business payment request will be processed within 10 minutes and is subject to company approval policies."})]})})]}),(0,_t.jsxs)("div",{className:"business-payment-footer",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:s,children:"Previous"}),(0,_t.jsx)("button",{className:"btn btn-primary ".concat(h?"processing":""),onClick:async()=>{m(!0);try{await new Promise(e=>setTimeout(e,2e3)),l({paymentData:p,paymentStatus:"business_request_submitted",transactionId:"BUS"+Date.now(),travelPurpose:b,timeline:y}),a({paymentData:p,paymentStatus:"business_request_submitted",transactionId:"BUS"+Date.now(),travelPurpose:b,timeline:y})}catch(e){console.error("Business payment request failed:",e)}finally{m(!1)}},disabled:h||d<=0,children:h?"Submitting Request...":"Submit Business Payment Request"})]}),d<=0&&(0,_t.jsxs)("div",{className:"timeout-notification",children:[(0,_t.jsx)("div",{className:"timeout-icon",children:"\u23f0"}),(0,_t.jsx)("div",{className:"timeout-message",children:"Time has expired. Please refresh the page to start over."})]})]})},ll=e=>{let{bookingData:t}=e;const n=ae(),{flightData:a,step1Data:s,step2Data:l,step3Data:r,step4Data:o,step5Data:c}=t,d=o||c||{},{adults:u=[],children:h=[],infants:m=[],selectedSeats:p={},selectedSSRItems:v={},seatSelectionTotal:f=0,ssrItemsTotal:g=0}=(null===r||void 0===r||r.isBusinessPayment,l||{}),x=(null===d||void 0===d?void 0:d.transactionId)||"TXN".concat(Date.now()),b=(null===a||void 0===a?void 0:a.bookingId)||x,y=(new Date).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),[N,j]=(0,i.useState)({}),[w,k]=(0,i.useState)({}),[S,C]=(0,i.useState)({}),[I,A]=(0,i.useState)(!0);(0,i.useEffect)(()=>{(async()=>{A(!0);try{const e=new Set,t=new Set;null!==a&&void 0!==a&&a.selectedFlights&&Object.values(a.selectedFlights).forEach(n=>{var a;((null===(a=n.flight)||void 0===a?void 0:a.sI)||[]).forEach(n=>{var a,s,i,l,r,o,c;null!==(a=n.da)&&void 0!==a&&a.code&&e.add(n.da.code),null!==(s=n.aa)&&void 0!==s&&s.code&&e.add(n.aa.code),null!==(i=n.fD)&&void 0!==i&&null!==(l=i.aI)&&void 0!==l&&l.code&&t.add(n.fD.aI.code),null!==(r=n.fd)&&void 0!==r&&null!==(o=r.aI)&&void 0!==o&&o.code&&t.add(n.fd.aI.code),null!==(c=n.airline)&&void 0!==c&&c.code&&t.add(n.airline.code)})});const n=Array.from(e).map(async e=>({code:e,cityName:await Ds(e)})),s=await Promise.all(n),i={};s.forEach(e=>{let{code:t,cityName:n}=e;i[t]=n}),j(i);const l=Array.from(t).map(async e=>({code:e,airlineName:await Es(e)})),r=await Promise.all(l),o={};r.forEach(e=>{let{code:t,airlineName:n}=e;o[t]=n}),k(o);const c=Array.from(t).map(async e=>({code:e,airlineLogo:await Ps(e)})),d=await Promise.all(c),u={};d.forEach(e=>{let{code:t,airlineLogo:n}=e;u[t]=n}),C(u)}catch(e){console.error("Error loading flight data:",e)}finally{A(!1)}})()},[null===a||void 0===a?void 0:a.selectedFlights]);const D=e=>N[e]||e||"N/A",E=e=>w[e]||e||"N/A",P=e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),T=e=>{const t=new Date(e),n=t.toLocaleDateString("en-US",{weekday:"short"}),a=t.toLocaleDateString("en-US",{month:"short"}),s=t.getDate(),i=t.getFullYear();return"".concat(n,", ").concat(s," ").concat(a," '").concat(i.toString().slice(-2))},R=()=>{var e;if(null!==a&&void 0!==a&&null!==(e=a.fareAlert)&&void 0!==e&&e.newFare)return Number(a.fareAlert.newFare);if(null!==a&&void 0!==a&&a.totalFare)return a.totalFare;if(!a||!a.selectedFlights)return 0;let t=0;return Object.values(a.selectedFlights).forEach(e=>{const n=e.fareDetails;if(n){var s,i,l,r,o,c;const e=n.fd||n.fD||{},d=Number((null===e||void 0===e||null===(s=e.ADULT)||void 0===s||null===(i=s.fC)||void 0===i?void 0:i.TF)||0),u=Number((null===e||void 0===e||null===(l=e.CHILD)||void 0===l||null===(r=l.fC)||void 0===r?void 0:r.TF)||0),h=Number((null===(o=(null===e||void 0===e?void 0:e.INFANT)||(null===e||void 0===e?void 0:e.INFT))||void 0===o||null===(c=o.fC)||void 0===c?void 0:c.TF)||0),m=(null===a||void 0===a?void 0:a.paxInfo)||{};t+=Number(m.ADULT||0)*d+Number(m.CHILD||0)*u+Number(m.INFANT||0)*h}}),t},F=()=>{const e=R();return Math.round(.6*e)},O=b&&b.length>=6?b.substring(0,6).toUpperCase():(null===b||void 0===b?void 0:b.substring(0,6).toUpperCase())||"TXN"+Date.now().toString().substring(0,3),L=(e,t,n)=>{if(!e)return!1;const a=String(e.type||"").toLowerCase(),s=String(t||"").toLowerCase();if(!(a===s||a===s+"s"||"adt"===a&&"adult"===s||"chd"===a&&"child"===s||"inft"===a&&"infant"===s))return!1;const i=Number(e.index)===n,l=Number(e.index)===((e,t)=>{const n=String(e||"").toLowerCase(),a=Array.isArray(u)?u.length:0,s=Array.isArray(h)?h.length:0;return"adult"===n||"adults"===n||"adt"===n?t:"child"===n||"children"===n||"chd"===n?a+t:"infant"===n||"infants"===n||"inft"===n?a+s+t:t})(t,n);return i||l},M=[...u.map((e,t)=>He(He({},e),{},{type:"ADULT",index:t})),...h.map((e,t)=>He(He({},e),{},{type:"CHILD",index:t})),...m.map((e,t)=>He(He({},e),{},{type:"INFANT",index:t}))];return I?(0,_t.jsxs)("div",{className:"ticket-loading",children:[(0,_t.jsx)("div",{className:"loading-spinner"}),(0,_t.jsx)("p",{children:"Loading ticket details..."})]}):(0,_t.jsxs)("div",{className:"e-ticket-container",children:[(0,_t.jsxs)("div",{className:"eticket-header",children:[(0,_t.jsx)("div",{className:"eticket-logo-left",children:(0,_t.jsx)("img",{src:"/airlineLogo.png",alt:"Samskruth Airlines",className:"company-logo-img",onError:e=>{e.target.src="/airlineLogo.png",e.target.onerror=null}})}),(0,_t.jsxs)("div",{className:"eticket-contact-right",children:[(0,_t.jsx)("div",{className:"company-name",children:"SAMSKRUTHI AIRLINES PRIVATE LIMITED (API)"}),(0,_t.jsxs)("div",{className:"contact-info",children:[(0,_t.jsx)("div",{children:"Email: shashikumar@samskruthiairlines.com"}),(0,_t.jsx)("div",{children:"Phone: 9164111114"}),(0,_t.jsx)("div",{children:"Address: 163/1 APOORVA BLDING, OPP, BET COLLEG LAKSHMAMMA LYT, BANASWADI, Bangalore Karnataka India 560043"})]})]})]}),(null===a||void 0===a?void 0:a.selectedFlights)&&(()=>{const e=new Map;Object.values(a.selectedFlights).forEach(t=>{var n;((null===(n=t.flight)||void 0===n?void 0:n.sI)||[]).forEach(t=>{var n,a,s,i,l;const r=(null===(n=t.fD)||void 0===n||null===(a=n.aI)||void 0===a?void 0:a.code)||(null===(s=t.fd)||void 0===s||null===(i=s.aI)||void 0===i?void 0:i.code)||(null===(l=t.airline)||void 0===l?void 0:l.code);r&&!e.has(r)&&e.set(r,{code:r,name:E(r),logo:S[r]})})});const t=Array.from(e.values());return(0,_t.jsxs)("div",{className:"eticket-airline-info",children:[(0,_t.jsx)("div",{className:"airline-logos-container",children:t.map((e,t)=>e.logo&&(0,_t.jsx)("img",{src:e.logo,alt:e.name,className:"airline-logo-img",title:e.name},e.code))}),(0,_t.jsx)("div",{className:"barcode-section",children:(0,_t.jsx)("div",{className:"barcode-placeholder",children:"BARCODE"})}),(0,_t.jsxs)("div",{className:"airline-pnr-info",children:[(0,_t.jsx)("div",{className:"airline-pnr-code",children:O}),(0,_t.jsx)("div",{className:"airline-pnr-label",children:"Airline PNR"})]})]})})(),(0,_t.jsxs)("div",{className:"eticket-booking-status",children:[(0,_t.jsxs)("div",{className:"booking-time-info",children:["Booking Time: ",y]}),(0,_t.jsxs)("div",{className:"booking-id",children:["Booking ID: ",b]}),(0,_t.jsxs)("div",{className:"booking-status",children:["Booking Status: ",(0,_t.jsx)("strong",{children:"CONFIRMED"})]})]}),(null===a||void 0===a?void 0:a.selectedFlights)&&(0,_t.jsxs)("div",{className:"eticket-section",children:[(0,_t.jsx)("div",{className:"eticket-section-title",children:"Flight Detail"}),(0,_t.jsx)("div",{className:"flight-note",children:"*Please verify flight timings & terminal info with the airlines"}),(0,_t.jsxs)("table",{className:"eticket-table flight-table",children:[(0,_t.jsx)("thead",{children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{children:"Flight"}),(0,_t.jsx)("th",{children:"Fare Type"}),(0,_t.jsx)("th",{children:"Class"}),(0,_t.jsx)("th",{children:"Type"}),(0,_t.jsx)("th",{children:"Departing"}),(0,_t.jsx)("th",{children:"Arriving"}),(0,_t.jsx)("th",{children:"Duration"})]})}),(0,_t.jsx)("tbody",{children:Object.values(a.selectedFlights).map((e,t)=>{const n=e.flight;return((null===n||void 0===n?void 0:n.sI)||[]).map((e,n)=>{var a,s,i,l,r,o,c,d;const u=(null===(a=e.fD)||void 0===a||null===(s=a.aI)||void 0===s?void 0:s.code)||(null===(i=e.fd)||void 0===i||null===(l=i.aI)||void 0===l?void 0:l.code)||(null===(r=e.airline)||void 0===r?void 0:r.code),h=E(u),m=(null===(o=e.fD)||void 0===o?void 0:o.fN)||(null===(c=e.fd)||void 0===c?void 0:c.fN)||e.fN||"N/A",p=e.da||{},v=e.aa||{},f=((e,t)=>{const n=new Date(e),a=new Date(t)-n,s=Math.floor(a/36e5),i=Math.floor(a%36e5/6e4);return"".concat(s,"h ").concat(i,"m")})(e.dt,e.at),g=e.cabin||e.cb||"Economy",x=(null===(d=e.fD)||void 0===d?void 0:d.fareType)||"NA",b=S[u];return(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{children:(0,_t.jsxs)("div",{className:"flight-airline-with-logo",children:[b&&(0,_t.jsx)("img",{src:b,alt:h,className:"flight-airline-logo"}),(0,_t.jsxs)("div",{className:"flight-airline-info",children:[(0,_t.jsxs)("div",{className:"flight-airline",children:[u," - ",m]}),(0,_t.jsx)("div",{className:"flight-airline-name",children:h})]})]})}),(0,_t.jsx)("td",{children:x}),(0,_t.jsx)("td",{children:g}),(0,_t.jsx)("td",{children:"Refundable"}),(0,_t.jsxs)("td",{children:[(0,_t.jsxs)("div",{children:[T(e.dt),", ",P(e.dt)]}),(0,_t.jsxs)("div",{children:[D(p.code),","," ",p.terminal?"Terminal ".concat(p.terminal):""]}),(0,_t.jsx)("div",{children:p.name||"".concat(p.code," Airport")})]}),(0,_t.jsxs)("td",{children:[(0,_t.jsxs)("div",{children:[T(e.at),", ",P(e.at)]}),(0,_t.jsx)("div",{children:D(v.code)}),(0,_t.jsx)("div",{children:v.name||"".concat(v.code," Airport")})]}),(0,_t.jsx)("td",{children:f})]},"".concat(t,"-").concat(n))})})})]})]}),(0,_t.jsxs)("div",{className:"eticket-section",children:[(0,_t.jsx)("div",{className:"eticket-section-title",children:"Passenger Details"}),(0,_t.jsxs)("table",{className:"eticket-table passenger-table",children:[(0,_t.jsx)("thead",{children:(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("th",{children:"Sr."}),(0,_t.jsx)("th",{children:"Name & FF"}),(0,_t.jsx)("th",{children:"Sector"}),(0,_t.jsx)("th",{children:"PNR & Ticket No."}),(0,_t.jsx)("th",{children:"Baggage Check-in | Cabin"}),(0,_t.jsx)("th",{children:"Meal, Seat & Other Preference"}),(0,_t.jsx)("th",{children:"Document Id"})]})}),(0,_t.jsx)("tbody",{children:M.map((e,t)=>{const n="".concat(e.title," ").concat(e.firstName," ").concat(e.lastName),s="ADULT"===e.type?"(A)":"CHILD"===e.type?"(C)":"(I)";let i="";if(null!==a&&void 0!==a&&a.selectedFlights){var l;const e=(null===(l=Object.values(a.selectedFlights)[0].flight)||void 0===l?void 0:l.sI)||[];if(e.length>0){var r,o;const t=e[0],n=e[e.length-1];i="".concat((null===(r=t.da)||void 0===r?void 0:r.code)||"","-").concat((null===(o=n.aa)||void 0===o?void 0:o.code)||"")}}const c="ADULT"===e.type?"adult":"CHILD"===e.type?"child":"infant",d=((e,t)=>{const n=[];return p&&"object"===typeof p?(Object.entries(p).forEach(a=>{let[s,i]=a;Object.entries(i||{}).forEach(a=>{let[i,l]=a;L(null===l||void 0===l?void 0:l.passenger,e,t)&&n.push({segmentKey:s,seatCode:i,amount:null===l||void 0===l?void 0:l.amount})})}),n):n})(c,e.index),u=d.map(e=>e.seatCode).join(", "),h=((e,t)=>{const n=[];return v&&"object"===typeof v?(Object.entries(v).forEach(a=>{let[s,i]=a;(Array.isArray(null===i||void 0===i?void 0:i.assignedPassengers)?i.assignedPassengers:[]).some(n=>L(n,e,t))&&n.push({itemId:s,name:null===i||void 0===i?void 0:i.name,category:null===i||void 0===i?void 0:i.category,price:null===i||void 0===i?void 0:i.price,segmentIndex:null===i||void 0===i?void 0:i.segmentIndex})}),n):n})(c,e.index),m=h.filter(e=>"meal"===e.category).map(e=>e.name).join(", "),f=h.filter(e=>"baggage"===e.category).map(e=>e.name).join(", "),g=h.filter(e=>"meal"!==e.category&&"baggage"!==e.category).map(e=>e.name).join(", "),x=[];u&&x.push("Seat: ".concat(u)),m&&x.push("Meal: ".concat(m)),f&&x.push("Baggage: ".concat(f)),g&&x.push(g);const b=x.length>0?x.join("; "):"NA",y=(e=>{if(null!==a&&void 0!==a&&a.selectedFlights){const e=Object.values(a.selectedFlights)[0],t=null===e||void 0===e?void 0:e.fareDetails;if(null!==t&&void 0!==t&&t.baggage)return t.baggage}return"CHILD"===e?"15 Kg | 7 Kg":"INFANT"===e?"10 Kg | 7 Kg":"15 Kg | 7 Kg"})(e.type);return(0,_t.jsxs)("tr",{children:[(0,_t.jsx)("td",{children:t+1}),(0,_t.jsx)("td",{children:(0,_t.jsxs)("strong",{children:[n.toUpperCase()," ",s]})}),(0,_t.jsx)("td",{children:i}),(0,_t.jsx)("td",{children:O}),(0,_t.jsx)("td",{children:(0,_t.jsx)("strong",{children:y})}),(0,_t.jsx)("td",{children:b}),(0,_t.jsx)("td",{})]},t)})})]})]}),(0,_t.jsxs)("div",{className:"eticket-section",children:[(0,_t.jsx)("div",{className:"eticket-section-title",children:"Fare Details"}),(0,_t.jsxs)("div",{className:"fare-details-list",children:[(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{className:"fare-label",children:"Base Price:"}),(0,_t.jsxs)("span",{className:"fare-value",children:["\u20b9",F().toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{className:"fare-label",children:"Airline Taxes and Fees:"}),(0,_t.jsxs)("span",{className:"fare-value",children:["\u20b9",(R()-F()).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{className:"fare-label",children:"Meal/Seat/Baggage/ Misc Charges:"}),(0,_t.jsxs)("span",{className:"fare-value",children:["\u20b9",(f+g).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"fare-item",children:[(0,_t.jsx)("span",{className:"fare-label",children:"Baggage Protection Service Fee:"}),(0,_t.jsx)("span",{className:"fare-value",children:"\u20b90.00"})]}),(0,_t.jsxs)("div",{className:"fare-item fare-total",children:[(0,_t.jsx)("span",{className:"fare-label",children:"Total Price:"}),(0,_t.jsx)("span",{className:"fare-value",children:(0,_t.jsxs)("strong",{children:["\u20b9",(((null===a||void 0===a?void 0:a.totalFare)||R())+f+g).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})]})]}),(0,_t.jsxs)("div",{className:"eticket-section",children:[(0,_t.jsx)("div",{className:"eticket-section-title",children:"Important Information"}),(0,_t.jsxs)("ol",{className:"important-info-list",children:[(0,_t.jsx)("li",{children:"Web check-in is mandatory for all passengers. Please complete web check-in before arriving at the airport."}),(0,_t.jsx)("li",{children:"Please arrive at the airport at least 2 hours before domestic flights and 4 hours before international flights."}),(0,_t.jsx)("li",{children:"Please check your departure terminal with the airline before leaving for the airport."}),(0,_t.jsx)("li",{children:"Date & Time calculation is based on local time of city/destination."}),(0,_t.jsx)("li",{children:"Please use Airline PNR for any correspondence with the airline."}),(0,_t.jsx)("li",{children:"For rescheduling/cancellation, please contact us at least 4 hours before departure."}),(0,_t.jsx)("li",{children:"Passengers are advised to check with airport authorities regarding travel restrictions and requirements."})]})]}),(0,_t.jsxs)("div",{className:"eticket-section",children:[(0,_t.jsx)("div",{className:"eticket-section-title",children:"Baggage Restrictions"}),(0,_t.jsxs)("div",{className:"baggage-restrictions",children:[(0,_t.jsxs)("div",{className:"baggage-dangerous",children:[(0,_t.jsxs)("div",{className:"baggage-header-dangerous",children:[(0,_t.jsx)("span",{className:"danger-icon",children:"\u2715"}),(0,_t.jsx)("span",{children:"The items are Dangerous Goods and are not permitted to be carried as Hand/Check-in Baggage"})]}),(0,_t.jsxs)("div",{className:"dangerous-items-grid",children:[(0,_t.jsx)("div",{className:"dangerous-item",children:"Lighters"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Flammable Liquids"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Toxic"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Bleach"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Explosives"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Infectious Substances"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Pepper Spray"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"RadioActive Materials"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Flammable Gas"}),(0,_t.jsx)("div",{className:"dangerous-item",children:"Corrosive"})]})]}),(0,_t.jsxs)("div",{className:"baggage-allowed",children:[(0,_t.jsxs)("div",{className:"baggage-header-allowed",children:[(0,_t.jsx)("span",{className:"allowed-icon",children:"\u2713"}),(0,_t.jsx)("span",{children:"Items allowed only in Hand Baggage"})]}),(0,_t.jsxs)("div",{className:"allowed-items-grid",children:[(0,_t.jsx)("div",{className:"allowed-item",children:"Power Banks"}),(0,_t.jsx)("div",{className:"allowed-item",children:"Lithium Batteries"})]})]})]})]}),(0,_t.jsxs)("div",{className:"eticket-actions",children:[(0,_t.jsx)("button",{className:"btn btn-secondary",onClick:()=>{n("/")},children:"Back to Home"}),(0,_t.jsx)("button",{className:"btn btn-primary",onClick:()=>{window.print()},children:"Print Ticket"})]})]})},rl=()=>{var e,t;const n=ae(),a=te(),[s,l]=(0,i.useState)(1),[r,o]=(0,i.useState)(1800),[c,d]=(0,i.useState)(!0),[u,h]=(0,i.useState)(!1),[m,p]=(0,i.useState)({flightData:(null===(e=a.state)||void 0===e?void 0:e.flightData)||null,passengerDetails:{},reviewData:{},paymentData:{}}),v=[{id:1,title:"Flight Itinerary",component:Gi},{id:2,title:"Passenger Details",component:nl},{id:3,title:"Review",component:al},{id:4,title:"Payment",component:sl},{id:5,title:"Business Payment",component:il},{id:6,title:"Ticket",component:ll}];(0,i.useEffect)(()=>{let e=null;return c&&r>0?e=setInterval(()=>{o(e=>e-1)},1e3):0===r&&h(!0),()=>clearInterval(e)},[c,r]);const f=()=>{h(!1),n("/flights/details")},g=null===(t=v.find(e=>e.id===s))||void 0===t?void 0:t.component;return(0,_t.jsxs)("div",{className:"booking-container",children:[u&&(0,_t.jsx)("div",{className:"session-expired-popup-overlay",onClick:f,children:(0,_t.jsxs)("div",{className:"session-expired-popup-content",onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{className:"session-expired-popup-header",children:[(0,_t.jsx)("h3",{children:"Session Expired"}),(0,_t.jsx)("button",{className:"session-expired-popup-close",onClick:f,"aria-label":"Close",children:"\xd7"})]}),(0,_t.jsxs)("div",{className:"session-expired-popup-body",children:[(0,_t.jsx)("div",{className:"session-expired-popup-icon",children:(0,_t.jsx)(Nt,{})}),(0,_t.jsx)("p",{className:"session-expired-popup-message",children:"Your booking session has expired. You will be redirected to flight details."})]}),(0,_t.jsx)("div",{className:"session-expired-popup-footer",children:(0,_t.jsx)("button",{className:"session-expired-popup-ok-btn",onClick:f,children:"OK"})})]})}),6!==s&&(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsxs)("div",{className:"booking-header",children:[(0,_t.jsx)("h1",{children:"Complete Your Booking"}),(0,_t.jsxs)("div",{className:"timer",children:[(0,_t.jsx)("span",{className:"timer-label",children:"Time Remaining:"}),(0,_t.jsx)("span",{className:"timer-value ".concat(r<300?"timer-warning":""),children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(r)})]})]}),(0,_t.jsx)("div",{className:"booking-steps",children:v.map(e=>{var t;const n=null===(t=m.step3Data)||void 0===t?void 0:t.isBusinessPayment;if(6===e.id)return null;if(5===e.id&&!n&&5!==s)return null;if(4===e.id&&n&&4!==s)return null;let a=e.id,i=e.title;n?5===e.id&&(a=4,i="Business Payment"):5===e.id&&(a=5,i="Business Payment");const l=s===e.id,r=s>e.id||5===s&&4===e.id&&!n;return(0,_t.jsxs)("div",{className:"step ".concat(l?"active":""," ").concat(r?"completed":""),children:[(0,_t.jsx)("div",{className:"step-number",children:a}),(0,_t.jsx)("div",{className:"step-title",children:i})]},e.id)})})]}),(0,_t.jsx)("div",{className:"booking-content",children:g&&(0,_t.jsx)(g,{bookingData:m,onNext:e=>{p(t=>{const n=He(He({},t),{},{["step".concat(s,"Data")]:e});return null!==e&&void 0!==e&&e.flightData&&(n.flightData=e.flightData),n}),3===s?null!==e&&void 0!==e&&e.isBusinessPayment?l(5):l(4):4===s||5===s?"success"!==(null===e||void 0===e?void 0:e.paymentStatus)&&"business_request_submitted"!==(null===e||void 0===e?void 0:e.paymentStatus)||(l(6),d(!1)):s<v.length&&l(s+1)},onPrev:()=>{var e;s>1&&(5===s&&null!==(e=m.step3Data)&&void 0!==e&&e.isBusinessPayment?l(3):l(s-1))},onComplete:e=>{},currentStep:s,totalSteps:v.length,timeLeft:r})})]})},ol=ei("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),cl=ei("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),dl=()=>({title:"Mr",firstName:"",lastName:"",pan:"",email:"",countryCode:"+91",phone:""});function ul(){var e;const t=te(),n=ae(),a=t.state||{},s=a.hotel||{},l=a.hotelData||{},r=a.room||{},o=a.search||{},c=a.price||0,d=a.bookingId||null,u=a.reviewData||{},h=(null===(e=a.room)||void 0===e?void 0:e.roomData)||r.roomData||{},[m,p]=(0,i.useState)(!0),[v,f]=(0,i.useState)(null),[g,x]=(0,i.useState)(null),b=(0,i.useMemo)(()=>(null===g||void 0===g?void 0:g.bookingId)||d||(null===u||void 0===u?void 0:u.bookingId)||null,[null===g||void 0===g?void 0:g.bookingId,d,null===u||void 0===u?void 0:u.bookingId]),y=(0,i.useMemo)(()=>{var e,t;if(g){var n,a,s,i,l,r;if(void 0!==g.panRequired)return g.panRequired;if(void 0!==g.pan_required)return g.pan_required;if(void 0!==g.requiresPan)return g.requiresPan;if(void 0!==(null===(n=g.hInfo)||void 0===n?void 0:n.panRequired))return g.hInfo.panRequired;if(void 0!==(null===(a=g.query)||void 0===a?void 0:a.panRequired))return g.query.panRequired;if(null!==(s=g.hInfo)&&void 0!==s&&null!==(i=s.ops)&&void 0!==i&&null!==(l=i[0])&&void 0!==l&&null!==(r=l.ris)&&void 0!==r&&r[0]){const e=g.hInfo.ops[0].ris[0];if(void 0!==e.panRequired)return e.panRequired;if(void 0!==e.pan_required)return e.pan_required;if(void 0!==e.requiresPan)return e.requiresPan}}if(void 0!==u.panRequired)return u.panRequired;if(void 0!==u.pan_required)return u.pan_required;if(void 0!==u.requiresPan)return u.requiresPan;if(void 0!==h.panRequired)return h.panRequired;if(void 0!==h.pan_required)return h.pan_required;if(void 0!==h.requiresPan)return h.requiresPan;if(h.ris&&Array.isArray(h.ris)&&h.ris.length>0){const e=h.ris[0];if(void 0!==e.panRequired)return e.panRequired;if(void 0!==e.pan_required)return e.pan_required;if(void 0!==e.requiresPan)return e.requiresPan}return void 0!==(null===(e=u.hInfo)||void 0===e?void 0:e.panRequired)?u.hInfo.panRequired:void 0!==(null===(t=u.query)||void 0===t?void 0:t.panRequired)&&u.query.panRequired},[g,u,h]),[N,j]=(0,i.useState)(!1),[w,k]=(0,i.useState)(null),[S,C]=(0,i.useState)(!1),[I,A]=(0,i.useState)(!1);(0,i.useEffect)(()=>{(async()=>{try{var e,t,n,s,i,l,r,c,d,u,h,m;p(!0),f(null);let j=(null===a||void 0===a?void 0:a.hotelId)||(null===a||void 0===a||null===(e=a.hotel)||void 0===e?void 0:e.hotelId)||(null===a||void 0===a||null===(t=a.hotel)||void 0===t?void 0:t.id)||(null===a||void 0===a||null===(n=a.hotelData)||void 0===n||null===(s=n.hotel)||void 0===s?void 0:s.id)||(null===a||void 0===a||null===(i=a.hotelData)||void 0===i||null===(l=i.hotel)||void 0===l?void 0:l.hotelId)||null,w=(null===a||void 0===a?void 0:a.optionId)||(null===a||void 0===a||null===(r=a.room)||void 0===r?void 0:r.optionId)||(null===a||void 0===a||null===(c=a.room)||void 0===c?void 0:c.id)||(null===a||void 0===a||null===(d=a.selectedRoom)||void 0===d?void 0:d.id)||(null===a||void 0===a||null===(u=a.selectedRoom)||void 0===u?void 0:u.optionId)||(null===a||void 0===a||null===(h=a.selectedRoom)||void 0===h?void 0:h.opId)||(null===a||void 0===a||null===(m=a.selectedRoom)||void 0===m?void 0:m.oid)||null;const k=(null===a||void 0===a?void 0:a.hotelData)||{},S=(null===a||void 0===a?void 0:a.searchParams)||{},C=(null===a||void 0===a?void 0:a.selectedRoom)||(null===a||void 0===a?void 0:a.room)||{};var v,g;if(console.log("HotelBooking - Location state:",{hotelId:j,optionId:w,hasHotelData:!!k,hasSearchParams:!!S,stateKeys:Object.keys(a||{})}),!j||"undefined"===j||"null"===j)if(null!==k&&void 0!==k&&null!==(v=k.hotel)&&void 0!==v&&v.id)j=k.hotel.id;else{if(null===k||void 0===k||null===(g=k.hotel)||void 0===g||!g.hotelId)throw new Error("Hotel ID is required for booking. Please go back and select a hotel.");j=k.hotel.hotelId}if(!w||"undefined"===w||"null"===w)if(null!==C&&void 0!==C&&C.id)w=C.id;else if(null!==C&&void 0!==C&&C.optionId)w=C.optionId;else if(null!==C&&void 0!==C&&C.opId)w=C.opId;else{if(null===C||void 0===C||!C.oid)throw new Error("Room option ID is required for booking. Please go back and select a room.");w=C.oid}const I=String(j).trim(),A=String(w).trim();try{const e=await wi(I,A);if(!e||!e.hInfo)throw new Error("Invalid response from hotel review API - no hotel information found");x(e)}catch(N){if(console.warn("Hotel review API failed, attempting to use existing hotel data:",N.message),console.warn("Error details:",{message:N.message,hotelId:I,optionId:A,hasHotelData:!!k}),!k||!k.hotel)throw new Error("Unable to load booking details: ".concat(N.message,". Please try again or contact support."));{var b,y;const e=e=>{if(!e)return null;const t=new Date(e);if(isNaN(t.getTime()))return null;const n=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return"".concat(n,"-").concat(a,"-").concat(s)},t=(null===S||void 0===S?void 0:S.checkin)||(null===a||void 0===a?void 0:a.checkin)||(null===o||void 0===o?void 0:o.checkin),n=(null===S||void 0===S?void 0:S.checkout)||(null===a||void 0===a?void 0:a.checkout)||(null===o||void 0===o?void 0:o.checkout),s=e(t),i=e(n),l={hInfo:k.hotel,query:{checkinDate:s||new Date(Date.now()+864e5).toISOString().split("T")[0],checkoutDate:i||new Date(Date.now()+1728e5).toISOString().split("T")[0],roomInfo:(null===S||void 0===S||null===(b=S.roomConfigs)||void 0===b?void 0:b.map(e=>({numberOfAdults:e.adults||2,numberOfChild:e.children||0})))||[{numberOfAdults:(null===S||void 0===S?void 0:S.adults)||(null===a||void 0===a?void 0:a.adults)||(null===o||void 0===o?void 0:o.adults)||2,numberOfChild:(null===S||void 0===S?void 0:S.children)||(null===a||void 0===a?void 0:a.children)||(null===o||void 0===o?void 0:o.children)||0}]},status:{success:!0}},r=((null===(y=k.hotel)||void 0===y?void 0:y.ops)||[]).find(e=>e.id===w||e.optionId===w||e.oid===w);r&&(l.hInfo.ops=[r]),x(l),console.log("Using fallback booking data from hotel details")}}p(!1)}catch(j){console.error("Error fetching hotel booking data:",j),f(j.message||"Failed to load booking information"),p(!1)}})()},[t.state]);const D=(0,i.useMemo)(()=>{if(a.roomConfigs)return a.roomConfigs;if(o.roomConfigs)return o.roomConfigs;const e=o.rooms||1,t=o.adults||1,n=o.children||0,s=Math.ceil(t/e),i=Math.ceil(n/e);return Array.from({length:e},(a,l)=>({adults:l===e-1?t-s*(e-1):s,children:l===e-1?n-i*(e-1):i,childAges:[]}))},[a.roomConfigs,o.roomConfigs,o.rooms,o.adults,o.children]),[E,P]=(0,i.useState)({email:"",countryCode:"+91",phone:""}),[T,R]=(0,i.useState)({email:"",phone:""}),F=e=>{if(!e)return"Email is required";return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?"":"Please enter a valid email address"},O=(e,t)=>{if(!e)return"Phone number is required";const n=e.replace(/\D/g,"");if("+91"===t){if(10!==n.length)return"Enter a valid phone number";if(!/^[6-9]/.test(n))return"Indian mobile number must start with 6, 7, 8, or 9"}else if("+1"===t){if(10!==n.length)return"US/Canada phone number must be 10 digits"}else if("+44"===t){if(n.length<10||n.length>11)return"UK phone number must be 10-11 digits"}else if(n.length<7)return"Phone number must be at least 7 digits";return""},[L,M]=(0,i.useState)(""),[B,_]=(0,i.useState)(()=>D.map(e=>Array.from({length:e.adults||1},dl))),z=(0,i.useMemo)(()=>D.map(e=>"".concat(e.adults,"-").concat(e.children)).join(","),[D]);(0,i.useEffect)(()=>{_(e=>{if(e.length!==D.length)return D.map(e=>Array.from({length:e.adults||1},dl));return D.map((t,n)=>{const a=t.adults||1,s=e[n]||[];if(s.length<a){const e=Array.from({length:a-s.length},dl);return[...s,...e]}return s.length>a?s.slice(0,a):s})})},[z,D.length]);const U=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},H=(0,i.useMemo)(()=>{var e,t,n;const a=e=>{if(!e)return"";const t=[];return e.adr&&t.push(e.adr),e.adr2&&t.push(e.adr2),e.ctn&&t.push(e.ctn),e.stateName&&t.push(e.stateName),e.cn&&t.push(e.cn),e.postalCode&&t.push("- ".concat(e.postalCode)),t.length>0?t.join(", "):""};if(null!==g&&void 0!==g&&null!==(e=g.hInfo)&&void 0!==e&&e.ad){const e=a(g.hInfo.ad);if(e)return e}if(null!==l&&void 0!==l&&null!==(t=l.hotel)&&void 0!==t&&t.ad){const e=a(l.hotel.ad);if(e)return e}if(null!==s&&void 0!==s&&s.address){if("string"===typeof s.address)return s.address.trim()||"";if(s.address.adr){const e=a(s.address);if(e)return e}if(s.address.city){var i,r;const e=[];(s.address.street||s.address.line1||s.address.area)&&e.push(s.address.street||s.address.line1||s.address.area);const t=(null===(i=s.address.city)||void 0===i?void 0:i.name)||s.address.city||"";t&&e.push(t);const n=(null===(r=s.address.state)||void 0===r?void 0:r.name)||s.address.state||"";if(n&&e.push(n),s.address.postalCode&&e.push(s.address.postalCode),e.length>0)return e.join(", ")}}if(null!==s&&void 0!==s&&s.ad){const e=a(s.ad);if(e)return e}if(null!==u&&void 0!==u&&null!==(n=u.hInfo)&&void 0!==n&&n.ad){const e=a(u.hInfo.ad);if(e)return e}if(null!==s&&void 0!==s&&s.city||null!==s&&void 0!==s&&s.state){const e=[];if(s.city&&e.push(s.city),s.state&&e.push(s.state),e.length>0)return e.join(", ")}return""},[g,s,l,u]),q=(0,i.useMemo)(()=>{if(!o.checkin||!o.checkout)return 1;const e=new Date(o.checkin),t=new Date(o.checkout),n=Math.ceil((t-e)/864e5);return Math.max(n,1)},[o.checkin,o.checkout]),W=(0,i.useMemo)(()=>{var e,t,n,a;if(null!==g&&void 0!==g&&null!==(e=g.hInfo)&&void 0!==e&&null!==(t=e.ops)&&void 0!==t&&t[0]){var s,i,l,r;const e=g.hInfo.ops[0],t=(null===(s=e.ris)||void 0===s?void 0:s[0])||{},n=e.tp||(null===(i=t.tfcs)||void 0===i?void 0:i.TF)||0,a=(null===(l=t.tfcs)||void 0===l?void 0:l.TAF)||0,o=(null===(r=t.tfcs)||void 0===r?void 0:r.NF)||n-a,c=n;return{totalPrice:Number(n)||0,taxes:Number(a)||0,baseFare:Number(o)||0,totalAmount:Number(c)||0}}if(null!==u&&void 0!==u&&null!==(n=u.hInfo)&&void 0!==n&&null!==(a=n.ops)&&void 0!==a&&a[0]){var o,c,d,h;const e=u.hInfo.ops[0],t=(null===(o=e.ris)||void 0===o?void 0:o[0])||{},n=e.tp||(null===(c=t.tfcs)||void 0===c?void 0:c.TF)||0,a=(null===(d=t.tfcs)||void 0===d?void 0:d.TAF)||0,s=(null===(h=t.tfcs)||void 0===h?void 0:h.NF)||n-a,i=n;return{totalPrice:Number(n)||0,taxes:Number(a)||0,baseFare:Number(s)||0,totalAmount:Number(i)||0}}return null},[g,u]),G=(0,i.useMemo)(()=>{if(W&&W.totalAmount>0)return W.totalAmount;const e=Number(c||0);return Math.max(e,0)},[W,c]),V=(0,i.useMemo)(()=>W&&W.taxes>0?W.taxes:235.41,[W]),K=(0,i.useMemo)(()=>{if(W&&W.baseFare>0)return W.baseFare;return Math.max(G-V,0)},[W,G,V]),$=(0,i.useMemo)(()=>{const e=new Date;e.setHours(0,0,0,0);const t=o.checkin?new Date(o.checkin):new Date;t.setHours(0,0,0,0);const n=o.checkout?new Date(o.checkout):new Date;n.setHours(0,0,0,0);const a=e=>{const t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(t,"/").concat(n,"/").concat(a)};return[{cancelOnOrAfter:a(e),cancelOnOrBefore:a(t),amount:K},{cancelOnOrAfter:a(t),cancelOnOrBefore:a(n),amount:K}]},[o.checkin,o.checkout,K]),Y=(e,t,n,a)=>{_(s=>{const i=[...s];return i[e]=[...i[e]],i[e][t]=He(He({},i[e][t]),{},{[n]:a}),i})};return m?(0,_t.jsx)("div",{className:"hb-page",children:(0,_t.jsx)("div",{className:"hb-container",children:(0,_t.jsx)("div",{className:"hb-loading-container",children:(0,_t.jsxs)("div",{className:"hb-loading-card",children:[(0,_t.jsxs)("div",{className:"hb-loading-spinner",children:[(0,_t.jsx)("div",{className:"hb-spinner-ring"}),(0,_t.jsx)("div",{className:"hb-spinner-ring"}),(0,_t.jsx)("div",{className:"hb-spinner-ring"})]}),(0,_t.jsx)("h2",{className:"hb-loading-title",children:"Loading Booking Details"}),(0,_t.jsx)("p",{className:"hb-loading-subtitle",children:"Please wait while we fetch your booking information..."})]})})})}):v&&!g?(0,_t.jsx)("div",{className:"hb-page",children:(0,_t.jsx)("div",{className:"hb-container",children:(0,_t.jsxs)("div",{className:"error-message",children:[(0,_t.jsxs)("h2",{children:[(0,_t.jsx)(ni,{size:24,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),"Error"]}),(0,_t.jsx)("p",{children:v}),(0,_t.jsx)("button",{onClick:()=>n(-1),className:"btn-back",children:"\u2190 Go Back"})]})})}):(0,_t.jsx)("div",{className:"hb-page",children:(0,_t.jsxs)("div",{className:"hb-container",children:[(0,_t.jsx)("div",{className:"hb-header",children:(0,_t.jsx)("h1",{className:"hb-title",children:"Review your Booking"})}),(0,_t.jsxs)("div",{className:"hb-layout",children:[(0,_t.jsx)("div",{className:"hb-left",children:(0,_t.jsxs)("div",{className:"hb-card",children:[(0,_t.jsxs)("div",{className:"hb-hotel-header",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h2",{className:"hb-hotel-name",children:s.name||"Hotel"}),(0,_t.jsx)("div",{className:"hb-stars",children:[1,2,3,4,5].map(e=>(0,_t.jsx)(Ft,{className:e<=4?"hb-star-filled":"hb-star-empty"},e))}),(0,_t.jsx)("div",{className:"hb-address",children:H||"Address not available"})]}),s.image&&(0,_t.jsx)("img",{className:"hb-image",src:s.image,alt:s.name})]}),(0,_t.jsxs)("div",{className:"hb-dates",children:[(0,_t.jsxs)("div",{className:"hb-date-block",children:[(0,_t.jsx)("div",{className:"hb-label",children:"Check In"}),(0,_t.jsx)("div",{className:"hb-date-text",children:U(o.checkin)}),(0,_t.jsx)("div",{className:"hb-time",children:"2:00 PM - 11:30 PM"})]}),(0,_t.jsxs)("div",{className:"hb-nights",children:[q," Night"]}),(0,_t.jsxs)("div",{className:"hb-date-block",children:[(0,_t.jsx)("div",{className:"hb-label",children:"Check Out"}),(0,_t.jsx)("div",{className:"hb-date-text",children:U(o.checkout)}),(0,_t.jsx)("div",{className:"hb-time",children:"12:00 PM"})]}),(0,_t.jsxs)("div",{className:"hb-summary",children:[o.rooms||1," Room | ",o.adults||1," Guest"]})]}),(0,_t.jsxs)("div",{className:"hb-room",children:[(0,_t.jsx)("div",{className:"hb-room-name",children:r.name||"Deluxe Room"}),(0,_t.jsxs)("div",{className:"hb-occupancy",children:[o.adults||1," Adult"]}),(0,_t.jsxs)("ul",{className:"hb-inclusions",children:[(0,_t.jsx)("li",{children:(0,_t.jsx)("span",{children:"Non Refundable"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("span",{children:"Breakfast Included"})}),(0,_t.jsxs)("li",{className:"hb-icon",children:[(0,_t.jsx)(gt,{className:"hb-ico"}),(0,_t.jsx)("span",{children:"Standard Check-in and Check-out"})]}),(0,_t.jsxs)("li",{className:"hb-icon",children:[(0,_t.jsx)(xt,{className:"hb-ico"}),(0,_t.jsx)("span",{children:"Complimentary welcome drink"})]})]})]}),(0,_t.jsxs)("div",{className:"hb-card hb-card-spacing",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Cancellation Policy"}),(0,_t.jsxs)("div",{className:"hb-price-row hb-total hb-cancellation-header",children:[(0,_t.jsx)("div",{className:"hb-price-lab",children:"Cancellation on or After"}),(0,_t.jsx)("div",{className:"hb-price-lab",children:"Cancellation on or Before"}),(0,_t.jsx)("div",{className:"hb-price-lab",children:"Cancellation Charges/Comments"})]}),$.map((e,t)=>(0,_t.jsxs)("div",{className:"hb-price-row hb-cancellation-row ".concat(0===t?"hb-cancellation-row-first":""),children:[(0,_t.jsx)("div",{children:e.cancelOnOrAfter}),(0,_t.jsx)("div",{children:e.cancelOnOrBefore}),(0,_t.jsxs)("div",{children:["\u20b9",e.amount.toFixed(2)]})]},t))]}),(0,_t.jsx)("div",{className:"hb-cancel-text hb-cancel-text-spacing",children:(0,_t.jsxs)("ul",{className:"hb-cancel-list",children:[(0,_t.jsx)("li",{children:"A non-refundable service fee of \u20b920 per room per night is applicable to each booking."}),(0,_t.jsx)("li",{children:"In case of a no-show, the full cancellation charge will apply unless otherwise specified."}),(0,_t.jsx)("li",{children:"Early check-outs will incur the full cancellation charge unless otherwise specified."}),(0,_t.jsx)("li",{children:"Please note that redeemed taxes and fees are non-refundable."})]})}),(0,_t.jsxs)("div",{className:"hb-card hb-card-spacing",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Guest Details"}),(0,_t.jsxs)("div",{className:"hb-guest-details-note",children:["Only Lead Guest Name is Required.",y&&(0,_t.jsxs)("span",{className:"hb-pan-warning",children:[(0,_t.jsx)(ni,{size:16,style:{display:"inline-block",verticalAlign:"middle",marginRight:"4px"}}),"PAN is required for this hotel/room."]})]}),B.flatMap((e,t)=>e.map((n,a)=>{let s=0;for(let e=0;e<t;e++){var i;s+=(null===(i=B[e])||void 0===i?void 0:i.length)||0}s+=a;const l=0===t&&0===a;return(0,_t.jsxs)("div",{className:"hb-guest-wrapper ".concat(t<D.length-1||a<e.length-1?"hb-guest-wrapper-spacing":""),children:[(0,_t.jsx)("div",{className:"hb-guest-label",children:l?"Lead Pax":"Guest ".concat(s+1)}),(0,_t.jsxs)("div",{className:"hb-form ".concat(y?"hb-form-with-pan":"hb-form-no-pan"),children:[(0,_t.jsxs)("select",{className:"hb-input hb-title-select",value:n.title,onChange:e=>Y(t,a,"title",e.target.value),children:[(0,_t.jsx)("option",{value:"Mr",children:"Mr"}),(0,_t.jsx)("option",{value:"Ms",children:"Ms"}),(0,_t.jsx)("option",{value:"Mrs",children:"Mrs"})]}),(0,_t.jsx)("input",{className:"hb-input",placeholder:l?"Lead Pax First Name":"First Name",value:n.firstName,onChange:e=>Y(t,a,"firstName",e.target.value)}),(0,_t.jsx)("input",{className:"hb-input",placeholder:"Last Name",value:n.lastName,onChange:e=>Y(t,a,"lastName",e.target.value)}),y&&(0,_t.jsx)("input",{className:"hb-input hb-pan-input",placeholder:"PAN (Required)",value:n.pan||"",onChange:e=>Y(t,a,"pan",e.target.value.toUpperCase()),maxLength:10})]})]},"".concat(t,"-").concat(a))}))]}),(0,_t.jsxs)("div",{className:"hb-card hb-card-spacing",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Contact Details"}),(0,_t.jsxs)("div",{className:"hb-form hb-contact-form",children:[(0,_t.jsxs)("div",{className:"hb-phone",children:[(0,_t.jsxs)("select",{className:"hb-input hb-code",value:E.countryCode,onChange:e=>{const t=e.target.value;P(He(He({},E),{},{countryCode:t}));const n=O(E.phone,t);R(He(He({},T),{},{phone:n}))},children:[(0,_t.jsx)("option",{value:"+91",children:"India (+91)"}),(0,_t.jsx)("option",{value:"+1",children:"USA (+1)"}),(0,_t.jsx)("option",{value:"+44",children:"UK (+44)"})]}),(0,_t.jsxs)("div",{className:"hb-phone-input-wrapper",children:[(0,_t.jsx)("input",{className:"hb-input ".concat(T.phone?"hb-input-error":""),placeholder:"Mobile No.",type:"tel",value:E.phone,onChange:e=>{const t=e.target.value.replace(/[^\d\s\-()]/g,"");P(He(He({},E),{},{phone:t}));const n=O(t,E.countryCode);R(He(He({},T),{},{phone:n}))},onBlur:e=>{const t=O(e.target.value,E.countryCode);R(He(He({},T),{},{phone:t}))}}),T.phone&&(0,_t.jsxs)("div",{className:"hb-field-error",children:[(0,_t.jsx)(ni,{size:14,style:{display:"inline-block",verticalAlign:"middle",marginRight:"4px"}}),T.phone]})]})]}),(0,_t.jsxs)("div",{className:"hb-email-wrapper",children:[(0,_t.jsxs)("div",{className:"hb-email-input-container ".concat(T.email?"hb-input-error":""),children:[(0,_t.jsx)("span",{className:"hb-email-prefix",children:"Email"}),(0,_t.jsx)("input",{className:"hb-input hb-email-input",type:"email",placeholder:"Email ID",value:E.email,onChange:e=>{const t=e.target.value;P(He(He({},E),{},{email:t}));const n=F(t);R(He(He({},T),{},{email:n}))},onBlur:e=>{const t=F(e.target.value);R(He(He({},T),{},{email:t}))}})]}),T.email&&(0,_t.jsxs)("div",{className:"hb-field-error",children:[(0,_t.jsx)(ni,{size:14,style:{display:"inline-block",verticalAlign:"middle",marginRight:"4px"}}),T.email]})]})]})]}),(0,_t.jsxs)("div",{className:"hb-card hb-card-spacing",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Special Request (If Any)"}),(0,_t.jsx)("div",{className:"hb-textarea-wrapper",children:(0,_t.jsx)("textarea",{className:"hb-input hb-full hb-textarea",placeholder:"Enter your special requests here!",value:L,onChange:e=>M(e.target.value),rows:4})})]}),(0,_t.jsxs)("div",{className:"hb-card hb-card-spacing",children:[(0,_t.jsxs)("label",{className:"hb-check hb-large",children:[(0,_t.jsx)("input",{type:"checkbox",checked:I,onChange:e=>A(e.target.checked)}),(0,_t.jsxs)("span",{children:["By proceeding, I acknowledge and agree to the"," ",(0,_t.jsx)("a",{href:"/terms-and-conditions.html",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),style:{color:"#667eea",textDecoration:"underline",cursor:"pointer"},children:"terms & conditions"}),"."]})]}),w&&(0,_t.jsxs)("div",{className:"hb-error-message",children:[(0,_t.jsx)(ol,{size:20,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),w]}),S&&(0,_t.jsxs)("div",{className:"hb-success-message",children:[(0,_t.jsx)(cl,{size:20,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),"Booking successful! Redirecting..."]}),(0,_t.jsx)("button",{className:"hb-pay",disabled:N||!b,onClick:()=>{if(k(null),!I)return void k("Please accept the terms & conditions and Government Compliance for TCS to proceed.");if(!b)return void k("Booking ID is missing. Please go back and select a room again.");const e=F(E.email),t=O(E.phone,E.countryCode);if(e||t)return R({email:e,phone:t}),void k("Please correct the errors in Contact Details before proceeding.");if(!E.email||!E.phone)return void k("Please provide email and phone number in Contact Details.");if(B.every((e,t)=>{const n=e[0];return n&&n.firstName&&n.lastName})){if(y){if(!B.every((e,t)=>{const n=e[0];return n&&n.pan&&10===n.pan.length}))return void k("PAN is required for this hotel/room. Please provide a valid 10-character PAN for all guests.")}n("/hotels/review",{state:{hotel:s,hotelData:l,room:r,search:o,bookingId:b,reviewData:u,roomConfigs:D,guestDetailsByRoom:B,contactDetails:E,specialRequest:L,isPanRequired:y,baseFare:K,taxesAndFees:V,totalPayable:G,fetchedBookingData:g}})}else k("Please provide at least the lead guest name for each room.")},children:N?"Processing Booking...":"Proceed To Pay"})]})]})}),(0,_t.jsxs)("div",{className:"hb-right",children:[(0,_t.jsxs)("div",{className:"hb-card",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Fare Summary"}),(0,_t.jsxs)("div",{className:"hb-price-row",children:[(0,_t.jsx)("div",{className:"hb-price-lab",children:"Base Fare"}),(0,_t.jsxs)("div",{className:"hb-price-val",children:["\u20b9",K.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hb-price-row",children:[(0,_t.jsx)("div",{className:"hb-price-lab",children:"Taxes and fees"}),(0,_t.jsxs)("div",{className:"hb-price-val",children:["\u20b9",V.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hb-price-row hb-total",children:[(0,_t.jsx)("div",{className:"hb-price-lab",children:"Total Amount Payable"}),(0,_t.jsxs)("div",{className:"hb-price-val hb-total-val",children:["\u20b9",G.toFixed(2)]})]})]}),(0,_t.jsxs)("div",{className:"hb-card",children:[(0,_t.jsx)("div",{className:"hb-section",children:"Coupon Codes"}),(0,_t.jsx)("div",{className:"hb-coupon-msg",children:"No coupon codes applicable for this property."}),(0,_t.jsx)("div",{className:"hb-gift",children:"Gift Cards can be applied at payment step"}),(0,_t.jsxs)("div",{className:"hb-coupon",children:[(0,_t.jsx)("input",{className:"hb-coupon-input",placeholder:"Have a Coupon Code"}),(0,_t.jsx)("button",{className:"hb-coupon-btn",children:(0,_t.jsx)(rt,{})})]})]})]})]})]})})}function hl(){const e=te(),t=ae(),n=e.state||{},a=n.hotel||{},s=n.hotelData||{},l=n.room||{},r=n.search||{},o=n.bookingId||null,c=n.reviewData||{},d=n.fetchedBookingData||null,u=n.roomConfigs||[],h=n.guestDetailsByRoom||[],m=n.contactDetails||{},p=n.specialRequest||"",v=n.isPanRequired||!1,f=n.baseFare||0,g=n.taxesAndFees||0,x=n.totalPayable||0,[b,y]=(0,i.useState)(!1),[N,j]=(0,i.useState)(null),[w,k]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!1),[I,A]=(0,i.useState)(""),[D,E]=(0,i.useState)(""),P=(0,i.useMemo)(()=>{var e,t,n;const i=e=>{if(!e)return"";const t=[];return e.adr&&t.push(e.adr),e.adr2&&t.push(e.adr2),e.ctn&&t.push(e.ctn),e.stateName&&t.push(e.stateName),e.cn&&t.push(e.cn),e.postalCode&&t.push("- ".concat(e.postalCode)),t.length>0?t.join(", "):""};if(null!==d&&void 0!==d&&null!==(e=d.hInfo)&&void 0!==e&&e.ad){const e=i(d.hInfo.ad);if(e)return e}if(null!==s&&void 0!==s&&null!==(t=s.hotel)&&void 0!==t&&t.ad){const e=i(s.hotel.ad);if(e)return e}if(null!==a&&void 0!==a&&a.address){if("string"===typeof a.address)return a.address.trim()||"";if(a.address.adr){const e=i(a.address);if(e)return e}if(a.address.city){var l,r;const e=[];(a.address.street||a.address.line1||a.address.area)&&e.push(a.address.street||a.address.line1||a.address.area);const t=(null===(l=a.address.city)||void 0===l?void 0:l.name)||a.address.city||"";t&&e.push(t);const n=(null===(r=a.address.state)||void 0===r?void 0:r.name)||a.address.state||"";if(n&&e.push(n),a.address.postalCode&&e.push(a.address.postalCode),e.length>0)return e.join(", ")}}if(null!==a&&void 0!==a&&a.ad){const e=i(a.ad);if(e)return e}if(null!==c&&void 0!==c&&null!==(n=c.hInfo)&&void 0!==n&&n.ad){const e=i(c.hInfo.ad);if(e)return e}if(null!==a&&void 0!==a&&a.city||null!==a&&void 0!==a&&a.state){const e=[];if(a.city&&e.push(a.city),a.state&&e.push(a.state),e.length>0)return e.join(", ")}return""},[a,s,c,d]),T=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},R=(0,i.useMemo)(()=>{if(!r.checkin||!r.checkout)return 1;const e=new Date(r.checkin),t=new Date(r.checkout),n=Math.ceil((t-e)/864e5);return Math.max(n,1)},[r.checkin,r.checkout]),F=((0,i.useMemo)(()=>{try{const e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&Array.isArray(e)?e.map((e,a)=>{const s=t[a]||{adults:1,children:0,childAges:[]},i=[],l=e.slice(0,s.adults||1);if(l.forEach((e,t)=>{if(e&&(e.firstName||e.lastName)){const t={ti:e.title||"Mr",pt:"ADULT",fN:e.firstName||"",lN:e.lastName||""};n&&(t.pan=e.pan||""),i.push(t)}}),s.children>0&&s.childAges&&s.childAges.length>0){const t=e.slice(s.adults||1);for(let e=0;e<s.children;e++){var r;const a=t[e]||{},o={ti:(s.childAges[e]||0)<5?"Master":a.title||"Master",pt:"CHILD",fN:a.firstName||"Child".concat(e+1),lN:a.lastName||(null===(r=l[0])||void 0===r?void 0:r.lastName)||""};n&&(o.pan=a.pan||""),i.push(o)}}return{travellerInfo:i}}):[]}(h,u,v),t={emails:m.email?[m.email]:[],contacts:m.phone?[m.phone]:[],code:m.countryCode?[m.countryCode]:[]},n=R;return{bookingApiPayload:{bookingId:o||null,roomTravellerInfo:e,deliveryInfo:t,paymentInfos:x>0?[{amount:x}]:[],type:"HOTEL"},hotel:{id:a.id||a.hotelId||null,name:a.name||null,image:a.image||null,address:P||null,hotelId:a.hotelId||a.id||null},room:{name:l.name||null,optionId:l.optionId||null},search:{checkin:r.checkin||null,checkout:r.checkout||null,nights:n,rooms:r.rooms||1,adults:r.adults||1,children:r.children||0},guestDetails:{guestDetailsByRoom:h||[],roomConfigs:u||[],isPanRequired:v||!1},contactDetails:{email:m.email||null,phone:m.phone||null,countryCode:m.countryCode||null},pricing:{baseFare:f||0,taxesAndFees:g||0,totalPayable:x||0,currency:"INR"},specialRequest:p||null,bookingId:o||null}}catch(e){return console.error("Error building backend payload:",e),{error:"Failed to build payload",message:e.message}}},[o,h,u,v,m,x,a,l,r,f,g,p,R,P]),e=>{A(e)}),O=()=>{C(!1),A(""),E("")},L=()=>{t(-1)};return(0,_t.jsx)("div",{className:"hr-page",children:(0,_t.jsxs)("div",{className:"hr-container",children:[(0,_t.jsxs)("div",{className:"hr-header",children:[(0,_t.jsxs)("button",{className:"hr-back-btn",onClick:L,children:[(0,_t.jsx)(lt,{})," Back"]}),(0,_t.jsx)("h1",{className:"hr-title",children:"Review Your Booking Details"})]}),(0,_t.jsxs)("div",{className:"hr-content",children:[(0,_t.jsxs)("div",{className:"hr-main",children:[(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Hotel Information"}),(0,_t.jsx)("div",{className:"hr-hotel-info",children:(0,_t.jsxs)("div",{className:"hr-hotel-header",children:[(0,_t.jsxs)("div",{children:[(0,_t.jsx)("h3",{className:"hr-hotel-name",children:a.name||"N/A"}),(0,_t.jsx)("div",{className:"hr-stars",children:[1,2,3,4,5].map(e=>(0,_t.jsx)(Ft,{className:e<=4?"hr-star-filled":"hr-star-empty"},e))}),(0,_t.jsx)("div",{className:"hr-address",children:P||"Address not available"})]}),a.image&&(0,_t.jsx)("img",{className:"hr-image",src:a.image,alt:a.name})]})})]}),(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Booking Dates"}),(0,_t.jsxs)("div",{className:"hr-info-grid",children:[(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Check-in:"}),(0,_t.jsx)("span",{className:"hr-value",children:T(r.checkin)})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Check-out:"}),(0,_t.jsx)("span",{className:"hr-value",children:T(r.checkout)})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Nights:"}),(0,_t.jsxs)("span",{className:"hr-value",children:[R," Night(s)"]})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Rooms:"}),(0,_t.jsx)("span",{className:"hr-value",children:r.rooms||1})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Guests:"}),(0,_t.jsxs)("span",{className:"hr-value",children:[r.adults||1," Adult(s), ",r.children||0," Child(ren)"]})]})]})]}),(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Room Details"}),(0,_t.jsxs)("div",{className:"hr-info-grid",children:[(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Room Type:"}),(0,_t.jsx)("span",{className:"hr-value",children:l.name||"Deluxe Room"})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Occupancy:"}),(0,_t.jsxs)("span",{className:"hr-value",children:[r.adults||1," Adult(s)"]})]})]})]}),(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Guest Details"}),h.map((e,t)=>(0,_t.jsxs)("div",{className:"hr-room-guest",children:[(0,_t.jsxs)("h3",{className:"hr-room-title",children:["Room ",t+1]}),e.map((e,n)=>{let a=0;for(let l=0;l<t;l++){var s;a+=(null===(s=h[l])||void 0===s?void 0:s.length)||0}a+=n;const i=0===t&&0===n;return(0,_t.jsxs)("div",{className:"hr-guest-item",children:[(0,_t.jsx)("div",{className:"hr-guest-name",children:i?"Lead Guest":"Guest ".concat(a+1)}),(0,_t.jsxs)("div",{className:"hr-info-grid",children:[(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Title:"}),(0,_t.jsx)("span",{className:"hr-value",children:e.title})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"First Name:"}),(0,_t.jsx)("span",{className:"hr-value",children:e.firstName||"N/A"})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Last Name:"}),(0,_t.jsx)("span",{className:"hr-value",children:e.lastName||"N/A"})]}),v&&(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"PAN:"}),(0,_t.jsx)("span",{className:"hr-value",children:e.pan||"N/A"})]})]})]},n)})]},t))]}),(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Contact Details"}),(0,_t.jsxs)("div",{className:"hr-info-grid",children:[(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Email:"}),(0,_t.jsx)("span",{className:"hr-value",children:m.email||"N/A"})]}),(0,_t.jsxs)("div",{className:"hr-info-item",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Phone:"}),(0,_t.jsxs)("span",{className:"hr-value",children:[m.countryCode," ",m.phone||"N/A"]})]})]})]}),p&&(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Special Request"}),(0,_t.jsx)("div",{className:"hr-special-request",children:p})]}),N&&(0,_t.jsxs)("div",{className:"hr-error-message",children:[(0,_t.jsx)(ol,{size:20,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),N]}),w&&(0,_t.jsxs)("div",{className:"hr-success-message",children:[(0,_t.jsx)(cl,{size:20,style:{display:"inline-block",verticalAlign:"middle",marginRight:"8px"}}),"Booking successful! Redirecting..."]})]}),S&&(0,_t.jsx)("div",{className:"hr-reason-popup-overlay",children:(0,_t.jsxs)("div",{className:"hr-reason-popup-modal",children:[(0,_t.jsxs)("div",{className:"hr-reason-popup-header",children:[(0,_t.jsx)("h3",{className:"hr-reason-popup-title",children:"Select Reason for Booking"}),(0,_t.jsx)("button",{className:"hr-reason-popup-close",onClick:O,children:"\xd7"})]}),(0,_t.jsx)("div",{className:"hr-reason-popup-content",children:(0,_t.jsxs)("div",{className:"hr-reason-options",children:[(0,_t.jsxs)("label",{className:"hr-reason-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"urgent-meeting",checked:"urgent-meeting"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Urgent Meeting"})]}),(0,_t.jsxs)("label",{className:"hr-reason-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"sales-visit",checked:"sales-visit"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Sales Visit"})]}),(0,_t.jsxs)("label",{className:"hr-reason-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"attend-conference",checked:"attend-conference"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Attend a conference"})]}),(0,_t.jsxs)("label",{className:"hr-reason-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"offsite",checked:"offsite"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Offsite"})]}),(0,_t.jsxs)("label",{className:"hr-reason-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"others",checked:"others"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Others"})]}),"others"===I&&(0,_t.jsx)("div",{className:"hr-other-reason-input",children:(0,_t.jsx)("input",{type:"text",placeholder:"Please specify the reason",value:D,onChange:e=>{return t=e.target.value,void E(t);var t},className:"hr-other-reason-field"})}),(0,_t.jsxs)("label",{className:"hr-reason-option hr-personal-option",children:[(0,_t.jsx)("input",{type:"radio",name:"bookingReason",value:"personal-visit",checked:"personal-visit"===I,onChange:e=>F(e.target.value)}),(0,_t.jsx)("span",{className:"hr-reason-option-text",children:"Personal Visit"})]})]})}),(0,_t.jsxs)("div",{className:"hr-reason-popup-footer",children:[(0,_t.jsx)("button",{className:"hr-btn hr-btn-secondary",onClick:O,children:"Cancel"}),(0,_t.jsx)("button",{className:"hr-btn hr-btn-primary",onClick:()=>{if(!I)return void alert("Please select a reason for booking");if("others"===I&&!D.trim())return void alert("Please specify the reason");C(!1);const e={hotel:a,hotelData:s,room:l,search:r,bookingId:o,reviewData:c,fetchedBookingData:d,roomConfigs:u,guestDetailsByRoom:h,contactDetails:m,specialRequest:p,isPanRequired:v,baseFare:f,taxesAndFees:g,totalPayable:x,bookingReason:"others"===I?D:I};"personal-visit"===I?t("/hotels/payment",{state:He(He({},e),{},{paymentType:"personal"})}):t("/hotels/business-payment",{state:He(He({},e),{},{paymentType:"business"})})},children:"Continue"})]})]})}),(0,_t.jsx)("div",{className:"hr-sidebar",children:(0,_t.jsxs)("div",{className:"hr-card",children:[(0,_t.jsx)("h2",{className:"hr-section-title",children:"Pricing Summary"}),(0,_t.jsxs)("div",{className:"hr-price-row",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Base Fare:"}),(0,_t.jsxs)("span",{className:"hr-value",children:["\u20b9",f.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hr-price-row",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Taxes and Fees:"}),(0,_t.jsxs)("span",{className:"hr-value",children:["\u20b9",g.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hr-price-row hr-price-total",children:[(0,_t.jsx)("span",{className:"hr-label",children:"Total Amount Payable:"}),(0,_t.jsxs)("span",{className:"hr-value",children:["\u20b9",x.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hr-action-buttons",children:[(0,_t.jsx)("button",{className:"hr-btn hr-btn-secondary",onClick:L,disabled:b,children:"Cancel"}),(0,_t.jsx)("button",{className:"hr-btn hr-btn-primary",onClick:()=>{C(!0)},disabled:b||!o,children:b?"Processing Booking...":"Confirm & Proceed to Pay"})]})]})})]})]})})}const ml=ei("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function pl(){const e=te(),t=ae(),n=e.state||{},a=n.hotel||{},s=n.room||{},l=n.search||{},r=n.baseFare||0,o=n.taxesAndFees||0,c=n.totalPayable||0,d=n.contactDetails||{},u=n.guestDetailsByRoom||[],[h,m]=(0,i.useState)(""),[p,v]=(0,i.useState)(!1),[f,g]=(0,i.useState)(300),[x,b]=(0,i.useState)(!1),[y,N]=(0,i.useState)(!1),j=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"short",year:"numeric"})},w=(()=>{if(!l.checkin||!l.checkout)return 1;const e=new Date(l.checkin),t=new Date(l.checkout),n=Math.ceil((t-e)/864e5);return Math.max(n,1)})(),k=u.length>0&&u[0].length>0?u[0][0]:{},S=k.firstName&&k.lastName?"".concat(k.firstName," ").concat(k.lastName):"Guest Name",C=d.email||"guest@example.com",I=d.phone?"".concat(d.countryCode||"+91"," ").concat(d.phone):"+91-XXXXXXXXXX",A=o,D=c;(0,i.useEffect)(()=>{let e;return p&&f>0?e=setInterval(()=>{g(e=>e-1)},1e3):0===f&&(v(!1),g(300)),()=>clearInterval(e)},[p,f]);return(0,_t.jsxs)("div",{className:"hp-page",children:[(0,_t.jsxs)("div",{className:"hp-container",children:[(0,_t.jsxs)("div",{className:"hp-left",children:[(0,_t.jsxs)("div",{className:"hp-card",children:[(0,_t.jsxs)("div",{className:"hp-summary",children:[(0,_t.jsx)("img",{className:"hp-hotel-img",src:a.image||"/hotel-placeholder.jpg",alt:a.name}),(0,_t.jsxs)("div",{className:"hp-summary-content",children:[(0,_t.jsx)("h3",{className:"hp-hotel-name",children:a.name||"SinQ Beach Resort"}),(0,_t.jsxs)("div",{className:"hp-dates",children:[j(l.checkin)," - ",j(l.checkout)]}),(0,_t.jsxs)("div",{className:"hp-room-info",children:[l.rooms||1," Room | ",l.adults||2," Adults | ",w," Night"]})]}),(0,_t.jsxs)("button",{className:"hp-view-details",onClick:()=>b(!x),children:[x?"HIDE DETAILS":"VIEW DETAILS",(0,_t.jsx)(mt,{className:x?"hp-chevron-up":"hp-chevron-down"})]})]}),x&&(0,_t.jsx)("div",{className:"hp-booking-details",children:(0,_t.jsxs)("div",{className:"hp-details-section",children:[(0,_t.jsxs)("div",{className:"hp-details-header",children:[(0,_t.jsx)("div",{className:"hp-details-icon",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2",stroke:"#2563eb",strokeWidth:"2"}),(0,_t.jsx)("line",{x1:"16",y1:"2",x2:"16",y2:"6",stroke:"#2563eb",strokeWidth:"2"}),(0,_t.jsx)("line",{x1:"8",y1:"2",x2:"8",y2:"6",stroke:"#2563eb",strokeWidth:"2"}),(0,_t.jsx)("line",{x1:"3",y1:"10",x2:"21",y2:"10",stroke:"#2563eb",strokeWidth:"2"})]})}),(0,_t.jsxs)("div",{className:"hp-dates-row",children:[(0,_t.jsxs)("div",{className:"hp-date-item",children:[(0,_t.jsx)("div",{className:"hp-date-text",children:j(l.checkin)}),(0,_t.jsx)("div",{className:"hp-date-label",children:"Check-In"})]}),(0,_t.jsx)("div",{className:"hp-date-divider"}),(0,_t.jsxs)("div",{className:"hp-nights-badge",children:[w," Nights"]}),(0,_t.jsx)("div",{className:"hp-date-divider"}),(0,_t.jsxs)("div",{className:"hp-date-item",children:[(0,_t.jsx)("div",{className:"hp-date-text",children:j(l.checkout)}),(0,_t.jsx)("div",{className:"hp-date-label",children:"Check-Out"})]})]})]}),(0,_t.jsxs)("div",{className:"hp-room-section",children:[(0,_t.jsx)("div",{className:"hp-room-icon",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("path",{d:"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z",stroke:"#2563eb",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_t.jsx)("path",{d:"M9 22V12H15V22",stroke:"#2563eb",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,_t.jsxs)("div",{className:"hp-room-info",children:[(0,_t.jsx)("div",{className:"hp-room-name",children:s.name||"Luxe Twin Room"}),(0,_t.jsx)("div",{className:"hp-room-type",children:"Room Only"})]})]}),(0,_t.jsxs)("div",{className:"hp-contact-section",children:[(0,_t.jsx)("div",{className:"hp-contact-icon",children:(0,_t.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,_t.jsx)("path",{d:"M21 15C21 15.5304 20.7893 16.0391 20.4142 16.4142C20.0391 16.7893 19.5304 17 19 17H7L3 21V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V15Z",stroke:"#2563eb",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,_t.jsx)("div",{className:"hp-contact-text",children:"Booking details will be sent to:"})]})]})}),(0,_t.jsx)("div",{className:"hp-guest-info",children:(0,_t.jsxs)("div",{className:"hp-guest-row",children:[(0,_t.jsxs)("div",{className:"hp-guest-item",children:[(0,_t.jsx)("div",{className:"hp-guest-icon",children:(0,_t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_t.jsx)("circle",{cx:"12",cy:"7",r:"4",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,_t.jsxs)("div",{className:"hp-guest-details",children:[(0,_t.jsx)("div",{className:"hp-guest-name",children:S}),(0,_t.jsx)("div",{className:"hp-guest-primary",children:"(Primary)"})]})]}),(0,_t.jsx)("div",{className:"hp-guest-divider"}),(0,_t.jsxs)("div",{className:"hp-guest-item",children:[(0,_t.jsx)("div",{className:"hp-guest-icon",children:(0,_t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("path",{d:"M4 4H20C21.1 4 22 4.9 22 6V18C22 19.1 21.1 20 20 20H4C2.9 20 2 19.1 2 18V6C2 4.9 2.9 4 4 4Z",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,_t.jsx)("polyline",{points:"22,6 12,13 2,6",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,_t.jsx)("div",{className:"hp-guest-contact",children:C})]}),(0,_t.jsx)("div",{className:"hp-guest-divider"}),(0,_t.jsxs)("div",{className:"hp-guest-item",children:[(0,_t.jsx)("div",{className:"hp-guest-icon",children:(0,_t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,_t.jsx)("path",{d:"M22 16.92V19.92C22.0011 20.1985 21.9441 20.4742 21.8325 20.7293C21.7209 20.9845 21.5573 21.2136 21.3521 21.4019C21.1468 21.5901 20.9046 21.7335 20.6407 21.8227C20.3769 21.9119 20.0974 21.9451 19.82 21.92C16.7428 21.5856 13.787 20.5341 11.19 18.85C8.77382 17.3147 6.72533 15.2662 5.19 12.85C3.49997 10.2412 2.44824 7.27099 2.12 4.18C2.095 3.90347 2.12787 3.62476 2.21649 3.36162C2.30512 3.09849 2.44756 2.85669 2.63476 2.65162C2.82196 2.44655 3.0498 2.28271 3.30379 2.17052C3.55777 2.05833 3.83233 2.00026 4.11 2H7.11C7.59531 1.99522 8.06679 2.16708 8.43376 2.48353C8.80073 2.79999 9.04207 3.23945 9.11 3.72C9.23662 4.68007 9.47144 5.62273 9.81 6.53C9.94454 6.88792 9.97366 7.27691 9.89391 7.65088C9.81415 8.02485 9.62886 8.36811 9.36 8.64L8.09 9.91C9.51355 12.4135 11.5865 14.4864 14.09 15.91L15.36 14.64C15.6319 14.3711 15.9751 14.1858 16.3491 14.1061C16.7231 14.0263 17.1121 14.0555 17.47 14.19C18.3773 14.5286 19.3199 14.7634 20.28 14.89C20.7658 14.9585 21.2094 15.2032 21.5265 15.5755C21.8437 15.9478 22.0122 16.4226 22 16.92Z",stroke:"#6b7280",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,_t.jsx)("div",{className:"hp-guest-contact",children:I})]})]})})]}),(0,_t.jsxs)("div",{className:"hp-card",children:[(0,_t.jsx)("h3",{className:"hp-payment-title",children:"Payment Options"}),(0,_t.jsxs)("div",{className:"hp-payment-grid",children:[(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("upi"===h?"selected":""),onClick:()=>m("upi"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-upi",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"#FF6B35"}),(0,_t.jsx)("path",{d:"M2 17L12 22L22 17",stroke:"#00D4AA",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("path",{d:"M2 12L12 17L22 12",stroke:"#2563EB",strokeWidth:"2",fill:"none"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"UPI Options"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"Pay Directly From Your Bank Account"})]})]}),(0,_t.jsx)(mt,{className:"hp-arrow"})]}),(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("cards"===h?"selected":""),onClick:()=>m("cards"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-card",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2",stroke:"#2563EB",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("rect",{x:"4",y:"4",width:"4",height:"2",rx:"1",fill:"#2563EB"}),(0,_t.jsx)("rect",{x:"2",y:"10",width:"20",height:"2",fill:"#E5E7EB"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"Credit & Debit Cards"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"Visa, Mastercard, Amex, Rupay and more"})]})]}),(0,_t.jsx)(mt,{className:"hp-arrow"})]}),(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("emi"===h?"selected":""),onClick:()=>m("emi"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-emi",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("rect",{x:"2",y:"4",width:"16",height:"10",rx:"2",stroke:"#2563EB",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("text",{x:"10",y:"11",textAnchor:"middle",fontSize:"8",fill:"#2563EB",fontWeight:"bold",children:"\u20b9"}),(0,_t.jsx)("circle",{cx:"18",cy:"8",r:"3",fill:"#10B981"}),(0,_t.jsx)("path",{d:"M17 8H19M18 7V9",stroke:"white",strokeWidth:"1"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"EMI"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"Credit/Debit Card & Cardless EMI available"})]})]}),(0,_t.jsx)("div",{className:"hp-emi-tag",children:"NO COST EMI"}),(0,_t.jsx)(mt,{className:"hp-arrow"})]}),(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("netbanking"===h?"selected":""),onClick:()=>m("netbanking"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-bank",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",rx:"2",stroke:"#2563EB",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("rect",{x:"6",y:"4",width:"12",height:"4",rx:"1",fill:"#2563EB"}),(0,_t.jsx)("path",{d:"M8 12H16M8 16H16",stroke:"#2563EB",strokeWidth:"1"}),(0,_t.jsx)("path",{d:"M18 10L20 12L18 14",stroke:"#2563EB",strokeWidth:"2",fill:"none"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"Net Banking"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"40+ Banks Available"})]})]}),(0,_t.jsx)(mt,{className:"hp-arrow"})]}),(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("paylater"===h?"selected":""),onClick:()=>m("paylater"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-clock",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"#2563EB",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("path",{d:"M12 6V12L16 14",stroke:"#2563EB",strokeWidth:"2"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"Pay Later"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"Lazypay, Amazon"})]})]}),(0,_t.jsx)(mt,{className:"hp-arrow"})]}),(0,_t.jsxs)("div",{className:"hp-payment-item ".concat("wallets"===h?"selected":""),onClick:()=>m("wallets"),children:[(0,_t.jsxs)("div",{className:"hp-payment-left",children:[(0,_t.jsx)("div",{className:"hp-payment-icon hp-gift",children:(0,_t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,_t.jsx)("rect",{x:"3",y:"8",width:"18",height:"12",rx:"2",stroke:"#2563EB",strokeWidth:"2",fill:"none"}),(0,_t.jsx)("path",{d:"M12 2V8M8 4H16",stroke:"#2563EB",strokeWidth:"2"}),(0,_t.jsx)("circle",{cx:"6",cy:"6",r:"1",fill:"#2563EB"}),(0,_t.jsx)("path",{d:"M8 12H16M8 16H16",stroke:"#2563EB",strokeWidth:"1"})]})}),(0,_t.jsxs)("div",{children:[(0,_t.jsx)("div",{className:"hp-payment-name",children:"Gift Cards & e-wallets"}),(0,_t.jsx)("div",{className:"hp-payment-desc",children:"MMT Gift cards & Amazon Pay"})]})]}),(0,_t.jsx)(mt,{className:"hp-arrow"})]})]})]})]}),(0,_t.jsxs)("div",{className:"hp-right",children:[(0,_t.jsxs)("div",{className:"hp-card",children:[(0,_t.jsxs)("div",{className:"hp-total-header",children:[(0,_t.jsx)("h3",{className:"hp-total-title",children:"Total Due"}),(0,_t.jsxs)("div",{className:"hp-total-amount",children:["\u20b9",D.toLocaleString("en-IN")]})]}),(0,_t.jsxs)("div",{className:"hp-breakdown",children:[(0,_t.jsxs)("div",{className:"hp-break-row",children:[(0,_t.jsx)("span",{children:"Base Fare"}),(0,_t.jsxs)("span",{children:["\u20b9",r.toLocaleString("en-IN")]})]}),(0,_t.jsxs)("div",{className:"hp-break-row",children:[(0,_t.jsx)("span",{children:"Taxes and Fees"}),(0,_t.jsxs)("span",{children:["\u20b9",A.toLocaleString("en-IN")]})]})]})]}),(0,_t.jsxs)("div",{className:"hp-card hp-scan-card",children:[(0,_t.jsx)("h3",{className:"hp-scan-title",children:"Scan to Pay"}),(0,_t.jsx)("div",{className:"hp-scan-subtitle",children:"Instant Refund & High Success Rate"}),(0,_t.jsxs)("div",{className:"hp-qr-placeholder",children:[(0,_t.jsx)(Pt,{className:"hp-qr-icon"}),(0,_t.jsx)("div",{className:"hp-qr-overlay",children:(0,_t.jsx)("button",{className:"hp-qr-btn",onClick:()=>v(!0),children:"VIEW QR"})})]}),(0,_t.jsxs)("div",{className:"hp-upi-logos",children:[(0,_t.jsx)("img",{src:"/google-pay-icon.svg",alt:"Google Pay",className:"hp-upi-logo",onError:e=>e.target.style.display="none"}),(0,_t.jsx)("span",{className:"hp-upi-text",children:"Google Pay"}),(0,_t.jsx)("span",{className:"hp-upi-text",children:"Paytm"}),(0,_t.jsx)("span",{className:"hp-upi-text",children:"PhonePe"}),(0,_t.jsx)("span",{className:"hp-upi-text",children:"UPI"})]})]}),(0,_t.jsxs)("div",{className:"hp-card",children:[(0,_t.jsx)("button",{className:"hp-pay-button",onClick:async()=>{if(h){N(!0);try{await new Promise(e=>setTimeout(e,2e3)),t("/hotels/booking-confirmation",{state:{hotel:a,room:s,search:l,baseFare:r,taxesAndFees:o,totalPayable:c,contactDetails:d,guestDetailsByRoom:u,paymentType:"personal",paymentStatus:"success",transactionId:"TXN"+Date.now(),bookingId:n.bookingId||"HTL".concat(Date.now()),hotelData:n.hotelData,roomConfigs:n.roomConfigs,specialRequest:n.specialRequest,bookingReason:n.bookingReason}})}catch(e){console.error("Payment processing failed:",e),alert("Payment processing failed. Please try again.")}finally{N(!1)}}else alert("Please select a payment method")},disabled:!h||y,children:y?"Processing Payment...":"Pay \u20b9".concat(D.toLocaleString("en-IN"))}),(0,_t.jsx)("div",{className:"hp-pay-note",children:"By proceeding, you agree to our Terms & Conditions"})]})]})]}),p&&(0,_t.jsx)("div",{className:"hp-modal-overlay",onClick:()=>v(!1),children:(0,_t.jsxs)("div",{className:"hp-qr-modal",onClick:e=>e.stopPropagation(),children:[(0,_t.jsxs)("div",{className:"hp-modal-header",children:[(0,_t.jsx)("h3",{className:"hp-modal-title",children:"Scan QR to Pay"}),(0,_t.jsx)("button",{className:"hp-modal-close",onClick:()=>v(!1),children:(0,_t.jsx)(Ot,{})})]}),(0,_t.jsxs)("div",{className:"hp-modal-timer",children:["QR expiring in: ",(0,_t.jsx)(gt,{className:"hp-timer-icon"})," ",(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))})(f)]}),(0,_t.jsx)("div",{className:"hp-modal-instruction",children:"Scan & approve using your UPI app"}),(0,_t.jsxs)("div",{className:"hp-modal-upi-logos",children:[(0,_t.jsxs)("div",{className:"hp-modal-upi-item",children:[(0,_t.jsx)("div",{className:"hp-modal-upi-icon gpay",children:"G"}),(0,_t.jsx)("span",{children:"Google Pay"})]}),(0,_t.jsxs)("div",{className:"hp-modal-upi-item",children:[(0,_t.jsx)("div",{className:"hp-modal-upi-icon paytm",children:"P"}),(0,_t.jsx)("span",{children:"Paytm"})]}),(0,_t.jsxs)("div",{className:"hp-modal-upi-item",children:[(0,_t.jsx)("div",{className:"hp-modal-upi-icon phonepe",children:"\u092a\u0947"}),(0,_t.jsx)("span",{children:"PhonePe"})]}),(0,_t.jsxs)("div",{className:"hp-modal-upi-item",children:[(0,_t.jsx)("div",{className:"hp-modal-upi-icon upi",children:(0,_t.jsx)(ml,{size:20})}),(0,_t.jsx)("span",{children:"UPI"})]})]}),(0,_t.jsx)("div",{className:"hp-modal-qr-section",children:(0,_t.jsx)("div",{className:"hp-modal-qr-code",children:(0,_t.jsx)(Pt,{className:"hp-modal-qr-icon"})})}),(0,_t.jsxs)("div",{className:"hp-modal-footer",children:[(0,_t.jsxs)("div",{className:"hp-modal-amount",children:["\u20b9",D.toLocaleString("en-IN")," due now"]}),(0,_t.jsx)("button",{className:"hp-modal-cancel",onClick:()=>v(!1),children:"Cancel"})]})]})})]})}const vl=ei("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);function fl(){const e=te(),t=ae(),n=e.state||{},a=n.hotel||{},s=n.room||{},l=n.search||{},r=n.bookingId||null,o=n.baseFare||0,c=n.taxesAndFees||0,d=n.totalPayable||0,u=n.bookingReason||"Business Travel",h=n.contactDetails||{},m=n.guestDetailsByRoom||[],[p,v]=(0,i.useState)(600),[f,g]=(0,i.useState)(!1);(0,i.useEffect)(()=>{const e=setInterval(()=>{v(t=>t<=0?(clearInterval(e),0):t-1)},1e3);return()=>clearInterval(e)},[]);const x=e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})},b=(()=>{if(!l.checkin||!l.checkout)return 1;const e=new Date(l.checkin),t=new Date(l.checkout),n=Math.ceil((t-e)/864e5);return Math.max(n,1)})(),y=()=>{t(-1)},N=m.length>0&&m[0].length>0?m[0][0]:{},j=N.firstName&&N.lastName?"".concat(N.firstName," ").concat(N.lastName):"Guest Name",w=h.email||"N/A",k=h.phone?"".concat(h.countryCode||"+91"," ").concat(h.phone):"N/A";return(0,_t.jsx)("div",{className:"hbp-page",children:(0,_t.jsxs)("div",{className:"hbp-container",children:[(0,_t.jsxs)("div",{className:"hbp-header",children:[(0,_t.jsxs)("button",{className:"hbp-back-btn",onClick:y,children:[(0,_t.jsx)(lt,{})," Back"]}),(0,_t.jsx)("h1",{className:"hbp-title",children:"Business Payment Request"}),(0,_t.jsxs)("div",{className:"hbp-timer",children:[(0,_t.jsx)("div",{className:"hbp-timer-icon",children:(0,_t.jsx)(Fi,{size:24})}),(0,_t.jsxs)("div",{className:"hbp-timer-text",children:[(0,_t.jsx)("span",{className:"hbp-timer-label",children:"Time Remaining:"}),(0,_t.jsx)("span",{className:"hbp-timer-value ".concat(p<60?"hbp-timer-critical":""),children:(e=>{const t=Math.floor(e/60),n=e%60;return"".concat(t,":").concat(n.toString().padStart(2,"0"))})(p)})]})]})]}),(0,_t.jsxs)("div",{className:"hbp-content",children:[(0,_t.jsxs)("div",{className:"hbp-card",children:[(0,_t.jsx)("h2",{className:"hbp-section-title",children:"Booking Summary"}),(0,_t.jsxs)("div",{className:"hbp-hotel-info",children:[(0,_t.jsx)("h3",{className:"hbp-hotel-name",children:a.name||"Hotel Name"}),(0,_t.jsxs)("div",{className:"hbp-dates",children:[(0,_t.jsxs)("div",{className:"hbp-date-item",children:[(0,_t.jsx)("span",{className:"hbp-date-label",children:"Check-in:"}),(0,_t.jsx)("span",{className:"hbp-date-value",children:x(l.checkin)})]}),(0,_t.jsxs)("div",{className:"hbp-date-item",children:[(0,_t.jsx)("span",{className:"hbp-date-label",children:"Check-out:"}),(0,_t.jsx)("span",{className:"hbp-date-value",children:x(l.checkout)})]}),(0,_t.jsxs)("div",{className:"hbp-date-item",children:[(0,_t.jsx)("span",{className:"hbp-date-label",children:"Nights:"}),(0,_t.jsxs)("span",{className:"hbp-date-value",children:[b," Night(s)"]})]}),(0,_t.jsxs)("div",{className:"hbp-date-item",children:[(0,_t.jsx)("span",{className:"hbp-date-label",children:"Room:"}),(0,_t.jsx)("span",{className:"hbp-date-value",children:s.name||"Room Type"})]})]})]})]}),(0,_t.jsxs)("div",{className:"hbp-card",children:[(0,_t.jsx)("h2",{className:"hbp-section-title",children:"Travel Purpose"}),(0,_t.jsxs)("div",{className:"hbp-purpose-display",children:[(0,_t.jsx)("div",{className:"hbp-purpose-icon",children:(0,_t.jsx)(vl,{size:32})}),(0,_t.jsx)("div",{className:"hbp-purpose-text",children:(S=u,{"urgent-meeting":"Urgent Meeting","sales-visit":"Sales Visit","attend-conference":"Attend a conference",offsite:"Offsite","personal-visit":"Personal Visit"}[S]||S)})]})]}),(0,_t.jsxs)("div",{className:"hbp-card",children:[(0,_t.jsx)("h2",{className:"hbp-section-title",children:"Guest Information"}),(0,_t.jsxs)("div",{className:"hbp-info-grid",children:[(0,_t.jsxs)("div",{className:"hbp-info-item",children:[(0,_t.jsx)("span",{className:"hbp-info-label",children:"Name:"}),(0,_t.jsx)("span",{className:"hbp-info-value",children:j})]}),(0,_t.jsxs)("div",{className:"hbp-info-item",children:[(0,_t.jsx)("span",{className:"hbp-info-label",children:"Email:"}),(0,_t.jsx)("span",{className:"hbp-info-value",children:w})]}),(0,_t.jsxs)("div",{className:"hbp-info-item",children:[(0,_t.jsx)("span",{className:"hbp-info-label",children:"Phone:"}),(0,_t.jsx)("span",{className:"hbp-info-value",children:k})]})]})]}),(0,_t.jsxs)("div",{className:"hbp-card",children:[(0,_t.jsx)("h2",{className:"hbp-section-title",children:"Payment Summary"}),(0,_t.jsxs)("div",{className:"hbp-summary-card",children:[(0,_t.jsxs)("div",{className:"hbp-summary-item",children:[(0,_t.jsx)("span",{className:"hbp-summary-label",children:"Base Fare:"}),(0,_t.jsxs)("span",{className:"hbp-summary-value",children:["\u20b9",o.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hbp-summary-item",children:[(0,_t.jsx)("span",{className:"hbp-summary-label",children:"Taxes and Fees:"}),(0,_t.jsxs)("span",{className:"hbp-summary-value",children:["\u20b9",c.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hbp-summary-item hbp-summary-total",children:[(0,_t.jsx)("span",{className:"hbp-summary-label",children:"Total Amount:"}),(0,_t.jsxs)("span",{className:"hbp-summary-value",children:["\u20b9",d.toFixed(2)]})]}),(0,_t.jsxs)("div",{className:"hbp-summary-item",children:[(0,_t.jsx)("span",{className:"hbp-summary-label",children:"Payment Type:"}),(0,_t.jsx)("span",{className:"hbp-summary-value",children:"Business Payment Request"})]}),(0,_t.jsxs)("div",{className:"hbp-summary-item",children:[(0,_t.jsx)("span",{className:"hbp-summary-label",children:"Timeline:"}),(0,_t.jsx)("span",{className:"hbp-summary-value",children:"10 minutes for approval"})]})]})]}),(0,_t.jsx)("div",{className:"hbp-card",children:(0,_t.jsx)("div",{className:"hbp-terms-section",children:(0,_t.jsxs)("div",{className:"hbp-terms-checkbox",children:[(0,_t.jsx)("input",{type:"checkbox",id:"hbp-terms",required:!0}),(0,_t.jsx)("label",{htmlFor:"hbp-terms",children:"I acknowledge that this business payment request will be processed within 10 minutes and is subject to company approval policies."})]})})})]}),(0,_t.jsxs)("div",{className:"hbp-footer",children:[(0,_t.jsx)("button",{className:"hbp-btn hbp-btn-secondary",onClick:y,children:"Previous"}),(0,_t.jsx)("button",{className:"hbp-btn hbp-btn-secondary ".concat(f?"processing":""),onClick:async()=>{g(!0);try{await new Promise(e=>setTimeout(e,2e3)),t("/hotels/booking-confirmation",{state:{hotel:a,room:s,search:l,baseFare:o,taxesAndFees:c,totalPayable:d,contactDetails:h,guestDetailsByRoom:m,paymentType:"business",paymentStatus:"business_request_submitted",transactionId:"BUS"+Date.now(),bookingReason:u,bookingId:r||"HTL".concat(Date.now()),hotelData:n.hotelData,roomConfigs:n.roomConfigs,specialRequest:n.specialRequest}})}catch(e){console.error("Business payment request failed:",e),alert("Business payment request failed. Please try again.")}finally{g(!1)}},disabled:f||p<=0,children:f?"Submitting Request...":"Submit Business Payment Request"}),(0,_t.jsx)("button",{className:"hbp-btn hbp-btn-primary ".concat(f?"processing":""),onClick:async()=>{const e=document.getElementById("hbp-terms");if(e&&e.checked){g(!0);try{await new Promise(e=>setTimeout(e,2e3)),t("/hotels/booking-confirmation",{state:{hotel:a,room:s,search:l,baseFare:o,taxesAndFees:c,totalPayable:d,contactDetails:h,guestDetailsByRoom:m,paymentType:"business",paymentStatus:"success",transactionId:"BUS"+Date.now(),bookingReason:u,bookingId:r||"HTL".concat(Date.now()),hotelData:n.hotelData,roomConfigs:n.roomConfigs,specialRequest:n.specialRequest}})}catch(i){console.error("Payment processing failed:",i),alert("Payment processing failed. Please try again.")}finally{g(!1)}}else alert("Please accept the terms and conditions to proceed.")},disabled:f||p<=0,children:f?"Processing Payment...":"Pay \u20b9".concat(d.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}))})]}),p<=0&&(0,_t.jsxs)("div",{className:"hbp-timeout-notification",children:[(0,_t.jsx)("div",{className:"hbp-timeout-icon",children:(0,_t.jsx)(Fi,{size:32})}),(0,_t.jsx)("div",{className:"hbp-timeout-message",children:"Time has expired. Please refresh the page to start over."})]})]})});var S}function gl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(e)}function xl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(e)}function bl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(e)}function yl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function Nl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function jl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 12 20 22 4 22 4 12"},child:[]},{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"5"},child:[]},{tag:"line",attr:{x1:"12",y1:"22",x2:"12",y2:"7"},child:[]},{tag:"path",attr:{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"},child:[]},{tag:"path",attr:{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"},child:[]}]})(e)}function wl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(e)}function kl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(e)}function Sl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"},child:[]},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"},child:[]}]})(e)}function Cl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function Il(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Al(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(e)}function Dl(e){return Qe({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(e)}const El=()=>{var e,t;const{user:n}=$i(),[a,s]=Me(),l=ae(),[r,o]=(0,i.useState)("profile"),[c,d]=(0,i.useState)("upcoming");(0,i.useEffect)(()=>{const e=a.get("tab");o("bookings"===e?"bookings":"profile")},[a]);const u=e=>{o(e),s("bookings"===e?{tab:"bookings"}:{})},h=e=>{d(e)},[m,p]=(0,i.useState)({employeeId:"",name:"",email:"",phone:"",department:"",designation:"",gender:"",address:""});return(0,i.useEffect)(()=>{n&&p({employeeId:n.employeeId||"",name:n.name||"",email:n.email||"",phone:n.phone||"",department:n.department||"",designation:n.designation||"",gender:n.gender||"",address:n.address||""})},[n]),(0,_t.jsx)(_t.Fragment,{children:(0,_t.jsx)("div",{className:"profile-page",children:(0,_t.jsxs)("div",{className:"profile-page-container",children:[(0,_t.jsx)("div",{className:"profile-header",children:(0,_t.jsxs)("div",{className:"profile-header-content",children:[(0,_t.jsx)("button",{className:"profile-back-btn",onClick:()=>l("/"),"aria-label":"Back to search",children:(0,_t.jsx)(gl,{className:"back-icon"})}),(0,_t.jsx)("h1",{className:"profile-main-title",children:"My Profile"})]})}),(0,_t.jsxs)("div",{className:"profile-content-wrapper",children:[(0,_t.jsx)("div",{className:"profile-sidebar",children:(0,_t.jsxs)("div",{className:"profile-sidebar-nav",children:[(0,_t.jsxs)("button",{className:"profile-nav-item ".concat("profile"===r?"active":""),onClick:()=>u("profile"),children:[(0,_t.jsx)(Il,{className:"nav-icon"}),(0,_t.jsx)("span",{children:"Profile"})]}),(0,_t.jsxs)("button",{className:"profile-nav-item ".concat("bookings"===r?"active":""),onClick:()=>u("bookings"),children:[(0,_t.jsx)(xl,{className:"nav-icon"}),(0,_t.jsx)("span",{children:"My Trips"})]})]})}),(0,_t.jsxs)("div",{className:"profile-main-content",children:["profile"===r&&(0,_t.jsxs)("div",{className:"profile-tab-content",children:[(0,_t.jsxs)("div",{className:"profile-card profile-header-card",children:[(0,_t.jsx)("div",{className:"profile-avatar-wrapper",children:(0,_t.jsx)("div",{className:"profile-avatar-large",children:(null===(e=m.name)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.toUpperCase())||"U"})}),(0,_t.jsxs)("div",{className:"profile-header-info",children:[(0,_t.jsx)("h2",{className:"profile-user-name",children:m.name||"User Name"}),(0,_t.jsx)("p",{className:"profile-user-email",children:m.email||"user@example.com"})]})]}),(0,_t.jsxs)("div",{className:"profile-card",children:[(0,_t.jsx)("div",{className:"profile-card-header",children:(0,_t.jsx)("h3",{className:"profile-card-title",children:"Personal Information"})}),(0,_t.jsxs)("div",{className:"profile-info-grid",children:[(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Full Name"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.name||"-"})]}),(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Email Address"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.email||"-"})]}),(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Phone Number"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.phone||"-"})]}),(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Gender"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.gender||"-"})]}),(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Employee ID"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.employeeId||"-"})]})]})]}),(0,_t.jsxs)("div",{className:"profile-card",children:[(0,_t.jsx)("div",{className:"profile-card-header",children:(0,_t.jsx)("h3",{className:"profile-card-title",children:"Professional Information"})}),(0,_t.jsxs)("div",{className:"profile-info-grid",children:[(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Department"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.department||"-"})]}),(0,_t.jsxs)("div",{className:"profile-info-item",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Designation"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.designation||"-"})]})]})]}),(0,_t.jsxs)("div",{className:"profile-card",children:[(0,_t.jsx)("div",{className:"profile-card-header",children:(0,_t.jsx)("h3",{className:"profile-card-title",children:"Contact Information"})}),(0,_t.jsx)("div",{className:"profile-info-grid",children:(0,_t.jsxs)("div",{className:"profile-info-item full-width",children:[(0,_t.jsx)("label",{className:"profile-info-label",children:"Address"}),(0,_t.jsx)("div",{className:"profile-info-value",children:m.address||"-"})]})})]})]}),"bookings"===r&&(0,_t.jsxs)("div",{className:"profile-tab-content",children:[(0,_t.jsx)("div",{className:"bookings-header",children:(0,_t.jsx)("h2",{className:"bookings-title",children:"My Trips"})}),(0,_t.jsxs)("div",{className:"bookings-filter-tabs",children:[(0,_t.jsxs)("button",{className:"booking-filter-tab ".concat("upcoming"===c?"active":""),onClick:()=>h("upcoming"),children:[(0,_t.jsx)(yl,{className:"filter-icon"}),"Upcoming"]}),(0,_t.jsxs)("button",{className:"booking-filter-tab ".concat("cancelled"===c?"active":""),onClick:()=>h("cancelled"),children:[(0,_t.jsx)(Al,{className:"filter-icon"}),"Cancelled"]}),(0,_t.jsxs)("button",{className:"booking-filter-tab ".concat("completed"===c?"active":""),onClick:()=>h("completed"),children:[(0,_t.jsx)(bl,{className:"filter-icon"}),"Completed"]})]}),(0,_t.jsx)("div",{className:"empty-bookings",children:(0,_t.jsxs)("div",{className:"empty-bookings-content",children:[(0,_t.jsx)("div",{className:"empty-icon-wrapper",children:(0,_t.jsxs)("svg",{className:"empty-icon",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,_t.jsx)("rect",{x:"25",y:"20",width:"70",height:"80",rx:"3",stroke:"#999999",strokeWidth:"2.5",fill:"#F5F5F5"}),(0,_t.jsx)("line",{x1:"25",y1:"35",x2:"95",y2:"35",stroke:"#999999",strokeWidth:"2"}),(0,_t.jsx)("line",{x1:"35",y1:"50",x2:"85",y2:"50",stroke:"#B0B0B0",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.7"}),(0,_t.jsx)("line",{x1:"35",y1:"65",x2:"85",y2:"65",stroke:"#B0B0B0",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.7"}),(0,_t.jsx)("line",{x1:"35",y1:"80",x2:"75",y2:"80",stroke:"#B0B0B0",strokeWidth:"2.5",strokeLinecap:"round",opacity:"0.7"})]})}),(0,_t.jsxs)("h3",{className:"empty-title",children:["upcoming"===c&&"It looks like you don't have any upcoming bookings right now","cancelled"===c&&"You don't have any cancelled bookings","completed"===c&&"You don't have any completed bookings"]}),(0,_t.jsxs)("p",{className:"empty-description",children:["upcoming"===c&&"Start planning your next trip and make a booking to see it here.","cancelled"===c&&"Cancelled bookings will appear here once you have any.","completed"===c&&"Completed bookings will appear here once you have any."]}),"upcoming"===c&&(0,_t.jsx)("button",{className:"plan-trip-btn",onClick:()=>l("/"),children:"Plan a trip"})]})})]})]})]})]})})})},Pl=()=>{var e,t,n,a;const{user:s,logout:l,openLoginPopup:r}=$i(),o=ae(),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),m=(0,i.useRef)(null),p=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&d(!1),p.current&&!p.current.contains(e.target)&&h(!1)};return c||u?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[c,u]),(0,i.useEffect)(()=>{d(!1),h(!1)},[s]);const v=()=>h(!1);return(0,_t.jsxs)("div",{className:"ct-header",children:[(0,_t.jsxs)("div",{className:"ct-navbar",children:[(0,_t.jsx)("div",{className:"ct-logo-section",children:(0,_t.jsx)("img",{src:"/airlineLogo.png",alt:"Logo",className:"ct-logo-image"})}),(0,_t.jsxs)("div",{className:"ct-navbar-right desktop-only",children:[(0,_t.jsxs)("div",{className:"ct-navbar-link",children:[(0,_t.jsx)(jl,{className:"ct-navbar-icon"}),(0,_t.jsx)("span",{children:"Offers"})]}),(0,_t.jsxs)("div",{className:"ct-navbar-link",onClick:()=>o("/profile?tab=bookings"),style:{cursor:"pointer"},children:[(0,_t.jsx)(xl,{className:"ct-navbar-icon"}),(0,_t.jsx)("span",{children:"My Trips"})]}),(0,_t.jsxs)("div",{className:"ct-navbar-link",children:[(0,_t.jsx)(Cl,{className:"ct-navbar-icon"}),(0,_t.jsx)(Re,{to:"/contact",className:"ct-navbar-contact",children:"+91 91641 11114"})]}),(0,_t.jsxs)("div",{className:"ct-navbar-link",children:[(0,_t.jsx)(kl,{className:"ct-navbar-icon"}),(0,_t.jsx)(Re,{to:"/contact",className:"ct-navbar-contact",children:"info@samskruthiairlines.com"})]}),s?(0,_t.jsxs)("div",{className:"ct-navbar-link ct-user-name",ref:m,style:{position:"relative"},children:[(0,_t.jsxs)("div",{className:"ct-user-container",style:{display:"flex",alignItems:"center",gap:"10px",padding:"4px 12px",borderRadius:"18px",background:"#fff7f3",boxShadow:"0 1px 4px rgba(255,90,31,0.06)",cursor:"pointer"},onClick:()=>d(e=>!e),children:[(0,_t.jsx)("span",{className:"ct-user-avatar",children:(null===s||void 0===s||null===(e=s.name)||void 0===e?void 0:e[0])||(null===s||void 0===s||null===(t=s.email)||void 0===t?void 0:t[0])}),(0,_t.jsx)("span",{style:{fontWeight:500,fontSize:16,color:"#222",textTransform:"capitalize"},children:null===s||void 0===s?void 0:s.name})]}),c&&(0,_t.jsxs)("div",{className:"ct-user-dropdown",style:{position:"absolute",top:"100%",right:0,background:"#fff",boxShadow:"0 2px 8px rgba(0,0,0,0.15)",borderRadius:8,zIndex:1e3,minWidth:180,padding:"8px 0"},children:[(0,_t.jsxs)("button",{className:"ct-profile-btn",onClick:()=>{o("/profile"),d(!1)},style:{width:"100%",padding:"12px 16px",border:"none",background:"none",display:"flex",alignItems:"center",gap:"10px",fontSize:"14px",color:"#333",cursor:"pointer",transition:"background 0.2s"},onMouseEnter:e=>e.target.style.background="#f5f5f5",onMouseLeave:e=>e.target.style.background="none",children:[(0,_t.jsx)(Nl,{style:{fontSize:"16px"}}),"View Profile"]}),(0,_t.jsx)("div",{style:{height:"1px",background:"#e0e0e0",margin:"4px 0"}}),(0,_t.jsxs)("button",{className:"ct-logout-btn professional",onClick:l,"aria-label":"Logout",children:[(0,_t.jsx)(wl,{style:{fontSize:"16px",verticalAlign:"middle"}}),"Logout"]})]})]}):(0,_t.jsx)("button",{className:"ct-login-btn",onClick:r,children:"Log in"})]}),(0,_t.jsx)("div",{className:"mobile-menu-toggle mobile-only",children:(0,_t.jsx)("button",{className:"mobile-menu-btn",onClick:()=>h(e=>!e),children:u?(0,_t.jsx)(Dl,{}):(0,_t.jsx)(Sl,{})})})]}),u&&(0,_t.jsx)("div",{className:"mobile-menu-overlay",ref:p,children:(0,_t.jsxs)("div",{className:"mobile-menu-content",children:[(0,_t.jsxs)("div",{className:"mobile-menu-header",children:[(0,_t.jsx)("img",{src:"/airlineLogo.png",alt:"Logo",className:"mobile-logo"}),(0,_t.jsx)("button",{className:"mobile-close-btn",onClick:v,children:(0,_t.jsx)(Dl,{})})]}),(0,_t.jsxs)("div",{className:"mobile-menu-links",children:[(0,_t.jsxs)("div",{className:"mobile-navbar-link",children:[(0,_t.jsx)(jl,{className:"mobile-navbar-icon"}),(0,_t.jsx)("span",{children:"Offers"})]}),(0,_t.jsxs)("div",{className:"mobile-navbar-link",onClick:()=>{o("/profile?tab=bookings"),v()},style:{cursor:"pointer"},children:[(0,_t.jsx)(xl,{className:"mobile-navbar-icon"}),(0,_t.jsx)("span",{children:"My Trips"})]}),(0,_t.jsxs)("div",{className:"mobile-navbar-link",children:[(0,_t.jsx)(Cl,{className:"mobile-navbar-icon"}),(0,_t.jsx)(Re,{to:"/contact",className:"mobile-navbar-contact",onClick:v,children:"+91 91641 11114"})]}),(0,_t.jsxs)("div",{className:"mobile-navbar-link",children:[(0,_t.jsx)(kl,{className:"mobile-navbar-icon"}),(0,_t.jsx)(Re,{to:"/contact",className:"mobile-navbar-contact",onClick:v,children:"info@samskruthiairlines.com"})]})]}),(0,_t.jsx)("div",{className:"mobile-user-section",children:s?(0,_t.jsxs)("div",{className:"mobile-user-info",children:[(0,_t.jsx)("div",{className:"mobile-user-avatar",children:(null===s||void 0===s||null===(n=s.name)||void 0===n?void 0:n[0])||(null===s||void 0===s||null===(a=s.email)||void 0===a?void 0:a[0])}),(0,_t.jsxs)("div",{className:"mobile-user-details",children:[(0,_t.jsx)("span",{className:"mobile-user-name",children:null===s||void 0===s?void 0:s.name}),(0,_t.jsxs)("div",{className:"mobile-user-actions",children:[(0,_t.jsxs)("button",{className:"mobile-profile-btn",onClick:()=>{o("/profile"),v()},children:[(0,_t.jsx)(Nl,{})," View Profile"]}),(0,_t.jsxs)("button",{className:"mobile-logout-btn",onClick:()=>{l(),v()},children:[(0,_t.jsx)(wl,{})," Logout"]})]})]})]}):(0,_t.jsx)("button",{className:"mobile-login-btn",onClick:()=>{r(),v()},children:"Log in"})})]})}),(0,_t.jsx)("div",{className:"ct-navbar-divider"}),(0,_t.jsxs)("div",{className:"ct-nav-tabs",children:[(0,_t.jsx)(Re,{to:"/",className:e=>{let{isActive:t}=e;return"ct-nav-tab ct-nav-tab-flights".concat(t?" ct-nav-tab-active":"")},onClick:v,children:(0,_t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,_t.jsx)("img",{src:"/Navbar_flights.png",alt:"Flights",className:"ct-tab-icon-img"}),(0,_t.jsx)("span",{className:"ct-tab-icon-text",children:"Flights"})]})}),(0,_t.jsx)(Re,{to:"/hotels",className:e=>{let{isActive:t}=e;return"ct-nav-tab ct-nav-tab-hotels".concat(t?" ct-nav-tab-active":"")},onClick:v,children:(0,_t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,_t.jsx)("img",{src:"/Navbar_hotel.png",alt:"Hotels",className:"ct-tab-icon-img"}),(0,_t.jsx)("span",{className:"ct-tab-icon-text",children:"Hotels"})]})}),(0,_t.jsx)(Re,{to:"/buses",className:e=>{let{isActive:t}=e;return"ct-nav-tab ct-nav-tab-buses".concat(t?" ct-nav-tab-active":"")},onClick:v,children:(0,_t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,_t.jsx)("img",{src:"/Navbar_bus.png",alt:"Buses",className:"ct-tab-icon-img"}),(0,_t.jsx)("span",{className:"ct-tab-icon-text",children:"Buses"})]})}),(0,_t.jsx)(Re,{to:"/cabs",className:e=>{let{isActive:t}=e;return"ct-nav-tab ct-nav-tab-cabs".concat(t?" ct-nav-tab-active":"")},onClick:v,children:(0,_t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,_t.jsx)("img",{src:"/Navbar_cab.png",alt:"Cabs",className:"ct-tab-icon-img"}),(0,_t.jsx)("span",{className:"ct-tab-icon-text",children:"Cabs"})]})}),(0,_t.jsx)(Re,{to:"/visa",className:e=>{let{isActive:t}=e;return"ct-nav-tab ct-nav-tab-visa".concat(t?" ct-nav-tab-active":"")},onClick:v,children:(0,_t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,_t.jsx)("img",{src:"/Navbar_visa.png",alt:"Visa",className:"ct-tab-icon-img"}),(0,_t.jsx)("span",{className:"ct-tab-icon-text",children:"Visa"})]})})]})]})},Tl=()=>(0,_t.jsxs)("footer",{className:"footer",children:[(0,_t.jsxs)("div",{className:"footer-container",children:[(0,_t.jsxs)("div",{className:"footer-column brand",children:[(0,_t.jsxs)("h3",{children:[(0,_t.jsx)(Dt,{className:"brand-icon"})," Samskruthi"]}),(0,_t.jsx)("p",{children:"Your trusted partner for all travel bookings. Experience seamless journey planning with our comprehensive platform."}),(0,_t.jsxs)("div",{className:"social-icons",children:[(0,_t.jsx)("a",{href:"#",children:(0,_t.jsx)(at,{})}),(0,_t.jsx)("a",{href:"#",children:(0,_t.jsx)(it,{})}),(0,_t.jsx)("a",{href:"#",children:(0,_t.jsx)(st,{})})]})]}),(0,_t.jsxs)("div",{className:"footer-column",children:[(0,_t.jsx)("h4",{children:"Quick Links"}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Flights"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Hotels"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Buses"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Trains"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Car Rental"})})]})]}),(0,_t.jsxs)("div",{className:"footer-column",children:[(0,_t.jsx)("h4",{children:"Support"}),(0,_t.jsxs)("ul",{children:[(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"About Us"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Contact"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Terms & Conditions"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Privacy Policy"})}),(0,_t.jsx)("li",{children:(0,_t.jsx)("a",{href:"#",children:"Help Center"})})]})]}),(0,_t.jsxs)("div",{className:"footer-column",children:[(0,_t.jsx)("h4",{children:"Stay Updated"}),(0,_t.jsx)("p",{children:"Subscribe to our newsletter for exclusive deals and travel tips."}),(0,_t.jsxs)("div",{className:"subscribe-form",children:[(0,_t.jsx)("input",{type:"email",placeholder:"Enter your email"}),(0,_t.jsx)("button",{children:"Subscribe"})]})]})]}),(0,_t.jsx)("div",{className:"footer-bottom",children:"\xa9\ufe0f 2024 Samskruthi. All rights reserved. | Designed for seamless travel experiences."})]}),Rl=()=>{const[e,t]=(0,i.useState)(""),[n,a]=(0,i.useState)(["","","","","",""]),[s,l]=(0,i.useState)(""),[r,o]=(0,i.useState)("email"),[c,d]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),[m,p]=(0,i.useState)(0),{login:v,showLoginPopup:f}=$i(),g=(0,i.useRef)([]),x=["https://images.unsplash.com/photo-1436491865332-7a61a109cc05?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1469474968028-56623f02e42e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80","https://images.unsplash.com/photo-1501594907352-04cda38ebc29?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80"];(0,i.useEffect)(()=>{const e=setInterval(()=>{p(e=>(e+1)%x.length)},4e3);return()=>clearInterval(e)},[x.length]),(0,i.useEffect)(()=>{f&&b()},[f]);const b=()=>{t(""),a(["","","","","",""]),l(""),o("email"),h(!1),d(!1)};return f?(0,_t.jsx)("div",{className:"login-popup-overlay",children:(0,_t.jsxs)("div",{className:"login-popup-container",children:[(0,_t.jsxs)("div",{className:"login-image-section",children:[(0,_t.jsx)("div",{className:"image-slideshow",children:x.map((e,t)=>(0,_t.jsx)("img",{src:e,alt:"Travel destination ".concat(t+1),className:"slide-image ".concat(t===m?"active":"")},t))}),(0,_t.jsx)("div",{className:"image-overlay"}),(0,_t.jsxs)("div",{className:"brand-content",children:[(0,_t.jsx)("p",{className:"brand-subtitle",children:"Your gateway to the world. Experience luxury travel with our premium services."}),(0,_t.jsxs)("ul",{className:"brand-features",children:[(0,_t.jsx)("li",{children:"Premium Flight Experience"}),(0,_t.jsx)("li",{children:"World-Class Service"}),(0,_t.jsx)("li",{children:"Global Destinations"}),(0,_t.jsx)("li",{children:"24/7 Customer Support"})]})]})]}),(0,_t.jsxs)("div",{className:"login-form-section",children:[(0,_t.jsxs)("div",{className:"brand-logo",children:[(0,_t.jsx)("img",{src:"/airlineLogo.png",alt:"Samskruthi Airlines",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,_t.jsx)("img",{src:"/airlineLogo.png",alt:"Samskruthi Airlines",style:{display:"none",width:"80px",height:"80px"}})]}),(0,_t.jsxs)("div",{className:"login-form-container",children:[(0,_t.jsxs)("div",{className:"login-form-header",children:[(0,_t.jsx)("h2",{className:"login-form-title",children:"otp"===r?"Verify OTP":"success"===r?"Success!":"Welcome Back"}),(0,_t.jsx)("p",{className:"login-form-subtitle",children:"otp"===r?"Enter the 6-digit code sent to your email/phone":"success"===r?"You have been successfully logged in!":"Sign in with your email or phone number"})]}),"email"===r&&(0,_t.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),l(""),h(!1),d(!0),!e.trim())return l("Please enter your email or phone number"),void d(!1);let n={EMAIL:"",PHONE:"",CREATEDBY:101};if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))n.EMAIL=e;else{if(!/^\d{10}$/.test(e))return l("Please enter a valid email or 10-digit phone number"),void d(!1);n.PHONE=e}try{var a;console.log("Sending payload to backend:",n);const e=await fs.post("http://132.156.145.6:3400/insupd_otp",n);var s;if(200===e.status&&null!==(a=e.data)&&void 0!==a&&a.success)h(!0),o("otp"),console.log("OTP sent successfully \ud83d\ude80"),setTimeout(()=>{var e;null===(e=g.current[0])||void 0===e||e.focus()},100);else l((null===(s=e.data)||void 0===s?void 0:s.error)||"User not found"),h(!1)}catch(x){var i,r,c,u;if(console.error("OTP Error:",x),400===(null===(i=x.response)||void 0===i?void 0:i.status))l((null===(c=x.response)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.error)||"Invalid request \u2014 please check your input");else if(404===(null===(r=x.response)||void 0===r?void 0:r.status)){var m,p;l((null===(m=x.response)||void 0===m||null===(p=m.data)||void 0===p?void 0:p.error)||"Unregistered email or phone number")}else{var v,f;l((null===(v=x.response)||void 0===v||null===(f=v.data)||void 0===f?void 0:f.error)||"Something went wrong")}h(!1)}finally{d(!1)}},className:"login-form",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email or Phone Number"}),(0,_t.jsx)("input",{type:"text",id:"email",className:"form-input",value:e,onChange:e=>t(e.target.value),placeholder:"Enter your email or phone number",required:!0,disabled:c})]}),s&&(0,_t.jsx)("div",{className:"error-msg",children:s}),(0,_t.jsx)("button",{type:"submit",className:"login-submit-btn",disabled:c,children:c?"Sending...":"Continue"})]}),"otp"===r&&(0,_t.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l("");const a=n.join("");if(6===a.length)try{const t=await fs.get("http://132.156.145.6:3400/validateotp",{params:{email:e,otp:a}});t.data.success?(o("success"),console.log("\u2705 OTP Verified Successfully!"),v({email:e,name:e.includes("@")?e.split("@")[0]:e})):l(t.data.message||"Invalid OTP")}catch(r){var s,i;l((null===(s=r.response)||void 0===s||null===(i=s.data)||void 0===i?void 0:i.message)||"Something went wrong while verifying OTP")}else l("Please enter the complete 6-digit OTP")},className:"login-form",children:[(0,_t.jsxs)("div",{className:"form-group",children:[(0,_t.jsx)("label",{className:"form-label",children:"Enter OTP"}),(0,_t.jsx)("div",{className:"otp-input-container",children:n.map((e,t)=>(0,_t.jsx)("input",{ref:e=>g.current[t]=e,type:"text",className:"otp-digit-input",value:e,onChange:e=>((e,t)=>{if(!/^[0-9]?$/.test(t))return;const s=[...n];var i,l;s[e]=t,a(s),t&&e<5&&(null===(i=g.current[e+1])||void 0===i||i.focus()),!t&&e>0&&(null===(l=g.current[e-1])||void 0===l||l.focus())})(t,e.target.value),maxLength:"1",required:!0},t))})]}),s&&(0,_t.jsx)("div",{className:"error-msg",children:s}),(0,_t.jsx)("button",{type:"submit",className:"login-submit-btn",children:"Verify & Sign In"}),(0,_t.jsx)("button",{type:"button",className:"back-btn",onClick:b,children:"\u2190 Back to Email/Phone"})]}),"success"===r&&(0,_t.jsxs)("div",{className:"success-container",children:[(0,_t.jsx)("div",{className:"success-icon",children:"\u2713"}),(0,_t.jsx)("p",{className:"success-message",children:"Login successful! Redirecting..."})]}),(0,_t.jsx)("div",{className:"privacy-policy",children:(0,_t.jsx)("p",{children:"By proceeding, you agree to Samskruthi Airline's Privacy Policy, User Agreement, and T&Cs."})})]})]})]})}):null},Fl=()=>(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)("div",{className:"contact-page-modern",children:(0,_t.jsxs)("div",{className:"contact-card",children:[(0,_t.jsx)("h2",{className:"contact-title",children:"Contact Us"}),(0,_t.jsx)("p",{className:"contact-desc",children:"We are here to help you! Reach out to us via phone or email:"}),(0,_t.jsxs)("div",{className:"contact-info-group",children:[(0,_t.jsxs)("div",{className:"contact-info-item",children:[(0,_t.jsx)("strong",{children:"Phone:"})," ",(0,_t.jsx)("a",{href:"tel:+91916411114",children:"+91 91641 11114"})]}),(0,_t.jsxs)("div",{className:"contact-info-item",children:[(0,_t.jsx)("strong",{children:"Email:"})," ",(0,_t.jsx)("a",{href:"mailto:info@nefway.com",children:"info@samskruthiairlines.com"})]})]}),(0,_t.jsx)("p",{className:"contact-support",children:"Our support team will get back to you as soon as possible."})]})}),(0,_t.jsx)(qt,{}),(0,_t.jsx)(Tl,{})]}),Ol=ei("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),Ll=ei("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),Ml=ei("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);function Bl(){const e=te(),t=ae(),n=e.state||{},a=n.hotel||{},s=n.room||{},i=n.search||{},l=n.baseFare||0,r=n.taxesAndFees||0,o=n.totalPayable||0,c=n.contactDetails||{},d=n.guestDetailsByRoom||[],u=n.bookingId||"HTL".concat(Date.now()),h=n.transactionId||"TXN".concat(Date.now()),m=n.paymentType||"personal",p=n.bookingReason||"",v=n.specialRequest||"",f=(n.hotelData,n.roomConfigs,e=>{if(!e)return"";return new Date(e).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"})}),g=(()=>{if(!i.checkin||!i.checkout)return 1;const e=new Date(i.checkin),t=new Date(i.checkout),n=Math.ceil((t-e)/864e5);return Math.max(n,1)})(),x=(new Date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),b=(new Date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});return(0,_t.jsx)("div",{className:"hbc-page",children:(0,_t.jsxs)("div",{className:"hbc-container",children:[(0,_t.jsxs)("div",{className:"hbc-ticket",id:"hotel-booking-ticket",children:[(0,_t.jsxs)("div",{className:"hbc-header",children:[(0,_t.jsxs)("div",{className:"hbc-logo-section",children:[(0,_t.jsx)("img",{src:"/samskruthiairlines-icon.png",alt:"Samskruthi Airlines",className:"hbc-logo",onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,_t.jsx)("div",{className:"hbc-logo-fallback",style:{display:"none"},children:(0,_t.jsx)("div",{className:"hbc-logo-text",children:"Samskruthi"})})]}),(0,_t.jsxs)("div",{className:"hbc-header-info",children:[(0,_t.jsx)("h1",{className:"hbc-title",children:"Hotel Booking Confirmation"}),(0,_t.jsxs)("div",{className:"hbc-booking-id",children:["Booking ID: ",u]})]})]}),(0,_t.jsxs)("div",{className:"hbc-status-section",children:[(0,_t.jsx)("div",{className:"hbc-status-badge hbc-status-success",children:"\u2713 Booking Confirmed"}),(0,_t.jsxs)("div",{className:"hbc-booking-date",children:["Booked on ",x," at ",b]})]}),(0,_t.jsxs)("div",{className:"hbc-section",children:[(0,_t.jsx)("h2",{className:"hbc-section-title",children:"Hotel Details"}),(0,_t.jsxs)("div",{className:"hbc-hotel-info",children:[(0,_t.jsxs)("div",{className:"hbc-hotel-main",children:[(0,_t.jsx)("h3",{className:"hbc-hotel-name",children:a.name||"Hotel Name"}),a.image&&(0,_t.jsx)("img",{src:a.image,alt:a.name,className:"hbc-hotel-image",onError:e=>e.target.style.display="none"})]}),(0,_t.jsxs)("div",{className:"hbc-hotel-details",children:[(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Room Type:"}),(0,_t.jsx)("span",{className:"hbc-detail-value",children:s.name||"Standard Room"})]}),(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Check-in:"}),(0,_t.jsx)("span",{className:"hbc-detail-value",children:f(i.checkin)})]}),(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Check-out:"}),(0,_t.jsx)("span",{className:"hbc-detail-value",children:f(i.checkout)})]}),(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Duration:"}),(0,_t.jsxs)("span",{className:"hbc-detail-value",children:[g," Night(s)"]})]}),(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Rooms:"}),(0,_t.jsx)("span",{className:"hbc-detail-value",children:i.rooms||1})]}),(0,_t.jsxs)("div",{className:"hbc-detail-row",children:[(0,_t.jsx)("span",{className:"hbc-detail-label",children:"Guests:"}),(0,_t.jsxs)("span",{className:"hbc-detail-value",children:[i.adults||1," Adult(s), ",i.children||0," Child(ren)"]})]})]})]})]}),(0,_t.jsxs)("div",{className:"hbc-section",children:[(0,_t.jsx)("h2",{className:"hbc-section-title",children:"Guest Information"}),(()=>{const e=d.some(e=>e.some(e=>e.pan));return(0,_t.jsxs)("div",{className:"hbc-guests-grid-container",children:[(0,_t.jsxs)("div",{className:"hbc-guests-grid-header ".concat(e?"has-pan":""),children:[(0,_t.jsx)("div",{className:"hbc-grid-cell hbc-grid-header-cell",children:"Room"}),(0,_t.jsx)("div",{className:"hbc-grid-cell hbc-grid-header-cell",children:"Guest Role"}),(0,_t.jsx)("div",{className:"hbc-grid-cell hbc-grid-header-cell",children:"Name"}),e&&(0,_t.jsx)("div",{className:"hbc-grid-cell hbc-grid-header-cell",children:"PAN"})]}),d.map((t,n)=>t.map((t,a)=>{const s=0===n&&0===a;return(0,_t.jsxs)("div",{className:"hbc-guests-grid-row ".concat(e?"has-pan":""),children:[(0,_t.jsxs)("div",{className:"hbc-grid-cell",children:[(0,_t.jsx)("span",{className:"hbc-grid-label-mobile",children:"Room:"}),(0,_t.jsxs)("span",{className:"hbc-grid-value",children:["Room ",n+1]})]}),(0,_t.jsxs)("div",{className:"hbc-grid-cell",children:[(0,_t.jsx)("span",{className:"hbc-grid-label-mobile",children:"Guest Role:"}),(0,_t.jsx)("span",{className:"hbc-guest-role-badge",children:s?"Lead Guest":"Guest ".concat(a+1)})]}),(0,_t.jsxs)("div",{className:"hbc-grid-cell",children:[(0,_t.jsx)("span",{className:"hbc-grid-label-mobile",children:"Name:"}),(0,_t.jsxs)("span",{className:"hbc-grid-value",children:[t.title," ",t.firstName," ",t.lastName]})]}),e&&(0,_t.jsxs)("div",{className:"hbc-grid-cell",children:[(0,_t.jsx)("span",{className:"hbc-grid-label-mobile",children:"PAN:"}),(0,_t.jsx)("span",{className:"hbc-grid-value",children:t.pan||"N/A"})]})]},"".concat(n,"-").concat(a))}))]})})(),(0,_t.jsxs)("div",{className:"hbc-contact-info",children:[(0,_t.jsxs)("div",{className:"hbc-contact-item",children:[(0,_t.jsx)("span",{className:"hbc-contact-label",children:"Email:"}),(0,_t.jsx)("span",{className:"hbc-contact-value",children:c.email||"N/A"})]}),(0,_t.jsxs)("div",{className:"hbc-contact-item",children:[(0,_t.jsx)("span",{className:"hbc-contact-label",children:"Phone:"}),(0,_t.jsxs)("span",{className:"hbc-contact-value",children:[c.countryCode||"+91"," ",c.phone||"N/A"]})]})]})]}),(0,_t.jsxs)("div",{className:"hbc-section",children:[(0,_t.jsx)("h2",{className:"hbc-section-title",children:"Payment Information"}),(0,_t.jsxs)("div",{className:"hbc-payment-info",children:[(0,_t.jsxs)("div",{className:"hbc-payment-row",children:[(0,_t.jsx)("span",{className:"hbc-payment-label",children:"Payment Type:"}),(0,_t.jsx)("span",{className:"hbc-payment-value",children:"business"===m?"Business Payment":"Personal Payment"})]}),"business"===m&&p&&(0,_t.jsxs)("div",{className:"hbc-payment-row",children:[(0,_t.jsx)("span",{className:"hbc-payment-label",children:"Travel Purpose:"}),(0,_t.jsx)("span",{className:"hbc-payment-value",children:p})]}),(0,_t.jsxs)("div",{className:"hbc-payment-row",children:[(0,_t.jsx)("span",{className:"hbc-payment-label",children:"Transaction ID:"}),(0,_t.jsx)("span",{className:"hbc-payment-value",children:h})]}),(0,_t.jsxs)("div",{className:"hbc-payment-breakdown",children:[(0,_t.jsxs)("div",{className:"hbc-payment-item",children:[(0,_t.jsx)("span",{children:"Base Fare"}),(0,_t.jsxs)("span",{children:["\u20b9",l.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"hbc-payment-item",children:[(0,_t.jsx)("span",{children:"Taxes and Fees"}),(0,_t.jsxs)("span",{children:["\u20b9",r.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),(0,_t.jsxs)("div",{className:"hbc-payment-item hbc-payment-total",children:[(0,_t.jsx)("span",{children:"Total Amount Paid"}),(0,_t.jsxs)("span",{children:["\u20b9",o.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})]})]}),v&&(0,_t.jsxs)("div",{className:"hbc-section",children:[(0,_t.jsx)("h2",{className:"hbc-section-title",children:"Special Requests"}),(0,_t.jsx)("div",{className:"hbc-special-request",children:v})]}),(0,_t.jsxs)("div",{className:"hbc-section hbc-important-info",children:[(0,_t.jsx)("h2",{className:"hbc-section-title",children:"Important Information"}),(0,_t.jsxs)("ul",{className:"hbc-info-list",children:[(0,_t.jsx)("li",{children:"Please carry a valid ID proof at the time of check-in."}),(0,_t.jsx)("li",{children:"Check-in time is typically 2:00 PM and check-out time is 12:00 PM."}),(0,_t.jsx)("li",{children:"Early check-in and late check-out are subject to availability and may incur additional charges."}),(0,_t.jsx)("li",{children:"Booking confirmation details have been sent to your registered email address."}),(0,_t.jsx)("li",{children:"For any queries or modifications, please contact our customer support."})]})]}),(0,_t.jsxs)("div",{className:"hbc-footer",children:[(0,_t.jsx)("div",{className:"hbc-footer-text",children:"Thank you for choosing Samskruthi Airlines for your travel needs!"}),(0,_t.jsx)("div",{className:"hbc-footer-contact",children:"For support, email: support@samskruthiairlines.com | Phone: +91-1800-XXX-XXXX"})]})]}),(0,_t.jsxs)("div",{className:"hbc-actions",children:[(0,_t.jsxs)("button",{className:"hbc-btn hbc-btn-primary",onClick:()=>{window.print()},children:[(0,_t.jsx)(Ol,{size:20}),"Download Ticket"]}),(0,_t.jsxs)("button",{className:"hbc-btn hbc-btn-secondary",onClick:()=>{alert("Email confirmation will be sent to your registered email address.")},children:[(0,_t.jsx)(Ll,{size:20}),"Email Ticket"]}),(0,_t.jsxs)("button",{className:"hbc-btn hbc-btn-secondary",onClick:()=>{t("/hotels")},children:[(0,_t.jsx)(Ml,{size:20}),"Back to Home"]})]})]})})}const _l=function(){return(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Rl,{}),(0,_t.jsxs)(ye,{children:[(0,_t.jsx)(xe,{path:"/",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)(Os,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/flights/details",element:(0,_t.jsx)(Vs,{})}),(0,_t.jsx)(xe,{path:"/hotels",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)(di,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotel-results",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Di,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotels/detail/:hotelId",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Mi,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/buses",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)(Bi,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/cabs",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)(_i,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/visa",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Pl,{}),(0,_t.jsx)(zi,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/contact",element:(0,_t.jsx)(Fl,{})}),(0,_t.jsx)(xe,{path:"/profile",element:(0,_t.jsx)(El,{})}),(0,_t.jsx)(xe,{path:"booking",element:(0,_t.jsx)(rl,{})}),(0,_t.jsx)(xe,{path:"/hotels/booking",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(ul,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotels/review",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(hl,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotels/payment",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(pl,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotels/business-payment",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(fl,{}),(0,_t.jsx)(Tl,{})]})}),(0,_t.jsx)(xe,{path:"/hotels/booking-confirmation",element:(0,_t.jsxs)(_t.Fragment,{children:[(0,_t.jsx)(Bl,{}),(0,_t.jsx)(Tl,{})]})})]})]})};const zl=function(){return(0,_t.jsx)(Ki,{children:(0,_t.jsx)(_l,{})})};r.createRoot(document.getElementById("root")).render((0,_t.jsx)(i.StrictMode,{children:(0,_t.jsx)(De,{children:(0,_t.jsx)(Ki,{children:(0,_t.jsx)(zl,{})})})}))})();
//# sourceMappingURL=main.a9f85cf5.js.map